(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&a(f)}).observe(document,{childList:!0,subtree:!0});function i(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function a(o){if(o.ep)return;o.ep=!0;const u=i(o);fetch(o.href,u)}})();function cA(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var hd={exports:{}},oo={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var S_;function hA(){if(S_)return oo;S_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(a,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:r,type:a,key:f,ref:o!==void 0?o:null,props:u}}return oo.Fragment=t,oo.jsx=i,oo.jsxs=i,oo}var R_;function fA(){return R_||(R_=1,hd.exports=hA()),hd.exports}var C=fA(),fd={exports:{}},Dt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var w_;function dA(){if(w_)return Dt;w_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),b=Symbol.iterator;function S(V){return V===null||typeof V!="object"?null:(V=b&&V[b]||V["@@iterator"],typeof V=="function"?V:null)}var U={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},H=Object.assign,X={};function P(V,et,lt){this.props=V,this.context=et,this.refs=X,this.updater=lt||U}P.prototype.isReactComponent={},P.prototype.setState=function(V,et){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,et,"setState")},P.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function nt(){}nt.prototype=P.prototype;function tt(V,et,lt){this.props=V,this.context=et,this.refs=X,this.updater=lt||U}var it=tt.prototype=new nt;it.constructor=tt,H(it,P.prototype),it.isPureReactComponent=!0;var mt=Array.isArray,ht={H:null,A:null,T:null,S:null,V:null},ut=Object.prototype.hasOwnProperty;function N(V,et,lt,st,yt,Ot){return lt=Ot.ref,{$$typeof:r,type:V,key:et,ref:lt!==void 0?lt:null,props:Ot}}function R(V,et){return N(V.type,et,void 0,void 0,void 0,V.props)}function w(V){return typeof V=="object"&&V!==null&&V.$$typeof===r}function O(V){var et={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(lt){return et[lt]})}var I=/\/+/g;function k(V,et){return typeof V=="object"&&V!==null&&V.key!=null?O(""+V.key):et.toString(36)}function x(){}function _t(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(x,x):(V.status="pending",V.then(function(et){V.status==="pending"&&(V.status="fulfilled",V.value=et)},function(et){V.status==="pending"&&(V.status="rejected",V.reason=et)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function gt(V,et,lt,st,yt){var Ot=typeof V;(Ot==="undefined"||Ot==="boolean")&&(V=null);var bt=!1;if(V===null)bt=!0;else switch(Ot){case"bigint":case"string":case"number":bt=!0;break;case"object":switch(V.$$typeof){case r:case t:bt=!0;break;case E:return bt=V._init,gt(bt(V._payload),et,lt,st,yt)}}if(bt)return yt=yt(V),bt=st===""?"."+k(V,0):st,mt(yt)?(lt="",bt!=null&&(lt=bt.replace(I,"$&/")+"/"),gt(yt,et,lt,"",function(Ln){return Ln})):yt!=null&&(w(yt)&&(yt=R(yt,lt+(yt.key==null||V&&V.key===yt.key?"":(""+yt.key).replace(I,"$&/")+"/")+bt)),et.push(yt)),1;bt=0;var Le=st===""?".":st+":";if(mt(V))for(var Qt=0;Qt<V.length;Qt++)st=V[Qt],Ot=Le+k(st,Qt),bt+=gt(st,et,lt,Ot,yt);else if(Qt=S(V),typeof Qt=="function")for(V=Qt.call(V),Qt=0;!(st=V.next()).done;)st=st.value,Ot=Le+k(st,Qt++),bt+=gt(st,et,lt,Ot,yt);else if(Ot==="object"){if(typeof V.then=="function")return gt(_t(V),et,lt,st,yt);throw et=String(V),Error("Objects are not valid as a React child (found: "+(et==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":et)+"). If you meant to render a collection of children, use an array instead.")}return bt}function Q(V,et,lt){if(V==null)return V;var st=[],yt=0;return gt(V,st,"","",function(Ot){return et.call(lt,Ot,yt++)}),st}function rt(V){if(V._status===-1){var et=V._result;et=et(),et.then(function(lt){(V._status===0||V._status===-1)&&(V._status=1,V._result=lt)},function(lt){(V._status===0||V._status===-1)&&(V._status=2,V._result=lt)}),V._status===-1&&(V._status=0,V._result=et)}if(V._status===1)return V._result.default;throw V._result}var ct=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var et=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(et))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)};function jt(){}return Dt.Children={map:Q,forEach:function(V,et,lt){Q(V,function(){et.apply(this,arguments)},lt)},count:function(V){var et=0;return Q(V,function(){et++}),et},toArray:function(V){return Q(V,function(et){return et})||[]},only:function(V){if(!w(V))throw Error("React.Children.only expected to receive a single React element child.");return V}},Dt.Component=P,Dt.Fragment=i,Dt.Profiler=o,Dt.PureComponent=tt,Dt.StrictMode=a,Dt.Suspense=p,Dt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ht,Dt.__COMPILER_RUNTIME={__proto__:null,c:function(V){return ht.H.useMemoCache(V)}},Dt.cache=function(V){return function(){return V.apply(null,arguments)}},Dt.cloneElement=function(V,et,lt){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var st=H({},V.props),yt=V.key,Ot=void 0;if(et!=null)for(bt in et.ref!==void 0&&(Ot=void 0),et.key!==void 0&&(yt=""+et.key),et)!ut.call(et,bt)||bt==="key"||bt==="__self"||bt==="__source"||bt==="ref"&&et.ref===void 0||(st[bt]=et[bt]);var bt=arguments.length-2;if(bt===1)st.children=lt;else if(1<bt){for(var Le=Array(bt),Qt=0;Qt<bt;Qt++)Le[Qt]=arguments[Qt+2];st.children=Le}return N(V.type,yt,void 0,void 0,Ot,st)},Dt.createContext=function(V){return V={$$typeof:f,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:u,_context:V},V},Dt.createElement=function(V,et,lt){var st,yt={},Ot=null;if(et!=null)for(st in et.key!==void 0&&(Ot=""+et.key),et)ut.call(et,st)&&st!=="key"&&st!=="__self"&&st!=="__source"&&(yt[st]=et[st]);var bt=arguments.length-2;if(bt===1)yt.children=lt;else if(1<bt){for(var Le=Array(bt),Qt=0;Qt<bt;Qt++)Le[Qt]=arguments[Qt+2];yt.children=Le}if(V&&V.defaultProps)for(st in bt=V.defaultProps,bt)yt[st]===void 0&&(yt[st]=bt[st]);return N(V,Ot,void 0,void 0,null,yt)},Dt.createRef=function(){return{current:null}},Dt.forwardRef=function(V){return{$$typeof:m,render:V}},Dt.isValidElement=w,Dt.lazy=function(V){return{$$typeof:E,_payload:{_status:-1,_result:V},_init:rt}},Dt.memo=function(V,et){return{$$typeof:y,type:V,compare:et===void 0?null:et}},Dt.startTransition=function(V){var et=ht.T,lt={};ht.T=lt;try{var st=V(),yt=ht.S;yt!==null&&yt(lt,st),typeof st=="object"&&st!==null&&typeof st.then=="function"&&st.then(jt,ct)}catch(Ot){ct(Ot)}finally{ht.T=et}},Dt.unstable_useCacheRefresh=function(){return ht.H.useCacheRefresh()},Dt.use=function(V){return ht.H.use(V)},Dt.useActionState=function(V,et,lt){return ht.H.useActionState(V,et,lt)},Dt.useCallback=function(V,et){return ht.H.useCallback(V,et)},Dt.useContext=function(V){return ht.H.useContext(V)},Dt.useDebugValue=function(){},Dt.useDeferredValue=function(V,et){return ht.H.useDeferredValue(V,et)},Dt.useEffect=function(V,et,lt){var st=ht.H;if(typeof lt=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return st.useEffect(V,et)},Dt.useId=function(){return ht.H.useId()},Dt.useImperativeHandle=function(V,et,lt){return ht.H.useImperativeHandle(V,et,lt)},Dt.useInsertionEffect=function(V,et){return ht.H.useInsertionEffect(V,et)},Dt.useLayoutEffect=function(V,et){return ht.H.useLayoutEffect(V,et)},Dt.useMemo=function(V,et){return ht.H.useMemo(V,et)},Dt.useOptimistic=function(V,et){return ht.H.useOptimistic(V,et)},Dt.useReducer=function(V,et,lt){return ht.H.useReducer(V,et,lt)},Dt.useRef=function(V){return ht.H.useRef(V)},Dt.useState=function(V){return ht.H.useState(V)},Dt.useSyncExternalStore=function(V,et,lt){return ht.H.useSyncExternalStore(V,et,lt)},Dt.useTransition=function(){return ht.H.useTransition()},Dt.version="19.1.1",Dt}var C_;function lm(){return C_||(C_=1,fd.exports=dA()),fd.exports}var Y=lm();const Va=cA(Y);var dd={exports:{}},uo={},md={exports:{}},gd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var D_;function mA(){return D_||(D_=1,(function(r){function t(Q,rt){var ct=Q.length;Q.push(rt);t:for(;0<ct;){var jt=ct-1>>>1,V=Q[jt];if(0<o(V,rt))Q[jt]=rt,Q[ct]=V,ct=jt;else break t}}function i(Q){return Q.length===0?null:Q[0]}function a(Q){if(Q.length===0)return null;var rt=Q[0],ct=Q.pop();if(ct!==rt){Q[0]=ct;t:for(var jt=0,V=Q.length,et=V>>>1;jt<et;){var lt=2*(jt+1)-1,st=Q[lt],yt=lt+1,Ot=Q[yt];if(0>o(st,ct))yt<V&&0>o(Ot,st)?(Q[jt]=Ot,Q[yt]=ct,jt=yt):(Q[jt]=st,Q[lt]=ct,jt=lt);else if(yt<V&&0>o(Ot,ct))Q[jt]=Ot,Q[yt]=ct,jt=yt;else break t}}return rt}function o(Q,rt){var ct=Q.sortIndex-rt.sortIndex;return ct!==0?ct:Q.id-rt.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();r.unstable_now=function(){return f.now()-m}}var p=[],y=[],E=1,b=null,S=3,U=!1,H=!1,X=!1,P=!1,nt=typeof setTimeout=="function"?setTimeout:null,tt=typeof clearTimeout=="function"?clearTimeout:null,it=typeof setImmediate<"u"?setImmediate:null;function mt(Q){for(var rt=i(y);rt!==null;){if(rt.callback===null)a(y);else if(rt.startTime<=Q)a(y),rt.sortIndex=rt.expirationTime,t(p,rt);else break;rt=i(y)}}function ht(Q){if(X=!1,mt(Q),!H)if(i(p)!==null)H=!0,ut||(ut=!0,k());else{var rt=i(y);rt!==null&&gt(ht,rt.startTime-Q)}}var ut=!1,N=-1,R=5,w=-1;function O(){return P?!0:!(r.unstable_now()-w<R)}function I(){if(P=!1,ut){var Q=r.unstable_now();w=Q;var rt=!0;try{t:{H=!1,X&&(X=!1,tt(N),N=-1),U=!0;var ct=S;try{e:{for(mt(Q),b=i(p);b!==null&&!(b.expirationTime>Q&&O());){var jt=b.callback;if(typeof jt=="function"){b.callback=null,S=b.priorityLevel;var V=jt(b.expirationTime<=Q);if(Q=r.unstable_now(),typeof V=="function"){b.callback=V,mt(Q),rt=!0;break e}b===i(p)&&a(p),mt(Q)}else a(p);b=i(p)}if(b!==null)rt=!0;else{var et=i(y);et!==null&&gt(ht,et.startTime-Q),rt=!1}}break t}finally{b=null,S=ct,U=!1}rt=void 0}}finally{rt?k():ut=!1}}}var k;if(typeof it=="function")k=function(){it(I)};else if(typeof MessageChannel<"u"){var x=new MessageChannel,_t=x.port2;x.port1.onmessage=I,k=function(){_t.postMessage(null)}}else k=function(){nt(I,0)};function gt(Q,rt){N=nt(function(){Q(r.unstable_now())},rt)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(Q){Q.callback=null},r.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<Q?Math.floor(1e3/Q):5},r.unstable_getCurrentPriorityLevel=function(){return S},r.unstable_next=function(Q){switch(S){case 1:case 2:case 3:var rt=3;break;default:rt=S}var ct=S;S=rt;try{return Q()}finally{S=ct}},r.unstable_requestPaint=function(){P=!0},r.unstable_runWithPriority=function(Q,rt){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var ct=S;S=Q;try{return rt()}finally{S=ct}},r.unstable_scheduleCallback=function(Q,rt,ct){var jt=r.unstable_now();switch(typeof ct=="object"&&ct!==null?(ct=ct.delay,ct=typeof ct=="number"&&0<ct?jt+ct:jt):ct=jt,Q){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=ct+V,Q={id:E++,callback:rt,priorityLevel:Q,startTime:ct,expirationTime:V,sortIndex:-1},ct>jt?(Q.sortIndex=ct,t(y,Q),i(p)===null&&Q===i(y)&&(X?(tt(N),N=-1):X=!0,gt(ht,ct-jt))):(Q.sortIndex=V,t(p,Q),H||U||(H=!0,ut||(ut=!0,k()))),Q},r.unstable_shouldYield=O,r.unstable_wrapCallback=function(Q){var rt=S;return function(){var ct=S;S=rt;try{return Q.apply(this,arguments)}finally{S=ct}}}})(gd)),gd}var N_;function gA(){return N_||(N_=1,md.exports=mA()),md.exports}var pd={exports:{}},Ye={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var x_;function pA(){if(x_)return Ye;x_=1;var r=lm();function t(p){var y="https://react.dev/errors/"+p;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)y+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,y,E){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:b==null?null:""+b,children:p,containerInfo:y,implementation:E}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,y){if(p==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Ye.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Ye.createPortal=function(p,y){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(t(299));return u(p,y,null,E)},Ye.flushSync=function(p){var y=f.T,E=a.p;try{if(f.T=null,a.p=2,p)return p()}finally{f.T=y,a.p=E,a.d.f()}},Ye.preconnect=function(p,y){typeof p=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,a.d.C(p,y))},Ye.prefetchDNS=function(p){typeof p=="string"&&a.d.D(p)},Ye.preinit=function(p,y){if(typeof p=="string"&&y&&typeof y.as=="string"){var E=y.as,b=m(E,y.crossOrigin),S=typeof y.integrity=="string"?y.integrity:void 0,U=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;E==="style"?a.d.S(p,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:b,integrity:S,fetchPriority:U}):E==="script"&&a.d.X(p,{crossOrigin:b,integrity:S,fetchPriority:U,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Ye.preinitModule=function(p,y){if(typeof p=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var E=m(y.as,y.crossOrigin);a.d.M(p,{crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&a.d.M(p)},Ye.preload=function(p,y){if(typeof p=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var E=y.as,b=m(E,y.crossOrigin);a.d.L(p,E,{crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Ye.preloadModule=function(p,y){if(typeof p=="string")if(y){var E=m(y.as,y.crossOrigin);a.d.m(p,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else a.d.m(p)},Ye.requestFormReset=function(p){a.d.r(p)},Ye.unstable_batchedUpdates=function(p,y){return p(y)},Ye.useFormState=function(p,y,E){return f.H.useFormState(p,y,E)},Ye.useFormStatus=function(){return f.H.useHostTransitionStatus()},Ye.version="19.1.1",Ye}var I_;function yA(){if(I_)return pd.exports;I_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),pd.exports=pA(),pd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var V_;function _A(){if(V_)return uo;V_=1;var r=gA(),t=lm(),i=yA();function a(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var n=e,s=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(s=n.return),e=n.return;while(e)}return n.tag===3?s:null}function f(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function m(e){if(u(e)!==e)throw Error(a(188))}function p(e){var n=e.alternate;if(!n){if(n=u(e),n===null)throw Error(a(188));return n!==e?null:e}for(var s=e,l=n;;){var h=s.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){s=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===s)return m(h),e;if(d===l)return m(h),n;d=d.sibling}throw Error(a(188))}if(s.return!==l.return)s=h,l=d;else{for(var v=!1,T=h.child;T;){if(T===s){v=!0,s=h,l=d;break}if(T===l){v=!0,l=h,s=d;break}T=T.sibling}if(!v){for(T=d.child;T;){if(T===s){v=!0,s=d,l=h;break}if(T===l){v=!0,l=d,s=h;break}T=T.sibling}if(!v)throw Error(a(189))}}if(s.alternate!==l)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?e:n}function y(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=y(e),n!==null)return n;e=e.sibling}return null}var E=Object.assign,b=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),U=Symbol.for("react.portal"),H=Symbol.for("react.fragment"),X=Symbol.for("react.strict_mode"),P=Symbol.for("react.profiler"),nt=Symbol.for("react.provider"),tt=Symbol.for("react.consumer"),it=Symbol.for("react.context"),mt=Symbol.for("react.forward_ref"),ht=Symbol.for("react.suspense"),ut=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),I=Symbol.iterator;function k(e){return e===null||typeof e!="object"?null:(e=I&&e[I]||e["@@iterator"],typeof e=="function"?e:null)}var x=Symbol.for("react.client.reference");function _t(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===x?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case H:return"Fragment";case P:return"Profiler";case X:return"StrictMode";case ht:return"Suspense";case ut:return"SuspenseList";case w:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case U:return"Portal";case it:return(e.displayName||"Context")+".Provider";case tt:return(e._context.displayName||"Context")+".Consumer";case mt:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case N:return n=e.displayName||null,n!==null?n:_t(e.type)||"Memo";case R:n=e._payload,e=e._init;try{return _t(e(n))}catch{}}return null}var gt=Array.isArray,Q=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,rt=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ct={pending:!1,data:null,method:null,action:null},jt=[],V=-1;function et(e){return{current:e}}function lt(e){0>V||(e.current=jt[V],jt[V]=null,V--)}function st(e,n){V++,jt[V]=e.current,e.current=n}var yt=et(null),Ot=et(null),bt=et(null),Le=et(null);function Qt(e,n){switch(st(bt,n),st(Ot,e),st(yt,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?Jy(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=Jy(n),e=Wy(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}lt(yt),st(yt,e)}function Ln(){lt(yt),lt(Ot),lt(bt)}function nl(e){e.memoizedState!==null&&st(Le,e);var n=yt.current,s=Wy(n,e.type);n!==s&&(st(Ot,e),st(yt,s))}function Fa(e){Ot.current===e&&(lt(yt),lt(Ot)),Le.current===e&&(lt(Le),io._currentValue=ct)}var Ga=Object.prototype.hasOwnProperty,Qr=r.unstable_scheduleCallback,Qa=r.unstable_cancelCallback,hh=r.unstable_shouldYield,il=r.unstable_requestPaint,an=r.unstable_now,qo=r.unstable_getCurrentPriorityLevel,Re=r.unstable_ImmediatePriority,xe=r.unstable_UserBlockingPriority,vi=r.unstable_NormalPriority,fh=r.unstable_LowPriority,rl=r.unstable_IdlePriority,dh=r.log,Yr=r.unstable_setDisableYieldValue,Qi=null,Fe=null;function Tn(e){if(typeof dh=="function"&&Yr(e),Fe&&typeof Fe.setStrictMode=="function")try{Fe.setStrictMode(Qi,e)}catch{}}var Ze=Math.clz32?Math.clz32:Fo,mh=Math.log,Ho=Math.LN2;function Fo(e){return e>>>=0,e===0?32:31-(mh(e)/Ho|0)|0}var Zn=256,Yi=4194304;function Pn(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function An(e,n,s){var l=e.pendingLanes;if(l===0)return 0;var h=0,d=e.suspendedLanes,v=e.pingedLanes;e=e.warmLanes;var T=l&134217727;return T!==0?(l=T&~d,l!==0?h=Pn(l):(v&=T,v!==0?h=Pn(v):s||(s=T&~e,s!==0&&(h=Pn(s))))):(T=l&~d,T!==0?h=Pn(T):v!==0?h=Pn(v):s||(s=l&~e,s!==0&&(h=Pn(s)))),h===0?0:n!==0&&n!==h&&(n&d)===0&&(d=h&-h,s=n&-n,d>=s||d===32&&(s&4194048)!==0)?n:h}function Xi(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Ya(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function al(){var e=Zn;return Zn<<=1,(Zn&4194048)===0&&(Zn=256),e}function Ki(){var e=Yi;return Yi<<=1,(Yi&62914560)===0&&(Yi=4194304),e}function Xa(e){for(var n=[],s=0;31>s;s++)n.push(e);return n}function fe(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Go(e,n,s,l,h,d){var v=e.pendingLanes;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=s,e.entangledLanes&=s,e.errorRecoveryDisabledLanes&=s,e.shellSuspendCounter=0;var T=e.entanglements,D=e.expirationTimes,z=e.hiddenUpdates;for(s=v&~s;0<s;){var K=31-Ze(s),J=1<<K;T[K]=0,D[K]=-1;var q=z[K];if(q!==null)for(z[K]=null,K=0;K<q.length;K++){var F=q[K];F!==null&&(F.lane&=-536870913)}s&=~J}l!==0&&$i(e,l,0),d!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=d&~(v&~n))}function $i(e,n,s){e.pendingLanes|=n,e.suspendedLanes&=~n;var l=31-Ze(n);e.entangledLanes|=n,e.entanglements[l]=e.entanglements[l]|1073741824|s&4194090}function Zi(e,n){var s=e.entangledLanes|=n;for(e=e.entanglements;s;){var l=31-Ze(s),h=1<<l;h&n|e[l]&n&&(e[l]|=n),s&=~h}}function sl(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function ll(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Ei(){var e=rt.p;return e!==0?e:(e=window.event,e===void 0?32:__(e.type))}function gh(e,n){var s=rt.p;try{return rt.p=e,n()}finally{rt.p=s}}var Jn=Math.random().toString(36).slice(2),de="__reactFiber$"+Jn,Pe="__reactProps$"+Jn,Ti="__reactContainer$"+Jn,Xr="__reactEvents$"+Jn,Kr="__reactListeners$"+Jn,ph="__reactHandles$"+Jn,kn="__reactResources$"+Jn,Ji="__reactMarker$"+Jn;function Ka(e){delete e[de],delete e[Pe],delete e[Xr],delete e[Kr],delete e[ph]}function Wn(e){var n=e[de];if(n)return n;for(var s=e.parentNode;s;){if(n=s[Ti]||s[de]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(e=i_(e);e!==null;){if(s=e[de])return s;e=i_(e)}return n}e=s,s=e.parentNode}return null}function ti(e){if(e=e[de]||e[Ti]){var n=e.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return e}return null}function Wi(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(a(33))}function tr(e){var n=e[kn];return n||(n=e[kn]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function me(e){e[Ji]=!0}var Qo=new Set,$r={};function ei(e,n){ni(e,n),ni(e+"Capture",n)}function ni(e,n){for($r[e]=n,e=0;e<n.length;e++)Qo.add(n[e])}var Zr=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ii={},$a={};function yh(e){return Ga.call($a,e)?!0:Ga.call(ii,e)?!1:Zr.test(e)?$a[e]=!0:(ii[e]=!0,!1)}function Jr(e,n,s){if(yh(n))if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+s)}}function Wr(e,n,s){if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+s)}}function bn(e,n,s,l){if(l===null)e.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttributeNS(n,s,""+l)}}var ta,Za;function Ai(e){if(ta===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);ta=n&&n[1]||"",Za=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ta+e+Za}var Ja=!1;function Wa(e,n){if(!e||Ja)return"";Ja=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var J=function(){throw Error()};if(Object.defineProperty(J.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(J,[])}catch(F){var q=F}Reflect.construct(e,[],J)}else{try{J.call()}catch(F){q=F}e.call(J.prototype)}}else{try{throw Error()}catch(F){q=F}(J=e())&&typeof J.catch=="function"&&J.catch(function(){})}}catch(F){if(F&&q&&typeof F.stack=="string")return[F.stack,q.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),v=d[0],T=d[1];if(v&&T){var D=v.split(`
`),z=T.split(`
`);for(h=l=0;l<D.length&&!D[l].includes("DetermineComponentFrameRoot");)l++;for(;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;if(l===D.length||h===z.length)for(l=D.length-1,h=z.length-1;1<=l&&0<=h&&D[l]!==z[h];)h--;for(;1<=l&&0<=h;l--,h--)if(D[l]!==z[h]){if(l!==1||h!==1)do if(l--,h--,0>h||D[l]!==z[h]){var K=`
`+D[l].replace(" at new "," at ");return e.displayName&&K.includes("<anonymous>")&&(K=K.replace("<anonymous>",e.displayName)),K}while(1<=l&&0<=h);break}}}finally{Ja=!1,Error.prepareStackTrace=s}return(s=e?e.displayName||e.name:"")?Ai(s):""}function _h(e){switch(e.tag){case 26:case 27:case 5:return Ai(e.type);case 16:return Ai("Lazy");case 13:return Ai("Suspense");case 19:return Ai("SuspenseList");case 0:case 15:return Wa(e.type,!1);case 11:return Wa(e.type.render,!1);case 1:return Wa(e.type,!0);case 31:return Ai("Activity");default:return""}}function jn(e){try{var n="";do n+=_h(e),e=e.return;while(e);return n}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}function ae(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function er(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function ea(e){var n=er(e)?"checked":"value",s=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),l=""+e[n];if(!e.hasOwnProperty(n)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var h=s.get,d=s.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(v){l=""+v,d.call(this,v)}}),Object.defineProperty(e,n,{enumerable:s.enumerable}),{getValue:function(){return l},setValue:function(v){l=""+v},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function nr(e){e._valueTracker||(e._valueTracker=ea(e))}function Yt(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var s=n.getValue(),l="";return e&&(l=er(e)?e.checked?"true":"false":e.value),e=l,e!==s?(n.setValue(e),!0):!1}function bi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var na=/[\n"\\]/g;function Ie(e){return e.replace(na,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function ol(e,n,s,l,h,d,v,T){e.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?e.type=v:e.removeAttribute("type"),n!=null?v==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+ae(n)):e.value!==""+ae(n)&&(e.value=""+ae(n)):v!=="submit"&&v!=="reset"||e.removeAttribute("value"),n!=null?cl(e,v,ae(n)):s!=null?cl(e,v,ae(s)):l!=null&&e.removeAttribute("value"),h==null&&d!=null&&(e.defaultChecked=!!d),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?e.name=""+ae(T):e.removeAttribute("name")}function ul(e,n,s,l,h,d,v,T){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),n!=null||s!=null){if(!(d!=="submit"&&d!=="reset"||n!=null))return;s=s!=null?""+ae(s):"",n=n!=null?""+ae(n):s,T||n===e.value||(e.value=n),e.defaultValue=n}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=T?e.checked:!!l,e.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(e.name=v)}function cl(e,n,s){n==="number"&&bi(e.ownerDocument)===e||e.defaultValue===""+s||(e.defaultValue=""+s)}function ir(e,n,s,l){if(e=e.options,n){n={};for(var h=0;h<s.length;h++)n["$"+s[h]]=!0;for(s=0;s<e.length;s++)h=n.hasOwnProperty("$"+e[s].value),e[s].selected!==h&&(e[s].selected=h),h&&l&&(e[s].defaultSelected=!0)}else{for(s=""+ae(s),n=null,h=0;h<e.length;h++){if(e[h].value===s){e[h].selected=!0,l&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function Yo(e,n,s){if(n!=null&&(n=""+ae(n),n!==e.value&&(e.value=n),s==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=s!=null?""+ae(s):""}function Xo(e,n,s,l){if(n==null){if(l!=null){if(s!=null)throw Error(a(92));if(gt(l)){if(1<l.length)throw Error(a(93));l=l[0]}s=l}s==null&&(s=""),n=s}s=ae(n),e.defaultValue=s,l=e.textContent,l===s&&l!==""&&l!==null&&(e.value=l)}function Sn(e,n){if(n){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=n;return}}e.textContent=n}var Si=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function hl(e,n,s){var l=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?l?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":l?e.setProperty(n,s):typeof s!="number"||s===0||Si.has(n)?n==="float"?e.cssFloat=s:e[n]=(""+s).trim():e[n]=s+"px"}function fl(e,n,s){if(n!=null&&typeof n!="object")throw Error(a(62));if(e=e.style,s!=null){for(var l in s)!s.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var h in n)l=n[h],n.hasOwnProperty(h)&&s[h]!==l&&hl(e,h,l)}else for(var d in n)n.hasOwnProperty(d)&&hl(e,d,n[d])}function ts(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ko=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),$o=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Bn(e){return $o.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var dl=null;function ml(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var rr=null,Je=null;function Zo(e){var n=ti(e);if(n&&(e=n.stateNode)){var s=e[Pe]||null;t:switch(e=n.stateNode,n.type){case"input":if(ol(e,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+Ie(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var l=s[n];if(l!==e&&l.form===e.form){var h=l[Pe]||null;if(!h)throw Error(a(90));ol(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<s.length;n++)l=s[n],l.form===e.form&&Yt(l)}break t;case"textarea":Yo(e,s.value,s.defaultValue);break t;case"select":n=s.value,n!=null&&ir(e,!!s.multiple,n,!1)}}}var ia=!1;function ra(e,n,s){if(ia)return e(n,s);ia=!0;try{var l=e(n);return l}finally{if(ia=!1,(rr!==null||Je!==null)&&(Bu(),rr&&(n=rr,e=Je,Je=rr=null,Zo(n),e)))for(n=0;n<e.length;n++)Zo(e[n])}}function ar(e,n){var s=e.stateNode;if(s===null)return null;var l=s[Pe]||null;if(l===null)return null;s=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break t;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(a(231,n,typeof s));return s}var We=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ri=!1;if(We)try{var sr={};Object.defineProperty(sr,"passive",{get:function(){Ri=!0}}),window.addEventListener("test",sr,sr),window.removeEventListener("test",sr,sr)}catch{Ri=!1}var Rn=null,Jt=null,es=null;function Jo(){if(es)return es;var e,n=Jt,s=n.length,l,h="value"in Rn?Rn.value:Rn.textContent,d=h.length;for(e=0;e<s&&n[e]===h[e];e++);var v=s-e;for(l=1;l<=v&&n[s-l]===h[d-l];l++);return es=h.slice(e,1<l?1-l:void 0)}function aa(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function sa(){return!0}function gl(){return!1}function we(e){function n(s,l,h,d,v){this._reactName=s,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var T in e)e.hasOwnProperty(T)&&(s=e[T],this[T]=s?s(d):d[T]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?sa:gl,this.isPropagationStopped=gl,this}return E(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=sa)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=sa)},persist:function(){},isPersistent:sa}),n}var Ge={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},la=we(Ge),oa=E({},Ge,{view:0,detail:0}),ua=we(oa),ns,ca,ri,ha=E({},oa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:as,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ri&&(ri&&e.type==="mousemove"?(ns=e.screenX-ri.screenX,ca=e.screenY-ri.screenY):ca=ns=0,ri=e),ns)},movementY:function(e){return"movementY"in e?e.movementY:ca}}),fa=we(ha),vh=E({},ha,{dataTransfer:0}),Wo=we(vh),da=E({},oa,{relatedTarget:0}),is=we(da),tu=E({},Ge,{animationName:0,elapsedTime:0,pseudoElement:0}),pl=we(tu),yl=E({},Ge,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),eu=we(yl),rs=E({},Ge,{data:0}),_l=we(rs),nu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wi={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},iu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ru(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=iu[e])?!!n[e]:!1}function as(){return ru}var au=E({},oa,{key:function(e){if(e.key){var n=nu[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=aa(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?wi[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:as,charCode:function(e){return e.type==="keypress"?aa(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?aa(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),ss=we(au),tn=E({},ha,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),vl=we(tn),su=E({},oa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:as}),lr=we(su),c=E({},Ge,{propertyName:0,elapsedTime:0,pseudoElement:0}),g=we(c),_=E({},ha,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),A=we(_),B=E({},Ge,{newState:0,oldState:0}),G=we(B),at=[9,13,27,32],wt=We&&"CompositionEvent"in window,ee=null;We&&"documentMode"in document&&(ee=document.documentMode);var Ht=We&&"TextEvent"in window&&!ee,ge=We&&(!wt||ee&&8<ee&&11>=ee),hn=" ",ai=!1;function zn(e,n){switch(e){case"keyup":return at.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function qn(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Hn=!1;function El(e,n){switch(e){case"compositionend":return qn(n);case"keypress":return n.which!==32?null:(ai=!0,hn);case"textInput":return e=n.data,e===hn&&ai?null:e;default:return null}}function P1(e,n){if(Hn)return e==="compositionend"||!wt&&zn(e,n)?(e=Jo(),es=Jt=Rn=null,Hn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return ge&&n.locale!=="ko"?null:n.data;default:return null}}var k1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function fg(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!k1[e.type]:n==="textarea"}function dg(e,n,s,l){rr?Je?Je.push(l):Je=[l]:rr=l,n=Qu(n,"onChange"),0<n.length&&(s=new la("onChange","change",null,s,l),e.push({event:s,listeners:n}))}var Tl=null,Al=null;function j1(e){Yy(e,0)}function lu(e){var n=Wi(e);if(Yt(n))return e}function mg(e,n){if(e==="change")return n}var gg=!1;if(We){var Eh;if(We){var Th="oninput"in document;if(!Th){var pg=document.createElement("div");pg.setAttribute("oninput","return;"),Th=typeof pg.oninput=="function"}Eh=Th}else Eh=!1;gg=Eh&&(!document.documentMode||9<document.documentMode)}function yg(){Tl&&(Tl.detachEvent("onpropertychange",_g),Al=Tl=null)}function _g(e){if(e.propertyName==="value"&&lu(Al)){var n=[];dg(n,Al,e,ml(e)),ra(j1,n)}}function B1(e,n,s){e==="focusin"?(yg(),Tl=n,Al=s,Tl.attachEvent("onpropertychange",_g)):e==="focusout"&&yg()}function z1(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return lu(Al)}function q1(e,n){if(e==="click")return lu(n)}function H1(e,n){if(e==="input"||e==="change")return lu(n)}function F1(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var fn=typeof Object.is=="function"?Object.is:F1;function bl(e,n){if(fn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var s=Object.keys(e),l=Object.keys(n);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var h=s[l];if(!Ga.call(n,h)||!fn(e[h],n[h]))return!1}return!0}function vg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Eg(e,n){var s=vg(e);e=0;for(var l;s;){if(s.nodeType===3){if(l=e+s.textContent.length,e<=n&&l>=n)return{node:s,offset:n-e};e=l}t:{for(;s;){if(s.nextSibling){s=s.nextSibling;break t}s=s.parentNode}s=void 0}s=vg(s)}}function Tg(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Tg(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Ag(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=bi(e.document);n instanceof e.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)e=n.contentWindow;else break;n=bi(e.document)}return n}function Ah(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var G1=We&&"documentMode"in document&&11>=document.documentMode,ls=null,bh=null,Sl=null,Sh=!1;function bg(e,n,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Sh||ls==null||ls!==bi(l)||(l=ls,"selectionStart"in l&&Ah(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Sl&&bl(Sl,l)||(Sl=l,l=Qu(bh,"onSelect"),0<l.length&&(n=new la("onSelect","select",null,n,s),e.push({event:n,listeners:l}),n.target=ls)))}function ma(e,n){var s={};return s[e.toLowerCase()]=n.toLowerCase(),s["Webkit"+e]="webkit"+n,s["Moz"+e]="moz"+n,s}var os={animationend:ma("Animation","AnimationEnd"),animationiteration:ma("Animation","AnimationIteration"),animationstart:ma("Animation","AnimationStart"),transitionrun:ma("Transition","TransitionRun"),transitionstart:ma("Transition","TransitionStart"),transitioncancel:ma("Transition","TransitionCancel"),transitionend:ma("Transition","TransitionEnd")},Rh={},Sg={};We&&(Sg=document.createElement("div").style,"AnimationEvent"in window||(delete os.animationend.animation,delete os.animationiteration.animation,delete os.animationstart.animation),"TransitionEvent"in window||delete os.transitionend.transition);function ga(e){if(Rh[e])return Rh[e];if(!os[e])return e;var n=os[e],s;for(s in n)if(n.hasOwnProperty(s)&&s in Sg)return Rh[e]=n[s];return e}var Rg=ga("animationend"),wg=ga("animationiteration"),Cg=ga("animationstart"),Q1=ga("transitionrun"),Y1=ga("transitionstart"),X1=ga("transitioncancel"),Dg=ga("transitionend"),Ng=new Map,wh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");wh.push("scrollEnd");function Fn(e,n){Ng.set(e,n),ei(n,[e])}var xg=new WeakMap;function wn(e,n){if(typeof e=="object"&&e!==null){var s=xg.get(e);return s!==void 0?s:(n={value:e,source:n,stack:jn(n)},xg.set(e,n),n)}return{value:e,source:n,stack:jn(n)}}var Cn=[],us=0,Ch=0;function ou(){for(var e=us,n=Ch=us=0;n<e;){var s=Cn[n];Cn[n++]=null;var l=Cn[n];Cn[n++]=null;var h=Cn[n];Cn[n++]=null;var d=Cn[n];if(Cn[n++]=null,l!==null&&h!==null){var v=l.pending;v===null?h.next=h:(h.next=v.next,v.next=h),l.pending=h}d!==0&&Ig(s,h,d)}}function uu(e,n,s,l){Cn[us++]=e,Cn[us++]=n,Cn[us++]=s,Cn[us++]=l,Ch|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function Dh(e,n,s,l){return uu(e,n,s,l),cu(e)}function cs(e,n){return uu(e,null,null,n),cu(e)}function Ig(e,n,s){e.lanes|=s;var l=e.alternate;l!==null&&(l.lanes|=s);for(var h=!1,d=e.return;d!==null;)d.childLanes|=s,l=d.alternate,l!==null&&(l.childLanes|=s),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(h=!0)),e=d,d=d.return;return e.tag===3?(d=e.stateNode,h&&n!==null&&(h=31-Ze(s),e=d.hiddenUpdates,l=e[h],l===null?e[h]=[n]:l.push(n),n.lane=s|536870912),d):null}function cu(e){if(50<Kl)throw Kl=0,Uf=null,Error(a(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var hs={};function K1(e,n,s,l){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function dn(e,n,s,l){return new K1(e,n,s,l)}function Nh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ci(e,n){var s=e.alternate;return s===null?(s=dn(e.tag,n,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=n,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&65011712,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,n=e.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s.refCleanup=e.refCleanup,s}function Vg(e,n){e.flags&=65011714;var s=e.alternate;return s===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=s.childLanes,e.lanes=s.lanes,e.child=s.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=s.memoizedProps,e.memoizedState=s.memoizedState,e.updateQueue=s.updateQueue,e.type=s.type,n=s.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function hu(e,n,s,l,h,d){var v=0;if(l=e,typeof e=="function")Nh(e)&&(v=1);else if(typeof e=="string")v=ZT(e,s,yt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case w:return e=dn(31,s,n,h),e.elementType=w,e.lanes=d,e;case H:return pa(s.children,h,d,n);case X:v=8,h|=24;break;case P:return e=dn(12,s,n,h|2),e.elementType=P,e.lanes=d,e;case ht:return e=dn(13,s,n,h),e.elementType=ht,e.lanes=d,e;case ut:return e=dn(19,s,n,h),e.elementType=ut,e.lanes=d,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case nt:case it:v=10;break t;case tt:v=9;break t;case mt:v=11;break t;case N:v=14;break t;case R:v=16,l=null;break t}v=29,s=Error(a(130,e===null?"null":typeof e,"")),l=null}return n=dn(v,s,n,h),n.elementType=e,n.type=l,n.lanes=d,n}function pa(e,n,s,l){return e=dn(7,e,l,n),e.lanes=s,e}function xh(e,n,s){return e=dn(6,e,null,n),e.lanes=s,e}function Ih(e,n,s){return n=dn(4,e.children!==null?e.children:[],e.key,n),n.lanes=s,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var fs=[],ds=0,fu=null,du=0,Dn=[],Nn=0,ya=null,Di=1,Ni="";function _a(e,n){fs[ds++]=du,fs[ds++]=fu,fu=e,du=n}function Og(e,n,s){Dn[Nn++]=Di,Dn[Nn++]=Ni,Dn[Nn++]=ya,ya=e;var l=Di;e=Ni;var h=32-Ze(l)-1;l&=~(1<<h),s+=1;var d=32-Ze(n)+h;if(30<d){var v=h-h%5;d=(l&(1<<v)-1).toString(32),l>>=v,h-=v,Di=1<<32-Ze(n)+h|s<<h|l,Ni=d+e}else Di=1<<d|s<<h|l,Ni=e}function Vh(e){e.return!==null&&(_a(e,1),Og(e,1,0))}function Oh(e){for(;e===fu;)fu=fs[--ds],fs[ds]=null,du=fs[--ds],fs[ds]=null;for(;e===ya;)ya=Dn[--Nn],Dn[Nn]=null,Ni=Dn[--Nn],Dn[Nn]=null,Di=Dn[--Nn],Dn[Nn]=null}var en=null,oe=null,zt=!1,va=null,si=!1,Mh=Error(a(519));function Ea(e){var n=Error(a(418,""));throw Cl(wn(n,e)),Mh}function Mg(e){var n=e.stateNode,s=e.type,l=e.memoizedProps;switch(n[de]=e,n[Pe]=l,s){case"dialog":Vt("cancel",n),Vt("close",n);break;case"iframe":case"object":case"embed":Vt("load",n);break;case"video":case"audio":for(s=0;s<Zl.length;s++)Vt(Zl[s],n);break;case"source":Vt("error",n);break;case"img":case"image":case"link":Vt("error",n),Vt("load",n);break;case"details":Vt("toggle",n);break;case"input":Vt("invalid",n),ul(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),nr(n);break;case"select":Vt("invalid",n);break;case"textarea":Vt("invalid",n),Xo(n,l.value,l.defaultValue,l.children),nr(n)}s=l.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||l.suppressHydrationWarning===!0||Zy(n.textContent,s)?(l.popover!=null&&(Vt("beforetoggle",n),Vt("toggle",n)),l.onScroll!=null&&Vt("scroll",n),l.onScrollEnd!=null&&Vt("scrollend",n),l.onClick!=null&&(n.onclick=Yu),n=!0):n=!1,n||Ea(e)}function Ug(e){for(en=e.return;en;)switch(en.tag){case 5:case 13:si=!1;return;case 27:case 3:si=!0;return;default:en=en.return}}function Rl(e){if(e!==en)return!1;if(!zt)return Ug(e),zt=!0,!1;var n=e.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=e.type,s=!(s!=="form"&&s!=="button")||Zf(e.type,e.memoizedProps)),s=!s),s&&oe&&Ea(e),Ug(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));t:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8)if(s=e.data,s==="/$"){if(n===0){oe=Qn(e.nextSibling);break t}n--}else s!=="$"&&s!=="$!"&&s!=="$?"||n++;e=e.nextSibling}oe=null}}else n===27?(n=oe,br(e.type)?(e=ed,ed=null,oe=e):oe=n):oe=en?Qn(e.stateNode.nextSibling):null;return!0}function wl(){oe=en=null,zt=!1}function Lg(){var e=va;return e!==null&&(on===null?on=e:on.push.apply(on,e),va=null),e}function Cl(e){va===null?va=[e]:va.push(e)}var Uh=et(null),Ta=null,xi=null;function or(e,n,s){st(Uh,n._currentValue),n._currentValue=s}function Ii(e){e._currentValue=Uh.current,lt(Uh)}function Lh(e,n,s){for(;e!==null;){var l=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),e===s)break;e=e.return}}function Ph(e,n,s,l){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var d=h.dependencies;if(d!==null){var v=h.child;d=d.firstContext;t:for(;d!==null;){var T=d;d=h;for(var D=0;D<n.length;D++)if(T.context===n[D]){d.lanes|=s,T=d.alternate,T!==null&&(T.lanes|=s),Lh(d.return,s,e),l||(v=null);break t}d=T.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(a(341));v.lanes|=s,d=v.alternate,d!==null&&(d.lanes|=s),Lh(v,s,e),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===e){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function Dl(e,n,s,l){e=null;for(var h=n,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(a(387));if(v=v.memoizedProps,v!==null){var T=h.type;fn(h.pendingProps.value,v.value)||(e!==null?e.push(T):e=[T])}}else if(h===Le.current){if(v=h.alternate,v===null)throw Error(a(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(io):e=[io])}h=h.return}e!==null&&Ph(n,e,s,l),n.flags|=262144}function mu(e){for(e=e.firstContext;e!==null;){if(!fn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Aa(e){Ta=e,xi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Qe(e){return Pg(Ta,e)}function gu(e,n){return Ta===null&&Aa(e),Pg(e,n)}function Pg(e,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},xi===null){if(e===null)throw Error(a(308));xi=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else xi=xi.next=n;return s}var $1=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(s,l){e.push(l)}};this.abort=function(){n.aborted=!0,e.forEach(function(s){return s()})}},Z1=r.unstable_scheduleCallback,J1=r.unstable_NormalPriority,Ce={$$typeof:it,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function kh(){return{controller:new $1,data:new Map,refCount:0}}function Nl(e){e.refCount--,e.refCount===0&&Z1(J1,function(){e.controller.abort()})}var xl=null,jh=0,ms=0,gs=null;function W1(e,n){if(xl===null){var s=xl=[];jh=0,ms=qf(),gs={status:"pending",value:void 0,then:function(l){s.push(l)}}}return jh++,n.then(kg,kg),n}function kg(){if(--jh===0&&xl!==null){gs!==null&&(gs.status="fulfilled");var e=xl;xl=null,ms=0,gs=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function tT(e,n){var s=[],l={status:"pending",value:null,reason:null,then:function(h){s.push(h)}};return e.then(function(){l.status="fulfilled",l.value=n;for(var h=0;h<s.length;h++)(0,s[h])(n)},function(h){for(l.status="rejected",l.reason=h,h=0;h<s.length;h++)(0,s[h])(void 0)}),l}var jg=Q.S;Q.S=function(e,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&W1(e,n),jg!==null&&jg(e,n)};var ba=et(null);function Bh(){var e=ba.current;return e!==null?e:Wt.pooledCache}function pu(e,n){n===null?st(ba,ba.current):st(ba,n.pool)}function Bg(){var e=Bh();return e===null?null:{parent:Ce._currentValue,pool:e}}var Il=Error(a(460)),zg=Error(a(474)),yu=Error(a(542)),zh={then:function(){}};function qg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function _u(){}function Hg(e,n,s){switch(s=e[s],s===void 0?e.push(n):s!==n&&(n.then(_u,_u),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Gg(e),e;default:if(typeof n.status=="string")n.then(_u,_u);else{if(e=Wt,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=n,e.status="pending",e.then(function(l){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=l}},function(l){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Gg(e),e}throw Vl=n,Il}}var Vl=null;function Fg(){if(Vl===null)throw Error(a(459));var e=Vl;return Vl=null,e}function Gg(e){if(e===Il||e===yu)throw Error(a(483))}var ur=!1;function qh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Hh(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function cr(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function hr(e,n,s){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Ft&2)!==0){var h=l.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),l.pending=n,n=cu(e),Ig(e,null,s),n}return uu(e,l,n,s),cu(e)}function Ol(e,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var l=n.lanes;l&=e.pendingLanes,s|=l,n.lanes=s,Zi(e,s)}}function Fh(e,n){var s=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var h=null,d=null;if(s=s.firstBaseUpdate,s!==null){do{var v={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};d===null?h=d=v:d=d.next=v,s=s.next}while(s!==null);d===null?h=d=n:d=d.next=n}else h=d=n;s={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=n:e.next=n,s.lastBaseUpdate=n}var Gh=!1;function Ml(){if(Gh){var e=gs;if(e!==null)throw e}}function Ul(e,n,s,l){Gh=!1;var h=e.updateQueue;ur=!1;var d=h.firstBaseUpdate,v=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var D=T,z=D.next;D.next=null,v===null?d=z:v.next=z,v=D;var K=e.alternate;K!==null&&(K=K.updateQueue,T=K.lastBaseUpdate,T!==v&&(T===null?K.firstBaseUpdate=z:T.next=z,K.lastBaseUpdate=D))}if(d!==null){var J=h.baseState;v=0,K=z=D=null,T=d;do{var q=T.lane&-536870913,F=q!==T.lane;if(F?(Lt&q)===q:(l&q)===q){q!==0&&q===ms&&(Gh=!0),K!==null&&(K=K.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});t:{var St=e,Et=T;q=n;var $t=s;switch(Et.tag){case 1:if(St=Et.payload,typeof St=="function"){J=St.call($t,J,q);break t}J=St;break t;case 3:St.flags=St.flags&-65537|128;case 0:if(St=Et.payload,q=typeof St=="function"?St.call($t,J,q):St,q==null)break t;J=E({},J,q);break t;case 2:ur=!0}}q=T.callback,q!==null&&(e.flags|=64,F&&(e.flags|=8192),F=h.callbacks,F===null?h.callbacks=[q]:F.push(q))}else F={lane:q,tag:T.tag,payload:T.payload,callback:T.callback,next:null},K===null?(z=K=F,D=J):K=K.next=F,v|=q;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;F=T,T=F.next,F.next=null,h.lastBaseUpdate=F,h.shared.pending=null}}while(!0);K===null&&(D=J),h.baseState=D,h.firstBaseUpdate=z,h.lastBaseUpdate=K,d===null&&(h.shared.lanes=0),vr|=v,e.lanes=v,e.memoizedState=J}}function Qg(e,n){if(typeof e!="function")throw Error(a(191,e));e.call(n)}function Yg(e,n){var s=e.callbacks;if(s!==null)for(e.callbacks=null,e=0;e<s.length;e++)Qg(s[e],n)}var ps=et(null),vu=et(0);function Xg(e,n){e=ki,st(vu,e),st(ps,n),ki=e|n.baseLanes}function Qh(){st(vu,ki),st(ps,ps.current)}function Yh(){ki=vu.current,lt(ps),lt(vu)}var fr=0,Nt=null,Xt=null,Ee=null,Eu=!1,ys=!1,Sa=!1,Tu=0,Ll=0,_s=null,eT=0;function pe(){throw Error(a(321))}function Xh(e,n){if(n===null)return!1;for(var s=0;s<n.length&&s<e.length;s++)if(!fn(e[s],n[s]))return!1;return!0}function Kh(e,n,s,l,h,d){return fr=d,Nt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,Q.H=e===null||e.memoizedState===null?Ip:Vp,Sa=!1,d=s(l,h),Sa=!1,ys&&(d=$g(n,s,l,h)),Kg(e),d}function Kg(e){Q.H=Cu;var n=Xt!==null&&Xt.next!==null;if(fr=0,Ee=Xt=Nt=null,Eu=!1,Ll=0,_s=null,n)throw Error(a(300));e===null||Ve||(e=e.dependencies,e!==null&&mu(e)&&(Ve=!0))}function $g(e,n,s,l){Nt=e;var h=0;do{if(ys&&(_s=null),Ll=0,ys=!1,25<=h)throw Error(a(301));if(h+=1,Ee=Xt=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}Q.H=oT,d=n(s,l)}while(ys);return d}function nT(){var e=Q.H,n=e.useState()[0];return n=typeof n.then=="function"?Pl(n):n,e=e.useState()[0],(Xt!==null?Xt.memoizedState:null)!==e&&(Nt.flags|=1024),n}function $h(){var e=Tu!==0;return Tu=0,e}function Zh(e,n,s){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~s}function Jh(e){if(Eu){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Eu=!1}fr=0,Ee=Xt=Nt=null,ys=!1,Ll=Tu=0,_s=null}function sn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ee===null?Nt.memoizedState=Ee=e:Ee=Ee.next=e,Ee}function Te(){if(Xt===null){var e=Nt.alternate;e=e!==null?e.memoizedState:null}else e=Xt.next;var n=Ee===null?Nt.memoizedState:Ee.next;if(n!==null)Ee=n,Xt=e;else{if(e===null)throw Nt.alternate===null?Error(a(467)):Error(a(310));Xt=e,e={memoizedState:Xt.memoizedState,baseState:Xt.baseState,baseQueue:Xt.baseQueue,queue:Xt.queue,next:null},Ee===null?Nt.memoizedState=Ee=e:Ee=Ee.next=e}return Ee}function Wh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Pl(e){var n=Ll;return Ll+=1,_s===null&&(_s=[]),e=Hg(_s,e,n),n=Nt,(Ee===null?n.memoizedState:Ee.next)===null&&(n=n.alternate,Q.H=n===null||n.memoizedState===null?Ip:Vp),e}function Au(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Pl(e);if(e.$$typeof===it)return Qe(e)}throw Error(a(438,String(e)))}function tf(e){var n=null,s=Nt.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var l=Nt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=Wh(),Nt.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(e),l=0;l<e;l++)s[l]=O;return n.index++,s}function Vi(e,n){return typeof n=="function"?n(e):n}function bu(e){var n=Te();return ef(n,Xt,e)}function ef(e,n,s){var l=e.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=s;var h=e.baseQueue,d=l.pending;if(d!==null){if(h!==null){var v=h.next;h.next=d.next,d.next=v}n.baseQueue=h=d,l.pending=null}if(d=e.baseState,h===null)e.memoizedState=d;else{n=h.next;var T=v=null,D=null,z=n,K=!1;do{var J=z.lane&-536870913;if(J!==z.lane?(Lt&J)===J:(fr&J)===J){var q=z.revertLane;if(q===0)D!==null&&(D=D.next={lane:0,revertLane:0,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),J===ms&&(K=!0);else if((fr&q)===q){z=z.next,q===ms&&(K=!0);continue}else J={lane:0,revertLane:z.revertLane,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},D===null?(T=D=J,v=d):D=D.next=J,Nt.lanes|=q,vr|=q;J=z.action,Sa&&s(d,J),d=z.hasEagerState?z.eagerState:s(d,J)}else q={lane:J,revertLane:z.revertLane,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},D===null?(T=D=q,v=d):D=D.next=q,Nt.lanes|=J,vr|=J;z=z.next}while(z!==null&&z!==n);if(D===null?v=d:D.next=T,!fn(d,e.memoizedState)&&(Ve=!0,K&&(s=gs,s!==null)))throw s;e.memoizedState=d,e.baseState=v,e.baseQueue=D,l.lastRenderedState=d}return h===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function nf(e){var n=Te(),s=n.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=e;var l=s.dispatch,h=s.pending,d=n.memoizedState;if(h!==null){s.pending=null;var v=h=h.next;do d=e(d,v.action),v=v.next;while(v!==h);fn(d,n.memoizedState)||(Ve=!0),n.memoizedState=d,n.baseQueue===null&&(n.baseState=d),s.lastRenderedState=d}return[d,l]}function Zg(e,n,s){var l=Nt,h=Te(),d=zt;if(d){if(s===void 0)throw Error(a(407));s=s()}else s=n();var v=!fn((Xt||h).memoizedState,s);v&&(h.memoizedState=s,Ve=!0),h=h.queue;var T=tp.bind(null,l,h,e);if(kl(2048,8,T,[e]),h.getSnapshot!==n||v||Ee!==null&&Ee.memoizedState.tag&1){if(l.flags|=2048,vs(9,Su(),Wg.bind(null,l,h,s,n),null),Wt===null)throw Error(a(349));d||(fr&124)!==0||Jg(l,n,s)}return s}function Jg(e,n,s){e.flags|=16384,e={getSnapshot:n,value:s},n=Nt.updateQueue,n===null?(n=Wh(),Nt.updateQueue=n,n.stores=[e]):(s=n.stores,s===null?n.stores=[e]:s.push(e))}function Wg(e,n,s,l){n.value=s,n.getSnapshot=l,ep(n)&&np(e)}function tp(e,n,s){return s(function(){ep(n)&&np(e)})}function ep(e){var n=e.getSnapshot;e=e.value;try{var s=n();return!fn(e,s)}catch{return!0}}function np(e){var n=cs(e,2);n!==null&&_n(n,e,2)}function rf(e){var n=sn();if(typeof e=="function"){var s=e;if(e=s(),Sa){Tn(!0);try{s()}finally{Tn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vi,lastRenderedState:e},n}function ip(e,n,s,l){return e.baseState=s,ef(e,Xt,typeof l=="function"?l:Vi)}function iT(e,n,s,l,h){if(wu(e))throw Error(a(485));if(e=n.action,e!==null){var d={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};Q.T!==null?s(!0):d.isTransition=!1,l(d),s=n.pending,s===null?(d.next=n.pending=d,rp(n,d)):(d.next=s.next,n.pending=s.next=d)}}function rp(e,n){var s=n.action,l=n.payload,h=e.state;if(n.isTransition){var d=Q.T,v={};Q.T=v;try{var T=s(h,l),D=Q.S;D!==null&&D(v,T),ap(e,n,T)}catch(z){af(e,n,z)}finally{Q.T=d}}else try{d=s(h,l),ap(e,n,d)}catch(z){af(e,n,z)}}function ap(e,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(l){sp(e,n,l)},function(l){return af(e,n,l)}):sp(e,n,s)}function sp(e,n,s){n.status="fulfilled",n.value=s,lp(n),e.state=s,n=e.pending,n!==null&&(s=n.next,s===n?e.pending=null:(s=s.next,n.next=s,rp(e,s)))}function af(e,n,s){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=s,lp(n),n=n.next;while(n!==l)}e.action=null}function lp(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function op(e,n){return n}function up(e,n){if(zt){var s=Wt.formState;if(s!==null){t:{var l=Nt;if(zt){if(oe){e:{for(var h=oe,d=si;h.nodeType!==8;){if(!d){h=null;break e}if(h=Qn(h.nextSibling),h===null){h=null;break e}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){oe=Qn(h.nextSibling),l=h.data==="F!";break t}}Ea(l)}l=!1}l&&(n=s[0])}}return s=sn(),s.memoizedState=s.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:op,lastRenderedState:n},s.queue=l,s=Dp.bind(null,Nt,l),l.dispatch=s,l=rf(!1),d=cf.bind(null,Nt,!1,l.queue),l=sn(),h={state:n,dispatch:null,action:e,pending:null},l.queue=h,s=iT.bind(null,Nt,h,d,s),h.dispatch=s,l.memoizedState=e,[n,s,!1]}function cp(e){var n=Te();return hp(n,Xt,e)}function hp(e,n,s){if(n=ef(e,n,op)[0],e=bu(Vi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=Pl(n)}catch(v){throw v===Il?yu:v}else l=n;n=Te();var h=n.queue,d=h.dispatch;return s!==n.memoizedState&&(Nt.flags|=2048,vs(9,Su(),rT.bind(null,h,s),null)),[l,d,e]}function rT(e,n){e.action=n}function fp(e){var n=Te(),s=Xt;if(s!==null)return hp(n,s,e);Te(),n=n.memoizedState,s=Te();var l=s.queue.dispatch;return s.memoizedState=e,[n,l,!1]}function vs(e,n,s,l){return e={tag:e,create:s,deps:l,inst:n,next:null},n=Nt.updateQueue,n===null&&(n=Wh(),Nt.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=e.next=e:(l=s.next,s.next=e,e.next=l,n.lastEffect=e),e}function Su(){return{destroy:void 0,resource:void 0}}function dp(){return Te().memoizedState}function Ru(e,n,s,l){var h=sn();l=l===void 0?null:l,Nt.flags|=e,h.memoizedState=vs(1|n,Su(),s,l)}function kl(e,n,s,l){var h=Te();l=l===void 0?null:l;var d=h.memoizedState.inst;Xt!==null&&l!==null&&Xh(l,Xt.memoizedState.deps)?h.memoizedState=vs(n,d,s,l):(Nt.flags|=e,h.memoizedState=vs(1|n,d,s,l))}function mp(e,n){Ru(8390656,8,e,n)}function gp(e,n){kl(2048,8,e,n)}function pp(e,n){return kl(4,2,e,n)}function yp(e,n){return kl(4,4,e,n)}function _p(e,n){if(typeof n=="function"){e=e();var s=n(e);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function vp(e,n,s){s=s!=null?s.concat([e]):null,kl(4,4,_p.bind(null,n,e),s)}function sf(){}function Ep(e,n){var s=Te();n=n===void 0?null:n;var l=s.memoizedState;return n!==null&&Xh(n,l[1])?l[0]:(s.memoizedState=[e,n],e)}function Tp(e,n){var s=Te();n=n===void 0?null:n;var l=s.memoizedState;if(n!==null&&Xh(n,l[1]))return l[0];if(l=e(),Sa){Tn(!0);try{e()}finally{Tn(!1)}}return s.memoizedState=[l,n],l}function lf(e,n,s){return s===void 0||(fr&1073741824)!==0?e.memoizedState=n:(e.memoizedState=s,e=Sy(),Nt.lanes|=e,vr|=e,s)}function Ap(e,n,s,l){return fn(s,n)?s:ps.current!==null?(e=lf(e,s,l),fn(e,n)||(Ve=!0),e):(fr&42)===0?(Ve=!0,e.memoizedState=s):(e=Sy(),Nt.lanes|=e,vr|=e,n)}function bp(e,n,s,l,h){var d=rt.p;rt.p=d!==0&&8>d?d:8;var v=Q.T,T={};Q.T=T,cf(e,!1,n,s);try{var D=h(),z=Q.S;if(z!==null&&z(T,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var K=tT(D,l);jl(e,n,K,yn(e))}else jl(e,n,l,yn(e))}catch(J){jl(e,n,{then:function(){},status:"rejected",reason:J},yn())}finally{rt.p=d,Q.T=v}}function aT(){}function of(e,n,s,l){if(e.tag!==5)throw Error(a(476));var h=Sp(e).queue;bp(e,h,n,ct,s===null?aT:function(){return Rp(e),s(l)})}function Sp(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:ct,baseState:ct,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vi,lastRenderedState:ct},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vi,lastRenderedState:s},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Rp(e){var n=Sp(e).next.queue;jl(e,n,{},yn())}function uf(){return Qe(io)}function wp(){return Te().memoizedState}function Cp(){return Te().memoizedState}function sT(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var s=yn();e=cr(s);var l=hr(n,e,s);l!==null&&(_n(l,n,s),Ol(l,n,s)),n={cache:kh()},e.payload=n;return}n=n.return}}function lT(e,n,s){var l=yn();s={lane:l,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null},wu(e)?Np(n,s):(s=Dh(e,n,s,l),s!==null&&(_n(s,e,l),xp(s,n,l)))}function Dp(e,n,s){var l=yn();jl(e,n,s,l)}function jl(e,n,s,l){var h={lane:l,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null};if(wu(e))Np(n,h);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=n.lastRenderedReducer,d!==null))try{var v=n.lastRenderedState,T=d(v,s);if(h.hasEagerState=!0,h.eagerState=T,fn(T,v))return uu(e,n,h,0),Wt===null&&ou(),!1}catch{}finally{}if(s=Dh(e,n,h,l),s!==null)return _n(s,e,l),xp(s,n,l),!0}return!1}function cf(e,n,s,l){if(l={lane:2,revertLane:qf(),action:l,hasEagerState:!1,eagerState:null,next:null},wu(e)){if(n)throw Error(a(479))}else n=Dh(e,s,l,2),n!==null&&_n(n,e,2)}function wu(e){var n=e.alternate;return e===Nt||n!==null&&n===Nt}function Np(e,n){ys=Eu=!0;var s=e.pending;s===null?n.next=n:(n.next=s.next,s.next=n),e.pending=n}function xp(e,n,s){if((s&4194048)!==0){var l=n.lanes;l&=e.pendingLanes,s|=l,n.lanes=s,Zi(e,s)}}var Cu={readContext:Qe,use:Au,useCallback:pe,useContext:pe,useEffect:pe,useImperativeHandle:pe,useLayoutEffect:pe,useInsertionEffect:pe,useMemo:pe,useReducer:pe,useRef:pe,useState:pe,useDebugValue:pe,useDeferredValue:pe,useTransition:pe,useSyncExternalStore:pe,useId:pe,useHostTransitionStatus:pe,useFormState:pe,useActionState:pe,useOptimistic:pe,useMemoCache:pe,useCacheRefresh:pe},Ip={readContext:Qe,use:Au,useCallback:function(e,n){return sn().memoizedState=[e,n===void 0?null:n],e},useContext:Qe,useEffect:mp,useImperativeHandle:function(e,n,s){s=s!=null?s.concat([e]):null,Ru(4194308,4,_p.bind(null,n,e),s)},useLayoutEffect:function(e,n){return Ru(4194308,4,e,n)},useInsertionEffect:function(e,n){Ru(4,2,e,n)},useMemo:function(e,n){var s=sn();n=n===void 0?null:n;var l=e();if(Sa){Tn(!0);try{e()}finally{Tn(!1)}}return s.memoizedState=[l,n],l},useReducer:function(e,n,s){var l=sn();if(s!==void 0){var h=s(n);if(Sa){Tn(!0);try{s(n)}finally{Tn(!1)}}}else h=n;return l.memoizedState=l.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},l.queue=e,e=e.dispatch=lT.bind(null,Nt,e),[l.memoizedState,e]},useRef:function(e){var n=sn();return e={current:e},n.memoizedState=e},useState:function(e){e=rf(e);var n=e.queue,s=Dp.bind(null,Nt,n);return n.dispatch=s,[e.memoizedState,s]},useDebugValue:sf,useDeferredValue:function(e,n){var s=sn();return lf(s,e,n)},useTransition:function(){var e=rf(!1);return e=bp.bind(null,Nt,e.queue,!0,!1),sn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,s){var l=Nt,h=sn();if(zt){if(s===void 0)throw Error(a(407));s=s()}else{if(s=n(),Wt===null)throw Error(a(349));(Lt&124)!==0||Jg(l,n,s)}h.memoizedState=s;var d={value:s,getSnapshot:n};return h.queue=d,mp(tp.bind(null,l,d,e),[e]),l.flags|=2048,vs(9,Su(),Wg.bind(null,l,d,s,n),null),s},useId:function(){var e=sn(),n=Wt.identifierPrefix;if(zt){var s=Ni,l=Di;s=(l&~(1<<32-Ze(l)-1)).toString(32)+s,n="«"+n+"R"+s,s=Tu++,0<s&&(n+="H"+s.toString(32)),n+="»"}else s=eT++,n="«"+n+"r"+s.toString(32)+"»";return e.memoizedState=n},useHostTransitionStatus:uf,useFormState:up,useActionState:up,useOptimistic:function(e){var n=sn();n.memoizedState=n.baseState=e;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=cf.bind(null,Nt,!0,s),s.dispatch=n,[e,n]},useMemoCache:tf,useCacheRefresh:function(){return sn().memoizedState=sT.bind(null,Nt)}},Vp={readContext:Qe,use:Au,useCallback:Ep,useContext:Qe,useEffect:gp,useImperativeHandle:vp,useInsertionEffect:pp,useLayoutEffect:yp,useMemo:Tp,useReducer:bu,useRef:dp,useState:function(){return bu(Vi)},useDebugValue:sf,useDeferredValue:function(e,n){var s=Te();return Ap(s,Xt.memoizedState,e,n)},useTransition:function(){var e=bu(Vi)[0],n=Te().memoizedState;return[typeof e=="boolean"?e:Pl(e),n]},useSyncExternalStore:Zg,useId:wp,useHostTransitionStatus:uf,useFormState:cp,useActionState:cp,useOptimistic:function(e,n){var s=Te();return ip(s,Xt,e,n)},useMemoCache:tf,useCacheRefresh:Cp},oT={readContext:Qe,use:Au,useCallback:Ep,useContext:Qe,useEffect:gp,useImperativeHandle:vp,useInsertionEffect:pp,useLayoutEffect:yp,useMemo:Tp,useReducer:nf,useRef:dp,useState:function(){return nf(Vi)},useDebugValue:sf,useDeferredValue:function(e,n){var s=Te();return Xt===null?lf(s,e,n):Ap(s,Xt.memoizedState,e,n)},useTransition:function(){var e=nf(Vi)[0],n=Te().memoizedState;return[typeof e=="boolean"?e:Pl(e),n]},useSyncExternalStore:Zg,useId:wp,useHostTransitionStatus:uf,useFormState:fp,useActionState:fp,useOptimistic:function(e,n){var s=Te();return Xt!==null?ip(s,Xt,e,n):(s.baseState=e,[e,s.queue.dispatch])},useMemoCache:tf,useCacheRefresh:Cp},Es=null,Bl=0;function Du(e){var n=Bl;return Bl+=1,Es===null&&(Es=[]),Hg(Es,e,n)}function zl(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Nu(e,n){throw n.$$typeof===b?Error(a(525)):(e=Object.prototype.toString.call(n),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function Op(e){var n=e._init;return n(e._payload)}function Mp(e){function n(L,M){if(e){var j=L.deletions;j===null?(L.deletions=[M],L.flags|=16):j.push(M)}}function s(L,M){if(!e)return null;for(;M!==null;)n(L,M),M=M.sibling;return null}function l(L){for(var M=new Map;L!==null;)L.key!==null?M.set(L.key,L):M.set(L.index,L),L=L.sibling;return M}function h(L,M){return L=Ci(L,M),L.index=0,L.sibling=null,L}function d(L,M,j){return L.index=j,e?(j=L.alternate,j!==null?(j=j.index,j<M?(L.flags|=67108866,M):j):(L.flags|=67108866,M)):(L.flags|=1048576,M)}function v(L){return e&&L.alternate===null&&(L.flags|=67108866),L}function T(L,M,j,$){return M===null||M.tag!==6?(M=xh(j,L.mode,$),M.return=L,M):(M=h(M,j),M.return=L,M)}function D(L,M,j,$){var dt=j.type;return dt===H?K(L,M,j.props.children,$,j.key):M!==null&&(M.elementType===dt||typeof dt=="object"&&dt!==null&&dt.$$typeof===R&&Op(dt)===M.type)?(M=h(M,j.props),zl(M,j),M.return=L,M):(M=hu(j.type,j.key,j.props,null,L.mode,$),zl(M,j),M.return=L,M)}function z(L,M,j,$){return M===null||M.tag!==4||M.stateNode.containerInfo!==j.containerInfo||M.stateNode.implementation!==j.implementation?(M=Ih(j,L.mode,$),M.return=L,M):(M=h(M,j.children||[]),M.return=L,M)}function K(L,M,j,$,dt){return M===null||M.tag!==7?(M=pa(j,L.mode,$,dt),M.return=L,M):(M=h(M,j),M.return=L,M)}function J(L,M,j){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=xh(""+M,L.mode,j),M.return=L,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case S:return j=hu(M.type,M.key,M.props,null,L.mode,j),zl(j,M),j.return=L,j;case U:return M=Ih(M,L.mode,j),M.return=L,M;case R:var $=M._init;return M=$(M._payload),J(L,M,j)}if(gt(M)||k(M))return M=pa(M,L.mode,j,null),M.return=L,M;if(typeof M.then=="function")return J(L,Du(M),j);if(M.$$typeof===it)return J(L,gu(L,M),j);Nu(L,M)}return null}function q(L,M,j,$){var dt=M!==null?M.key:null;if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return dt!==null?null:T(L,M,""+j,$);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case S:return j.key===dt?D(L,M,j,$):null;case U:return j.key===dt?z(L,M,j,$):null;case R:return dt=j._init,j=dt(j._payload),q(L,M,j,$)}if(gt(j)||k(j))return dt!==null?null:K(L,M,j,$,null);if(typeof j.then=="function")return q(L,M,Du(j),$);if(j.$$typeof===it)return q(L,M,gu(L,j),$);Nu(L,j)}return null}function F(L,M,j,$,dt){if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return L=L.get(j)||null,T(M,L,""+$,dt);if(typeof $=="object"&&$!==null){switch($.$$typeof){case S:return L=L.get($.key===null?j:$.key)||null,D(M,L,$,dt);case U:return L=L.get($.key===null?j:$.key)||null,z(M,L,$,dt);case R:var xt=$._init;return $=xt($._payload),F(L,M,j,$,dt)}if(gt($)||k($))return L=L.get(j)||null,K(M,L,$,dt,null);if(typeof $.then=="function")return F(L,M,j,Du($),dt);if($.$$typeof===it)return F(L,M,j,gu(M,$),dt);Nu(M,$)}return null}function St(L,M,j,$){for(var dt=null,xt=null,pt=M,Tt=M=0,Me=null;pt!==null&&Tt<j.length;Tt++){pt.index>Tt?(Me=pt,pt=null):Me=pt.sibling;var Bt=q(L,pt,j[Tt],$);if(Bt===null){pt===null&&(pt=Me);break}e&&pt&&Bt.alternate===null&&n(L,pt),M=d(Bt,M,Tt),xt===null?dt=Bt:xt.sibling=Bt,xt=Bt,pt=Me}if(Tt===j.length)return s(L,pt),zt&&_a(L,Tt),dt;if(pt===null){for(;Tt<j.length;Tt++)pt=J(L,j[Tt],$),pt!==null&&(M=d(pt,M,Tt),xt===null?dt=pt:xt.sibling=pt,xt=pt);return zt&&_a(L,Tt),dt}for(pt=l(pt);Tt<j.length;Tt++)Me=F(pt,L,Tt,j[Tt],$),Me!==null&&(e&&Me.alternate!==null&&pt.delete(Me.key===null?Tt:Me.key),M=d(Me,M,Tt),xt===null?dt=Me:xt.sibling=Me,xt=Me);return e&&pt.forEach(function(Dr){return n(L,Dr)}),zt&&_a(L,Tt),dt}function Et(L,M,j,$){if(j==null)throw Error(a(151));for(var dt=null,xt=null,pt=M,Tt=M=0,Me=null,Bt=j.next();pt!==null&&!Bt.done;Tt++,Bt=j.next()){pt.index>Tt?(Me=pt,pt=null):Me=pt.sibling;var Dr=q(L,pt,Bt.value,$);if(Dr===null){pt===null&&(pt=Me);break}e&&pt&&Dr.alternate===null&&n(L,pt),M=d(Dr,M,Tt),xt===null?dt=Dr:xt.sibling=Dr,xt=Dr,pt=Me}if(Bt.done)return s(L,pt),zt&&_a(L,Tt),dt;if(pt===null){for(;!Bt.done;Tt++,Bt=j.next())Bt=J(L,Bt.value,$),Bt!==null&&(M=d(Bt,M,Tt),xt===null?dt=Bt:xt.sibling=Bt,xt=Bt);return zt&&_a(L,Tt),dt}for(pt=l(pt);!Bt.done;Tt++,Bt=j.next())Bt=F(pt,L,Tt,Bt.value,$),Bt!==null&&(e&&Bt.alternate!==null&&pt.delete(Bt.key===null?Tt:Bt.key),M=d(Bt,M,Tt),xt===null?dt=Bt:xt.sibling=Bt,xt=Bt);return e&&pt.forEach(function(uA){return n(L,uA)}),zt&&_a(L,Tt),dt}function $t(L,M,j,$){if(typeof j=="object"&&j!==null&&j.type===H&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case S:t:{for(var dt=j.key;M!==null;){if(M.key===dt){if(dt=j.type,dt===H){if(M.tag===7){s(L,M.sibling),$=h(M,j.props.children),$.return=L,L=$;break t}}else if(M.elementType===dt||typeof dt=="object"&&dt!==null&&dt.$$typeof===R&&Op(dt)===M.type){s(L,M.sibling),$=h(M,j.props),zl($,j),$.return=L,L=$;break t}s(L,M);break}else n(L,M);M=M.sibling}j.type===H?($=pa(j.props.children,L.mode,$,j.key),$.return=L,L=$):($=hu(j.type,j.key,j.props,null,L.mode,$),zl($,j),$.return=L,L=$)}return v(L);case U:t:{for(dt=j.key;M!==null;){if(M.key===dt)if(M.tag===4&&M.stateNode.containerInfo===j.containerInfo&&M.stateNode.implementation===j.implementation){s(L,M.sibling),$=h(M,j.children||[]),$.return=L,L=$;break t}else{s(L,M);break}else n(L,M);M=M.sibling}$=Ih(j,L.mode,$),$.return=L,L=$}return v(L);case R:return dt=j._init,j=dt(j._payload),$t(L,M,j,$)}if(gt(j))return St(L,M,j,$);if(k(j)){if(dt=k(j),typeof dt!="function")throw Error(a(150));return j=dt.call(j),Et(L,M,j,$)}if(typeof j.then=="function")return $t(L,M,Du(j),$);if(j.$$typeof===it)return $t(L,M,gu(L,j),$);Nu(L,j)}return typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint"?(j=""+j,M!==null&&M.tag===6?(s(L,M.sibling),$=h(M,j),$.return=L,L=$):(s(L,M),$=xh(j,L.mode,$),$.return=L,L=$),v(L)):s(L,M)}return function(L,M,j,$){try{Bl=0;var dt=$t(L,M,j,$);return Es=null,dt}catch(pt){if(pt===Il||pt===yu)throw pt;var xt=dn(29,pt,null,L.mode);return xt.lanes=$,xt.return=L,xt}finally{}}}var Ts=Mp(!0),Up=Mp(!1),xn=et(null),li=null;function dr(e){var n=e.alternate;st(De,De.current&1),st(xn,e),li===null&&(n===null||ps.current!==null||n.memoizedState!==null)&&(li=e)}function Lp(e){if(e.tag===22){if(st(De,De.current),st(xn,e),li===null){var n=e.alternate;n!==null&&n.memoizedState!==null&&(li=e)}}else mr()}function mr(){st(De,De.current),st(xn,xn.current)}function Oi(e){lt(xn),li===e&&(li=null),lt(De)}var De=et(0);function xu(e){for(var n=e;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||td(s)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function hf(e,n,s,l){n=e.memoizedState,s=s(l,n),s=s==null?n:E({},n,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var ff={enqueueSetState:function(e,n,s){e=e._reactInternals;var l=yn(),h=cr(l);h.payload=n,s!=null&&(h.callback=s),n=hr(e,h,l),n!==null&&(_n(n,e,l),Ol(n,e,l))},enqueueReplaceState:function(e,n,s){e=e._reactInternals;var l=yn(),h=cr(l);h.tag=1,h.payload=n,s!=null&&(h.callback=s),n=hr(e,h,l),n!==null&&(_n(n,e,l),Ol(n,e,l))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var s=yn(),l=cr(s);l.tag=2,n!=null&&(l.callback=n),n=hr(e,l,s),n!==null&&(_n(n,e,s),Ol(n,e,s))}};function Pp(e,n,s,l,h,d,v){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,d,v):n.prototype&&n.prototype.isPureReactComponent?!bl(s,l)||!bl(h,d):!0}function kp(e,n,s,l){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,l),n.state!==e&&ff.enqueueReplaceState(n,n.state,null)}function Ra(e,n){var s=n;if("ref"in n){s={};for(var l in n)l!=="ref"&&(s[l]=n[l])}if(e=e.defaultProps){s===n&&(s=E({},s));for(var h in e)s[h]===void 0&&(s[h]=e[h])}return s}var Iu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function jp(e){Iu(e)}function Bp(e){console.error(e)}function zp(e){Iu(e)}function Vu(e,n){try{var s=e.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function qp(e,n,s){try{var l=e.onCaughtError;l(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function df(e,n,s){return s=cr(s),s.tag=3,s.payload={element:null},s.callback=function(){Vu(e,n)},s}function Hp(e){return e=cr(e),e.tag=3,e}function Fp(e,n,s,l){var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;e.payload=function(){return h(d)},e.callback=function(){qp(n,s,l)}}var v=s.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(e.callback=function(){qp(n,s,l),typeof h!="function"&&(Er===null?Er=new Set([this]):Er.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function uT(e,n,s,l,h){if(s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=s.alternate,n!==null&&Dl(n,s,h,!0),s=xn.current,s!==null){switch(s.tag){case 13:return li===null?Pf():s.alternate===null&&ue===0&&(ue=3),s.flags&=-257,s.flags|=65536,s.lanes=h,l===zh?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([l]):n.add(l),jf(e,l,h)),!1;case 22:return s.flags|=65536,l===zh?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([l]):s.add(l)),jf(e,l,h)),!1}throw Error(a(435,s.tag))}return jf(e,l,h),Pf(),!1}if(zt)return n=xn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,l!==Mh&&(e=Error(a(422),{cause:l}),Cl(wn(e,s)))):(l!==Mh&&(n=Error(a(423),{cause:l}),Cl(wn(n,s))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,l=wn(l,s),h=df(e.stateNode,l,h),Fh(e,h),ue!==4&&(ue=2)),!1;var d=Error(a(520),{cause:l});if(d=wn(d,s),Xl===null?Xl=[d]:Xl.push(d),ue!==4&&(ue=2),n===null)return!0;l=wn(l,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,e=h&-h,s.lanes|=e,e=df(s.stateNode,l,e),Fh(s,e),!1;case 1:if(n=s.type,d=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Er===null||!Er.has(d))))return s.flags|=65536,h&=-h,s.lanes|=h,h=Hp(h),Fp(h,e,s,l),Fh(s,h),!1}s=s.return}while(s!==null);return!1}var Gp=Error(a(461)),Ve=!1;function ke(e,n,s,l){n.child=e===null?Up(n,null,s,l):Ts(n,e.child,s,l)}function Qp(e,n,s,l,h){s=s.render;var d=n.ref;if("ref"in l){var v={};for(var T in l)T!=="ref"&&(v[T]=l[T])}else v=l;return Aa(n),l=Kh(e,n,s,v,d,h),T=$h(),e!==null&&!Ve?(Zh(e,n,h),Mi(e,n,h)):(zt&&T&&Vh(n),n.flags|=1,ke(e,n,l,h),n.child)}function Yp(e,n,s,l,h){if(e===null){var d=s.type;return typeof d=="function"&&!Nh(d)&&d.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=d,Xp(e,n,d,l,h)):(e=hu(s.type,null,l,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(d=e.child,!Tf(e,h)){var v=d.memoizedProps;if(s=s.compare,s=s!==null?s:bl,s(v,l)&&e.ref===n.ref)return Mi(e,n,h)}return n.flags|=1,e=Ci(d,l),e.ref=n.ref,e.return=n,n.child=e}function Xp(e,n,s,l,h){if(e!==null){var d=e.memoizedProps;if(bl(d,l)&&e.ref===n.ref)if(Ve=!1,n.pendingProps=l=d,Tf(e,h))(e.flags&131072)!==0&&(Ve=!0);else return n.lanes=e.lanes,Mi(e,n,h)}return mf(e,n,s,l,h)}function Kp(e,n,s){var l=n.pendingProps,h=l.children,d=e!==null?e.memoizedState:null;if(l.mode==="hidden"){if((n.flags&128)!==0){if(l=d!==null?d.baseLanes|s:s,e!==null){for(h=n.child=e.child,d=0;h!==null;)d=d|h.lanes|h.childLanes,h=h.sibling;n.childLanes=d&~l}else n.childLanes=0,n.child=null;return $p(e,n,l,s)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&pu(n,d!==null?d.cachePool:null),d!==null?Xg(n,d):Qh(),Lp(n);else return n.lanes=n.childLanes=536870912,$p(e,n,d!==null?d.baseLanes|s:s,s)}else d!==null?(pu(n,d.cachePool),Xg(n,d),mr(),n.memoizedState=null):(e!==null&&pu(n,null),Qh(),mr());return ke(e,n,h,s),n.child}function $p(e,n,s,l){var h=Bh();return h=h===null?null:{parent:Ce._currentValue,pool:h},n.memoizedState={baseLanes:s,cachePool:h},e!==null&&pu(n,null),Qh(),Lp(n),e!==null&&Dl(e,n,l,!0),null}function Ou(e,n){var s=n.ref;if(s===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(e===null||e.ref!==s)&&(n.flags|=4194816)}}function mf(e,n,s,l,h){return Aa(n),s=Kh(e,n,s,l,void 0,h),l=$h(),e!==null&&!Ve?(Zh(e,n,h),Mi(e,n,h)):(zt&&l&&Vh(n),n.flags|=1,ke(e,n,s,h),n.child)}function Zp(e,n,s,l,h,d){return Aa(n),n.updateQueue=null,s=$g(n,l,s,h),Kg(e),l=$h(),e!==null&&!Ve?(Zh(e,n,d),Mi(e,n,d)):(zt&&l&&Vh(n),n.flags|=1,ke(e,n,s,d),n.child)}function Jp(e,n,s,l,h){if(Aa(n),n.stateNode===null){var d=hs,v=s.contextType;typeof v=="object"&&v!==null&&(d=Qe(v)),d=new s(l,d),n.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=ff,n.stateNode=d,d._reactInternals=n,d=n.stateNode,d.props=l,d.state=n.memoizedState,d.refs={},qh(n),v=s.contextType,d.context=typeof v=="object"&&v!==null?Qe(v):hs,d.state=n.memoizedState,v=s.getDerivedStateFromProps,typeof v=="function"&&(hf(n,s,v,l),d.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&ff.enqueueReplaceState(d,d.state,null),Ul(n,l,d,h),Ml(),d.state=n.memoizedState),typeof d.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(e===null){d=n.stateNode;var T=n.memoizedProps,D=Ra(s,T);d.props=D;var z=d.context,K=s.contextType;v=hs,typeof K=="object"&&K!==null&&(v=Qe(K));var J=s.getDerivedStateFromProps;K=typeof J=="function"||typeof d.getSnapshotBeforeUpdate=="function",T=n.pendingProps!==T,K||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T||z!==v)&&kp(n,d,l,v),ur=!1;var q=n.memoizedState;d.state=q,Ul(n,l,d,h),Ml(),z=n.memoizedState,T||q!==z||ur?(typeof J=="function"&&(hf(n,s,J,l),z=n.memoizedState),(D=ur||Pp(n,s,D,l,q,z,v))?(K||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(n.flags|=4194308)):(typeof d.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=z),d.props=l,d.state=z,d.context=v,l=D):(typeof d.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{d=n.stateNode,Hh(e,n),v=n.memoizedProps,K=Ra(s,v),d.props=K,J=n.pendingProps,q=d.context,z=s.contextType,D=hs,typeof z=="object"&&z!==null&&(D=Qe(z)),T=s.getDerivedStateFromProps,(z=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==J||q!==D)&&kp(n,d,l,D),ur=!1,q=n.memoizedState,d.state=q,Ul(n,l,d,h),Ml();var F=n.memoizedState;v!==J||q!==F||ur||e!==null&&e.dependencies!==null&&mu(e.dependencies)?(typeof T=="function"&&(hf(n,s,T,l),F=n.memoizedState),(K=ur||Pp(n,s,K,l,q,F,D)||e!==null&&e.dependencies!==null&&mu(e.dependencies))?(z||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,F,D),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,F,D)),typeof d.componentDidUpdate=="function"&&(n.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===e.memoizedProps&&q===e.memoizedState||(n.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&q===e.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=F),d.props=l,d.state=F,d.context=D,l=K):(typeof d.componentDidUpdate!="function"||v===e.memoizedProps&&q===e.memoizedState||(n.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&q===e.memoizedState||(n.flags|=1024),l=!1)}return d=l,Ou(e,n),l=(n.flags&128)!==0,d||l?(d=n.stateNode,s=l&&typeof s.getDerivedStateFromError!="function"?null:d.render(),n.flags|=1,e!==null&&l?(n.child=Ts(n,e.child,null,h),n.child=Ts(n,null,s,h)):ke(e,n,s,h),n.memoizedState=d.state,e=n.child):e=Mi(e,n,h),e}function Wp(e,n,s,l){return wl(),n.flags|=256,ke(e,n,s,l),n.child}var gf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function pf(e){return{baseLanes:e,cachePool:Bg()}}function yf(e,n,s){return e=e!==null?e.childLanes&~s:0,n&&(e|=In),e}function ty(e,n,s){var l=n.pendingProps,h=!1,d=(n.flags&128)!==0,v;if((v=d)||(v=e!==null&&e.memoizedState===null?!1:(De.current&2)!==0),v&&(h=!0,n.flags&=-129),v=(n.flags&32)!==0,n.flags&=-33,e===null){if(zt){if(h?dr(n):mr(),zt){var T=oe,D;if(D=T){t:{for(D=T,T=si;D.nodeType!==8;){if(!T){T=null;break t}if(D=Qn(D.nextSibling),D===null){T=null;break t}}T=D}T!==null?(n.memoizedState={dehydrated:T,treeContext:ya!==null?{id:Di,overflow:Ni}:null,retryLane:536870912,hydrationErrors:null},D=dn(18,null,null,0),D.stateNode=T,D.return=n,n.child=D,en=n,oe=null,D=!0):D=!1}D||Ea(n)}if(T=n.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return td(T)?n.lanes=32:n.lanes=536870912,null;Oi(n)}return T=l.children,l=l.fallback,h?(mr(),h=n.mode,T=Mu({mode:"hidden",children:T},h),l=pa(l,h,s,null),T.return=n,l.return=n,T.sibling=l,n.child=T,h=n.child,h.memoizedState=pf(s),h.childLanes=yf(e,v,s),n.memoizedState=gf,l):(dr(n),_f(n,T))}if(D=e.memoizedState,D!==null&&(T=D.dehydrated,T!==null)){if(d)n.flags&256?(dr(n),n.flags&=-257,n=vf(e,n,s)):n.memoizedState!==null?(mr(),n.child=e.child,n.flags|=128,n=null):(mr(),h=l.fallback,T=n.mode,l=Mu({mode:"visible",children:l.children},T),h=pa(h,T,s,null),h.flags|=2,l.return=n,h.return=n,l.sibling=h,n.child=l,Ts(n,e.child,null,s),l=n.child,l.memoizedState=pf(s),l.childLanes=yf(e,v,s),n.memoizedState=gf,n=h);else if(dr(n),td(T)){if(v=T.nextSibling&&T.nextSibling.dataset,v)var z=v.dgst;v=z,l=Error(a(419)),l.stack="",l.digest=v,Cl({value:l,source:null,stack:null}),n=vf(e,n,s)}else if(Ve||Dl(e,n,s,!1),v=(s&e.childLanes)!==0,Ve||v){if(v=Wt,v!==null&&(l=s&-s,l=(l&42)!==0?1:sl(l),l=(l&(v.suspendedLanes|s))!==0?0:l,l!==0&&l!==D.retryLane))throw D.retryLane=l,cs(e,l),_n(v,e,l),Gp;T.data==="$?"||Pf(),n=vf(e,n,s)}else T.data==="$?"?(n.flags|=192,n.child=e.child,n=null):(e=D.treeContext,oe=Qn(T.nextSibling),en=n,zt=!0,va=null,si=!1,e!==null&&(Dn[Nn++]=Di,Dn[Nn++]=Ni,Dn[Nn++]=ya,Di=e.id,Ni=e.overflow,ya=n),n=_f(n,l.children),n.flags|=4096);return n}return h?(mr(),h=l.fallback,T=n.mode,D=e.child,z=D.sibling,l=Ci(D,{mode:"hidden",children:l.children}),l.subtreeFlags=D.subtreeFlags&65011712,z!==null?h=Ci(z,h):(h=pa(h,T,s,null),h.flags|=2),h.return=n,l.return=n,l.sibling=h,n.child=l,l=h,h=n.child,T=e.child.memoizedState,T===null?T=pf(s):(D=T.cachePool,D!==null?(z=Ce._currentValue,D=D.parent!==z?{parent:z,pool:z}:D):D=Bg(),T={baseLanes:T.baseLanes|s,cachePool:D}),h.memoizedState=T,h.childLanes=yf(e,v,s),n.memoizedState=gf,l):(dr(n),s=e.child,e=s.sibling,s=Ci(s,{mode:"visible",children:l.children}),s.return=n,s.sibling=null,e!==null&&(v=n.deletions,v===null?(n.deletions=[e],n.flags|=16):v.push(e)),n.child=s,n.memoizedState=null,s)}function _f(e,n){return n=Mu({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Mu(e,n){return e=dn(22,e,null,n),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function vf(e,n,s){return Ts(n,e.child,null,s),e=_f(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function ey(e,n,s){e.lanes|=n;var l=e.alternate;l!==null&&(l.lanes|=n),Lh(e.return,n,s)}function Ef(e,n,s,l,h){var d=e.memoizedState;d===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:h}:(d.isBackwards=n,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=s,d.tailMode=h)}function ny(e,n,s){var l=n.pendingProps,h=l.revealOrder,d=l.tail;if(ke(e,n,l.children,s),l=De.current,(l&2)!==0)l=l&1|2,n.flags|=128;else{if(e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ey(e,s,n);else if(e.tag===19)ey(e,s,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}l&=1}switch(st(De,l),h){case"forwards":for(s=n.child,h=null;s!==null;)e=s.alternate,e!==null&&xu(e)===null&&(h=s),s=s.sibling;s=h,s===null?(h=n.child,n.child=null):(h=s.sibling,s.sibling=null),Ef(n,!1,h,s,d);break;case"backwards":for(s=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&xu(e)===null){n.child=h;break}e=h.sibling,h.sibling=s,s=h,h=e}Ef(n,!0,s,null,d);break;case"together":Ef(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Mi(e,n,s){if(e!==null&&(n.dependencies=e.dependencies),vr|=n.lanes,(s&n.childLanes)===0)if(e!==null){if(Dl(e,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(a(153));if(n.child!==null){for(e=n.child,s=Ci(e,e.pendingProps),n.child=s,s.return=n;e.sibling!==null;)e=e.sibling,s=s.sibling=Ci(e,e.pendingProps),s.return=n;s.sibling=null}return n.child}function Tf(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&mu(e)))}function cT(e,n,s){switch(n.tag){case 3:Qt(n,n.stateNode.containerInfo),or(n,Ce,e.memoizedState.cache),wl();break;case 27:case 5:nl(n);break;case 4:Qt(n,n.stateNode.containerInfo);break;case 10:or(n,n.type,n.memoizedProps.value);break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(dr(n),n.flags|=128,null):(s&n.child.childLanes)!==0?ty(e,n,s):(dr(n),e=Mi(e,n,s),e!==null?e.sibling:null);dr(n);break;case 19:var h=(e.flags&128)!==0;if(l=(s&n.childLanes)!==0,l||(Dl(e,n,s,!1),l=(s&n.childLanes)!==0),h){if(l)return ny(e,n,s);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),st(De,De.current),l)break;return null;case 22:case 23:return n.lanes=0,Kp(e,n,s);case 24:or(n,Ce,e.memoizedState.cache)}return Mi(e,n,s)}function iy(e,n,s){if(e!==null)if(e.memoizedProps!==n.pendingProps)Ve=!0;else{if(!Tf(e,s)&&(n.flags&128)===0)return Ve=!1,cT(e,n,s);Ve=(e.flags&131072)!==0}else Ve=!1,zt&&(n.flags&1048576)!==0&&Og(n,du,n.index);switch(n.lanes=0,n.tag){case 16:t:{e=n.pendingProps;var l=n.elementType,h=l._init;if(l=h(l._payload),n.type=l,typeof l=="function")Nh(l)?(e=Ra(l,e),n.tag=1,n=Jp(null,n,l,e,s)):(n.tag=0,n=mf(null,n,l,e,s));else{if(l!=null){if(h=l.$$typeof,h===mt){n.tag=11,n=Qp(null,n,l,e,s);break t}else if(h===N){n.tag=14,n=Yp(null,n,l,e,s);break t}}throw n=_t(l)||l,Error(a(306,n,""))}}return n;case 0:return mf(e,n,n.type,n.pendingProps,s);case 1:return l=n.type,h=Ra(l,n.pendingProps),Jp(e,n,l,h,s);case 3:t:{if(Qt(n,n.stateNode.containerInfo),e===null)throw Error(a(387));l=n.pendingProps;var d=n.memoizedState;h=d.element,Hh(e,n),Ul(n,l,null,s);var v=n.memoizedState;if(l=v.cache,or(n,Ce,l),l!==d.cache&&Ph(n,[Ce],s,!0),Ml(),l=v.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:v.cache},n.updateQueue.baseState=d,n.memoizedState=d,n.flags&256){n=Wp(e,n,l,s);break t}else if(l!==h){h=wn(Error(a(424)),n),Cl(h),n=Wp(e,n,l,s);break t}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(oe=Qn(e.firstChild),en=n,zt=!0,va=null,si=!0,s=Up(n,null,l,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(wl(),l===h){n=Mi(e,n,s);break t}ke(e,n,l,s)}n=n.child}return n;case 26:return Ou(e,n),e===null?(s=l_(n.type,null,n.pendingProps,null))?n.memoizedState=s:zt||(s=n.type,e=n.pendingProps,l=Xu(bt.current).createElement(s),l[de]=n,l[Pe]=e,Be(l,s,e),me(l),n.stateNode=l):n.memoizedState=l_(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return nl(n),e===null&&zt&&(l=n.stateNode=r_(n.type,n.pendingProps,bt.current),en=n,si=!0,h=oe,br(n.type)?(ed=h,oe=Qn(l.firstChild)):oe=h),ke(e,n,n.pendingProps.children,s),Ou(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&zt&&((h=l=oe)&&(l=kT(l,n.type,n.pendingProps,si),l!==null?(n.stateNode=l,en=n,oe=Qn(l.firstChild),si=!1,h=!0):h=!1),h||Ea(n)),nl(n),h=n.type,d=n.pendingProps,v=e!==null?e.memoizedProps:null,l=d.children,Zf(h,d)?l=null:v!==null&&Zf(h,v)&&(n.flags|=32),n.memoizedState!==null&&(h=Kh(e,n,nT,null,null,s),io._currentValue=h),Ou(e,n),ke(e,n,l,s),n.child;case 6:return e===null&&zt&&((e=s=oe)&&(s=jT(s,n.pendingProps,si),s!==null?(n.stateNode=s,en=n,oe=null,e=!0):e=!1),e||Ea(n)),null;case 13:return ty(e,n,s);case 4:return Qt(n,n.stateNode.containerInfo),l=n.pendingProps,e===null?n.child=Ts(n,null,l,s):ke(e,n,l,s),n.child;case 11:return Qp(e,n,n.type,n.pendingProps,s);case 7:return ke(e,n,n.pendingProps,s),n.child;case 8:return ke(e,n,n.pendingProps.children,s),n.child;case 12:return ke(e,n,n.pendingProps.children,s),n.child;case 10:return l=n.pendingProps,or(n,n.type,l.value),ke(e,n,l.children,s),n.child;case 9:return h=n.type._context,l=n.pendingProps.children,Aa(n),h=Qe(h),l=l(h),n.flags|=1,ke(e,n,l,s),n.child;case 14:return Yp(e,n,n.type,n.pendingProps,s);case 15:return Xp(e,n,n.type,n.pendingProps,s);case 19:return ny(e,n,s);case 31:return l=n.pendingProps,s=n.mode,l={mode:l.mode,children:l.children},e===null?(s=Mu(l,s),s.ref=n.ref,n.child=s,s.return=n,n=s):(s=Ci(e.child,l),s.ref=n.ref,n.child=s,s.return=n,n=s),n;case 22:return Kp(e,n,s);case 24:return Aa(n),l=Qe(Ce),e===null?(h=Bh(),h===null&&(h=Wt,d=kh(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=s),h=d),n.memoizedState={parent:l,cache:h},qh(n),or(n,Ce,h)):((e.lanes&s)!==0&&(Hh(e,n),Ul(n,null,null,s),Ml()),h=e.memoizedState,d=n.memoizedState,h.parent!==l?(h={parent:l,cache:l},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),or(n,Ce,l)):(l=d.cache,or(n,Ce,l),l!==h.cache&&Ph(n,[Ce],s,!0))),ke(e,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function Ui(e){e.flags|=4}function ry(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!f_(n)){if(n=xn.current,n!==null&&((Lt&4194048)===Lt?li!==null:(Lt&62914560)!==Lt&&(Lt&536870912)===0||n!==li))throw Vl=zh,zg;e.flags|=8192}}function Uu(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?Ki():536870912,e.lanes|=n,Rs|=n)}function ql(e,n){if(!zt)switch(e.tailMode){case"hidden":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function se(e){var n=e.alternate!==null&&e.alternate.child===e.child,s=0,l=0;if(n)for(var h=e.child;h!==null;)s|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)s|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=l,e.childLanes=s,n}function hT(e,n,s){var l=n.pendingProps;switch(Oh(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return se(n),null;case 1:return se(n),null;case 3:return s=n.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Ii(Ce),Ln(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(Rl(n)?Ui(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Lg())),se(n),null;case 26:return s=n.memoizedState,e===null?(Ui(n),s!==null?(se(n),ry(n,s)):(se(n),n.flags&=-16777217)):s?s!==e.memoizedState?(Ui(n),se(n),ry(n,s)):(se(n),n.flags&=-16777217):(e.memoizedProps!==l&&Ui(n),se(n),n.flags&=-16777217),null;case 27:Fa(n),s=bt.current;var h=n.type;if(e!==null&&n.stateNode!=null)e.memoizedProps!==l&&Ui(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return se(n),null}e=yt.current,Rl(n)?Mg(n):(e=r_(h,l,s),n.stateNode=e,Ui(n))}return se(n),null;case 5:if(Fa(n),s=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==l&&Ui(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return se(n),null}if(e=yt.current,Rl(n))Mg(n);else{switch(h=Xu(bt.current),e){case 1:e=h.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:e=h.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":e=h.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":e=h.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":e=h.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?e.multiple=!0:l.size&&(e.size=l.size);break;default:e=typeof l.is=="string"?h.createElement(s,{is:l.is}):h.createElement(s)}}e[de]=n,e[Pe]=l;t:for(h=n.child;h!==null;){if(h.tag===5||h.tag===6)e.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===n)break t;for(;h.sibling===null;){if(h.return===null||h.return===n)break t;h=h.return}h.sibling.return=h.return,h=h.sibling}n.stateNode=e;t:switch(Be(e,s,l),s){case"button":case"input":case"select":case"textarea":e=!!l.autoFocus;break t;case"img":e=!0;break t;default:e=!1}e&&Ui(n)}}return se(n),n.flags&=-16777217,null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==l&&Ui(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(a(166));if(e=bt.current,Rl(n)){if(e=n.stateNode,s=n.memoizedProps,l=null,h=en,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}e[de]=n,e=!!(e.nodeValue===s||l!==null&&l.suppressHydrationWarning===!0||Zy(e.nodeValue,s)),e||Ea(n)}else e=Xu(e).createTextNode(l),e[de]=n,n.stateNode=e}return se(n),null;case 13:if(l=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=Rl(n),l!==null&&l.dehydrated!==null){if(e===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[de]=n}else wl(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;se(n),h=!1}else h=Lg(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(Oi(n),n):(Oi(n),null)}if(Oi(n),(n.flags&128)!==0)return n.lanes=s,n;if(s=l!==null,e=e!==null&&e.memoizedState!==null,s){l=n.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)}return s!==e&&s&&(n.child.flags|=8192),Uu(n,n.updateQueue),se(n),null;case 4:return Ln(),e===null&&Qf(n.stateNode.containerInfo),se(n),null;case 10:return Ii(n.type),se(n),null;case 19:if(lt(De),h=n.memoizedState,h===null)return se(n),null;if(l=(n.flags&128)!==0,d=h.rendering,d===null)if(l)ql(h,!1);else{if(ue!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(d=xu(e),d!==null){for(n.flags|=128,ql(h,!1),e=d.updateQueue,n.updateQueue=e,Uu(n,e),n.subtreeFlags=0,e=s,s=n.child;s!==null;)Vg(s,e),s=s.sibling;return st(De,De.current&1|2),n.child}e=e.sibling}h.tail!==null&&an()>ku&&(n.flags|=128,l=!0,ql(h,!1),n.lanes=4194304)}else{if(!l)if(e=xu(d),e!==null){if(n.flags|=128,l=!0,e=e.updateQueue,n.updateQueue=e,Uu(n,e),ql(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!zt)return se(n),null}else 2*an()-h.renderingStartTime>ku&&s!==536870912&&(n.flags|=128,l=!0,ql(h,!1),n.lanes=4194304);h.isBackwards?(d.sibling=n.child,n.child=d):(e=h.last,e!==null?e.sibling=d:n.child=d,h.last=d)}return h.tail!==null?(n=h.tail,h.rendering=n,h.tail=n.sibling,h.renderingStartTime=an(),n.sibling=null,e=De.current,st(De,l?e&1|2:e&1),n):(se(n),null);case 22:case 23:return Oi(n),Yh(),l=n.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(s&536870912)!==0&&(n.flags&128)===0&&(se(n),n.subtreeFlags&6&&(n.flags|=8192)):se(n),s=n.updateQueue,s!==null&&Uu(n,s.retryQueue),s=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==s&&(n.flags|=2048),e!==null&&lt(ba),null;case 24:return s=null,e!==null&&(s=e.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),Ii(Ce),se(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function fT(e,n){switch(Oh(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Ii(Ce),Ln(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return Fa(n),null;case 13:if(Oi(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(a(340));wl()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return lt(De),null;case 4:return Ln(),null;case 10:return Ii(n.type),null;case 22:case 23:return Oi(n),Yh(),e!==null&&lt(ba),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Ii(Ce),null;case 25:return null;default:return null}}function ay(e,n){switch(Oh(n),n.tag){case 3:Ii(Ce),Ln();break;case 26:case 27:case 5:Fa(n);break;case 4:Ln();break;case 13:Oi(n);break;case 19:lt(De);break;case 10:Ii(n.type);break;case 22:case 23:Oi(n),Yh(),e!==null&&lt(ba);break;case 24:Ii(Ce)}}function Hl(e,n){try{var s=n.updateQueue,l=s!==null?s.lastEffect:null;if(l!==null){var h=l.next;s=h;do{if((s.tag&e)===e){l=void 0;var d=s.create,v=s.inst;l=d(),v.destroy=l}s=s.next}while(s!==h)}}catch(T){Zt(n,n.return,T)}}function gr(e,n,s){try{var l=n.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&e)===e){var v=l.inst,T=v.destroy;if(T!==void 0){v.destroy=void 0,h=n;var D=s,z=T;try{z()}catch(K){Zt(h,D,K)}}}l=l.next}while(l!==d)}}catch(K){Zt(n,n.return,K)}}function sy(e){var n=e.updateQueue;if(n!==null){var s=e.stateNode;try{Yg(n,s)}catch(l){Zt(e,e.return,l)}}}function ly(e,n,s){s.props=Ra(e.type,e.memoizedProps),s.state=e.memoizedState;try{s.componentWillUnmount()}catch(l){Zt(e,n,l)}}function Fl(e,n){try{var s=e.ref;if(s!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof s=="function"?e.refCleanup=s(l):s.current=l}}catch(h){Zt(e,n,h)}}function oi(e,n){var s=e.ref,l=e.refCleanup;if(s!==null)if(typeof l=="function")try{l()}catch(h){Zt(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(h){Zt(e,n,h)}else s.current=null}function oy(e){var n=e.type,s=e.memoizedProps,l=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&l.focus();break t;case"img":s.src?l.src=s.src:s.srcSet&&(l.srcset=s.srcSet)}}catch(h){Zt(e,e.return,h)}}function Af(e,n,s){try{var l=e.stateNode;OT(l,e.type,s,n),l[Pe]=n}catch(h){Zt(e,e.return,h)}}function uy(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&br(e.type)||e.tag===4}function bf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||uy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&br(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Sf(e,n,s){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(e,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(e),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=Yu));else if(l!==4&&(l===27&&br(e.type)&&(s=e.stateNode,n=null),e=e.child,e!==null))for(Sf(e,n,s),e=e.sibling;e!==null;)Sf(e,n,s),e=e.sibling}function Lu(e,n,s){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?s.insertBefore(e,n):s.appendChild(e);else if(l!==4&&(l===27&&br(e.type)&&(s=e.stateNode),e=e.child,e!==null))for(Lu(e,n,s),e=e.sibling;e!==null;)Lu(e,n,s),e=e.sibling}function cy(e){var n=e.stateNode,s=e.memoizedProps;try{for(var l=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);Be(n,l,s),n[de]=e,n[Pe]=s}catch(d){Zt(e,e.return,d)}}var Li=!1,ye=!1,Rf=!1,hy=typeof WeakSet=="function"?WeakSet:Set,Oe=null;function dT(e,n){if(e=e.containerInfo,Kf=tc,e=Ag(e),Ah(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else t:{s=(s=e.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{s.nodeType,d.nodeType}catch{s=null;break t}var v=0,T=-1,D=-1,z=0,K=0,J=e,q=null;e:for(;;){for(var F;J!==s||h!==0&&J.nodeType!==3||(T=v+h),J!==d||l!==0&&J.nodeType!==3||(D=v+l),J.nodeType===3&&(v+=J.nodeValue.length),(F=J.firstChild)!==null;)q=J,J=F;for(;;){if(J===e)break e;if(q===s&&++z===h&&(T=v),q===d&&++K===l&&(D=v),(F=J.nextSibling)!==null)break;J=q,q=J.parentNode}J=F}s=T===-1||D===-1?null:{start:T,end:D}}else s=null}s=s||{start:0,end:0}}else s=null;for($f={focusedElem:e,selectionRange:s},tc=!1,Oe=n;Oe!==null;)if(n=Oe,e=n.child,(n.subtreeFlags&1024)!==0&&e!==null)e.return=n,Oe=e;else for(;Oe!==null;){switch(n=Oe,d=n.alternate,e=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,s=n,h=d.memoizedProps,d=d.memoizedState,l=s.stateNode;try{var St=Ra(s.type,h,s.elementType===s.type);e=l.getSnapshotBeforeUpdate(St,d),l.__reactInternalSnapshotBeforeUpdate=e}catch(Et){Zt(s,s.return,Et)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,s=e.nodeType,s===9)Wf(e);else if(s===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Wf(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=n.sibling,e!==null){e.return=n.return,Oe=e;break}Oe=n.return}}function fy(e,n,s){var l=s.flags;switch(s.tag){case 0:case 11:case 15:pr(e,s),l&4&&Hl(5,s);break;case 1:if(pr(e,s),l&4)if(e=s.stateNode,n===null)try{e.componentDidMount()}catch(v){Zt(s,s.return,v)}else{var h=Ra(s.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(v){Zt(s,s.return,v)}}l&64&&sy(s),l&512&&Fl(s,s.return);break;case 3:if(pr(e,s),l&64&&(e=s.updateQueue,e!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{Yg(e,n)}catch(v){Zt(s,s.return,v)}}break;case 27:n===null&&l&4&&cy(s);case 26:case 5:pr(e,s),n===null&&l&4&&oy(s),l&512&&Fl(s,s.return);break;case 12:pr(e,s);break;case 13:pr(e,s),l&4&&gy(e,s),l&64&&(e=s.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(s=AT.bind(null,s),BT(e,s))));break;case 22:if(l=s.memoizedState!==null||Li,!l){n=n!==null&&n.memoizedState!==null||ye,h=Li;var d=ye;Li=l,(ye=n)&&!d?yr(e,s,(s.subtreeFlags&8772)!==0):pr(e,s),Li=h,ye=d}break;case 30:break;default:pr(e,s)}}function dy(e){var n=e.alternate;n!==null&&(e.alternate=null,dy(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&Ka(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ie=null,ln=!1;function Pi(e,n,s){for(s=s.child;s!==null;)my(e,n,s),s=s.sibling}function my(e,n,s){if(Fe&&typeof Fe.onCommitFiberUnmount=="function")try{Fe.onCommitFiberUnmount(Qi,s)}catch{}switch(s.tag){case 26:ye||oi(s,n),Pi(e,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:ye||oi(s,n);var l=ie,h=ln;br(s.type)&&(ie=s.stateNode,ln=!1),Pi(e,n,s),Wl(s.stateNode),ie=l,ln=h;break;case 5:ye||oi(s,n);case 6:if(l=ie,h=ln,ie=null,Pi(e,n,s),ie=l,ln=h,ie!==null)if(ln)try{(ie.nodeType===9?ie.body:ie.nodeName==="HTML"?ie.ownerDocument.body:ie).removeChild(s.stateNode)}catch(d){Zt(s,n,d)}else try{ie.removeChild(s.stateNode)}catch(d){Zt(s,n,d)}break;case 18:ie!==null&&(ln?(e=ie,n_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,s.stateNode),lo(e)):n_(ie,s.stateNode));break;case 4:l=ie,h=ln,ie=s.stateNode.containerInfo,ln=!0,Pi(e,n,s),ie=l,ln=h;break;case 0:case 11:case 14:case 15:ye||gr(2,s,n),ye||gr(4,s,n),Pi(e,n,s);break;case 1:ye||(oi(s,n),l=s.stateNode,typeof l.componentWillUnmount=="function"&&ly(s,n,l)),Pi(e,n,s);break;case 21:Pi(e,n,s);break;case 22:ye=(l=ye)||s.memoizedState!==null,Pi(e,n,s),ye=l;break;default:Pi(e,n,s)}}function gy(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{lo(e)}catch(s){Zt(n,n.return,s)}}function mT(e){switch(e.tag){case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new hy),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new hy),n;default:throw Error(a(435,e.tag))}}function wf(e,n){var s=mT(e);n.forEach(function(l){var h=bT.bind(null,e,l);s.has(l)||(s.add(l),l.then(h,h))})}function mn(e,n){var s=n.deletions;if(s!==null)for(var l=0;l<s.length;l++){var h=s[l],d=e,v=n,T=v;t:for(;T!==null;){switch(T.tag){case 27:if(br(T.type)){ie=T.stateNode,ln=!1;break t}break;case 5:ie=T.stateNode,ln=!1;break t;case 3:case 4:ie=T.stateNode.containerInfo,ln=!0;break t}T=T.return}if(ie===null)throw Error(a(160));my(d,v,h),ie=null,ln=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)py(n,e),n=n.sibling}var Gn=null;function py(e,n){var s=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:mn(n,e),gn(e),l&4&&(gr(3,e,e.return),Hl(3,e),gr(5,e,e.return));break;case 1:mn(n,e),gn(e),l&512&&(ye||s===null||oi(s,s.return)),l&64&&Li&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(s=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=s===null?l:s.concat(l))));break;case 26:var h=Gn;if(mn(n,e),gn(e),l&512&&(ye||s===null||oi(s,s.return)),l&4){var d=s!==null?s.memoizedState:null;if(l=e.memoizedState,s===null)if(l===null)if(e.stateNode===null){t:{l=e.type,s=e.memoizedProps,h=h.ownerDocument||h;e:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[Ji]||d[de]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),Be(d,l,s),d[de]=e,me(d),l=d;break t;case"link":var v=c_("link","href",h).get(l+(s.href||""));if(v){for(var T=0;T<v.length;T++)if(d=v[T],d.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&d.getAttribute("rel")===(s.rel==null?null:s.rel)&&d.getAttribute("title")===(s.title==null?null:s.title)&&d.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){v.splice(T,1);break e}}d=h.createElement(l),Be(d,l,s),h.head.appendChild(d);break;case"meta":if(v=c_("meta","content",h).get(l+(s.content||""))){for(T=0;T<v.length;T++)if(d=v[T],d.getAttribute("content")===(s.content==null?null:""+s.content)&&d.getAttribute("name")===(s.name==null?null:s.name)&&d.getAttribute("property")===(s.property==null?null:s.property)&&d.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&d.getAttribute("charset")===(s.charSet==null?null:s.charSet)){v.splice(T,1);break e}}d=h.createElement(l),Be(d,l,s),h.head.appendChild(d);break;default:throw Error(a(468,l))}d[de]=e,me(d),l=d}e.stateNode=l}else h_(h,e.type,e.stateNode);else e.stateNode=u_(h,l,e.memoizedProps);else d!==l?(d===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):d.count--,l===null?h_(h,e.type,e.stateNode):u_(h,l,e.memoizedProps)):l===null&&e.stateNode!==null&&Af(e,e.memoizedProps,s.memoizedProps)}break;case 27:mn(n,e),gn(e),l&512&&(ye||s===null||oi(s,s.return)),s!==null&&l&4&&Af(e,e.memoizedProps,s.memoizedProps);break;case 5:if(mn(n,e),gn(e),l&512&&(ye||s===null||oi(s,s.return)),e.flags&32){h=e.stateNode;try{Sn(h,"")}catch(F){Zt(e,e.return,F)}}l&4&&e.stateNode!=null&&(h=e.memoizedProps,Af(e,h,s!==null?s.memoizedProps:h)),l&1024&&(Rf=!0);break;case 6:if(mn(n,e),gn(e),l&4){if(e.stateNode===null)throw Error(a(162));l=e.memoizedProps,s=e.stateNode;try{s.nodeValue=l}catch(F){Zt(e,e.return,F)}}break;case 3:if(Zu=null,h=Gn,Gn=Ku(n.containerInfo),mn(n,e),Gn=h,gn(e),l&4&&s!==null&&s.memoizedState.isDehydrated)try{lo(n.containerInfo)}catch(F){Zt(e,e.return,F)}Rf&&(Rf=!1,yy(e));break;case 4:l=Gn,Gn=Ku(e.stateNode.containerInfo),mn(n,e),gn(e),Gn=l;break;case 12:mn(n,e),gn(e);break;case 13:mn(n,e),gn(e),e.child.flags&8192&&e.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Vf=an()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,wf(e,l)));break;case 22:h=e.memoizedState!==null;var D=s!==null&&s.memoizedState!==null,z=Li,K=ye;if(Li=z||h,ye=K||D,mn(n,e),ye=K,Li=z,gn(e),l&8192)t:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(s===null||D||Li||ye||wa(e)),s=null,n=e;;){if(n.tag===5||n.tag===26){if(s===null){D=s=n;try{if(d=D.stateNode,h)v=d.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{T=D.stateNode;var J=D.memoizedProps.style,q=J!=null&&J.hasOwnProperty("display")?J.display:null;T.style.display=q==null||typeof q=="boolean"?"":(""+q).trim()}}catch(F){Zt(D,D.return,F)}}}else if(n.tag===6){if(s===null){D=n;try{D.stateNode.nodeValue=h?"":D.memoizedProps}catch(F){Zt(D,D.return,F)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=e.updateQueue,l!==null&&(s=l.retryQueue,s!==null&&(l.retryQueue=null,wf(e,s))));break;case 19:mn(n,e),gn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,wf(e,l)));break;case 30:break;case 21:break;default:mn(n,e),gn(e)}}function gn(e){var n=e.flags;if(n&2){try{for(var s,l=e.return;l!==null;){if(uy(l)){s=l;break}l=l.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var h=s.stateNode,d=bf(e);Lu(e,d,h);break;case 5:var v=s.stateNode;s.flags&32&&(Sn(v,""),s.flags&=-33);var T=bf(e);Lu(e,T,v);break;case 3:case 4:var D=s.stateNode.containerInfo,z=bf(e);Sf(e,z,D);break;default:throw Error(a(161))}}catch(K){Zt(e,e.return,K)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function yy(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;yy(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function pr(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)fy(e,n.alternate,n),n=n.sibling}function wa(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:gr(4,n,n.return),wa(n);break;case 1:oi(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&ly(n,n.return,s),wa(n);break;case 27:Wl(n.stateNode);case 26:case 5:oi(n,n.return),wa(n);break;case 22:n.memoizedState===null&&wa(n);break;case 30:wa(n);break;default:wa(n)}e=e.sibling}}function yr(e,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,h=e,d=n,v=d.flags;switch(d.tag){case 0:case 11:case 15:yr(h,d,s),Hl(4,d);break;case 1:if(yr(h,d,s),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(z){Zt(l,l.return,z)}if(l=d,h=l.updateQueue,h!==null){var T=l.stateNode;try{var D=h.shared.hiddenCallbacks;if(D!==null)for(h.shared.hiddenCallbacks=null,h=0;h<D.length;h++)Qg(D[h],T)}catch(z){Zt(l,l.return,z)}}s&&v&64&&sy(d),Fl(d,d.return);break;case 27:cy(d);case 26:case 5:yr(h,d,s),s&&l===null&&v&4&&oy(d),Fl(d,d.return);break;case 12:yr(h,d,s);break;case 13:yr(h,d,s),s&&v&4&&gy(h,d);break;case 22:d.memoizedState===null&&yr(h,d,s),Fl(d,d.return);break;case 30:break;default:yr(h,d,s)}n=n.sibling}}function Cf(e,n){var s=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==s&&(e!=null&&e.refCount++,s!=null&&Nl(s))}function Df(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Nl(e))}function ui(e,n,s,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)_y(e,n,s,l),n=n.sibling}function _y(e,n,s,l){var h=n.flags;switch(n.tag){case 0:case 11:case 15:ui(e,n,s,l),h&2048&&Hl(9,n);break;case 1:ui(e,n,s,l);break;case 3:ui(e,n,s,l),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Nl(e)));break;case 12:if(h&2048){ui(e,n,s,l),e=n.stateNode;try{var d=n.memoizedProps,v=d.id,T=d.onPostCommit;typeof T=="function"&&T(v,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(D){Zt(n,n.return,D)}}else ui(e,n,s,l);break;case 13:ui(e,n,s,l);break;case 23:break;case 22:d=n.stateNode,v=n.alternate,n.memoizedState!==null?d._visibility&2?ui(e,n,s,l):Gl(e,n):d._visibility&2?ui(e,n,s,l):(d._visibility|=2,As(e,n,s,l,(n.subtreeFlags&10256)!==0)),h&2048&&Cf(v,n);break;case 24:ui(e,n,s,l),h&2048&&Df(n.alternate,n);break;default:ui(e,n,s,l)}}function As(e,n,s,l,h){for(h=h&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var d=e,v=n,T=s,D=l,z=v.flags;switch(v.tag){case 0:case 11:case 15:As(d,v,T,D,h),Hl(8,v);break;case 23:break;case 22:var K=v.stateNode;v.memoizedState!==null?K._visibility&2?As(d,v,T,D,h):Gl(d,v):(K._visibility|=2,As(d,v,T,D,h)),h&&z&2048&&Cf(v.alternate,v);break;case 24:As(d,v,T,D,h),h&&z&2048&&Df(v.alternate,v);break;default:As(d,v,T,D,h)}n=n.sibling}}function Gl(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=e,l=n,h=l.flags;switch(l.tag){case 22:Gl(s,l),h&2048&&Cf(l.alternate,l);break;case 24:Gl(s,l),h&2048&&Df(l.alternate,l);break;default:Gl(s,l)}n=n.sibling}}var Ql=8192;function bs(e){if(e.subtreeFlags&Ql)for(e=e.child;e!==null;)vy(e),e=e.sibling}function vy(e){switch(e.tag){case 26:bs(e),e.flags&Ql&&e.memoizedState!==null&&WT(Gn,e.memoizedState,e.memoizedProps);break;case 5:bs(e);break;case 3:case 4:var n=Gn;Gn=Ku(e.stateNode.containerInfo),bs(e),Gn=n;break;case 22:e.memoizedState===null&&(n=e.alternate,n!==null&&n.memoizedState!==null?(n=Ql,Ql=16777216,bs(e),Ql=n):bs(e));break;default:bs(e)}}function Ey(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function Yl(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];Oe=l,Ay(l,e)}Ey(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Ty(e),e=e.sibling}function Ty(e){switch(e.tag){case 0:case 11:case 15:Yl(e),e.flags&2048&&gr(9,e,e.return);break;case 3:Yl(e);break;case 12:Yl(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,Pu(e)):Yl(e);break;default:Yl(e)}}function Pu(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];Oe=l,Ay(l,e)}Ey(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:gr(8,n,n.return),Pu(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,Pu(n));break;default:Pu(n)}e=e.sibling}}function Ay(e,n){for(;Oe!==null;){var s=Oe;switch(s.tag){case 0:case 11:case 15:gr(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var l=s.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Nl(s.memoizedState.cache)}if(l=s.child,l!==null)l.return=s,Oe=l;else t:for(s=e;Oe!==null;){l=Oe;var h=l.sibling,d=l.return;if(dy(l),l===s){Oe=null;break t}if(h!==null){h.return=d,Oe=h;break t}Oe=d}}}var gT={getCacheForType:function(e){var n=Qe(Ce),s=n.data.get(e);return s===void 0&&(s=e(),n.data.set(e,s)),s}},pT=typeof WeakMap=="function"?WeakMap:Map,Ft=0,Wt=null,It=null,Lt=0,Gt=0,pn=null,_r=!1,Ss=!1,Nf=!1,ki=0,ue=0,vr=0,Ca=0,xf=0,In=0,Rs=0,Xl=null,on=null,If=!1,Vf=0,ku=1/0,ju=null,Er=null,je=0,Tr=null,ws=null,Cs=0,Of=0,Mf=null,by=null,Kl=0,Uf=null;function yn(){if((Ft&2)!==0&&Lt!==0)return Lt&-Lt;if(Q.T!==null){var e=ms;return e!==0?e:qf()}return Ei()}function Sy(){In===0&&(In=(Lt&536870912)===0||zt?al():536870912);var e=xn.current;return e!==null&&(e.flags|=32),In}function _n(e,n,s){(e===Wt&&(Gt===2||Gt===9)||e.cancelPendingCommit!==null)&&(Ds(e,0),Ar(e,Lt,In,!1)),fe(e,s),((Ft&2)===0||e!==Wt)&&(e===Wt&&((Ft&2)===0&&(Ca|=s),ue===4&&Ar(e,Lt,In,!1)),ci(e))}function Ry(e,n,s){if((Ft&6)!==0)throw Error(a(327));var l=!s&&(n&124)===0&&(n&e.expiredLanes)===0||Xi(e,n),h=l?vT(e,n):kf(e,n,!0),d=l;do{if(h===0){Ss&&!l&&Ar(e,n,0,!1);break}else{if(s=e.current.alternate,d&&!yT(s)){h=kf(e,n,!1),d=!1;continue}if(h===2){if(d=n,e.errorRecoveryDisabledLanes&d)var v=0;else v=e.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){n=v;t:{var T=e;h=Xl;var D=T.current.memoizedState.isDehydrated;if(D&&(Ds(T,v).flags|=256),v=kf(T,v,!1),v!==2){if(Nf&&!D){T.errorRecoveryDisabledLanes|=d,Ca|=d,h=4;break t}d=on,on=h,d!==null&&(on===null?on=d:on.push.apply(on,d))}h=v}if(d=!1,h!==2)continue}}if(h===1){Ds(e,0),Ar(e,n,0,!0);break}t:{switch(l=e,d=h,d){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:Ar(l,n,In,!_r);break t;case 2:on=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(h=Vf+300-an(),10<h)){if(Ar(l,n,In,!_r),An(l,0,!0)!==0)break t;l.timeoutHandle=t_(wy.bind(null,l,s,on,ju,If,n,In,Ca,Rs,_r,d,2,-0,0),h);break t}wy(l,s,on,ju,If,n,In,Ca,Rs,_r,d,0,-0,0)}}break}while(!0);ci(e)}function wy(e,n,s,l,h,d,v,T,D,z,K,J,q,F){if(e.timeoutHandle=-1,J=n.subtreeFlags,(J&8192||(J&16785408)===16785408)&&(no={stylesheets:null,count:0,unsuspend:JT},vy(n),J=tA(),J!==null)){e.cancelPendingCommit=J(Oy.bind(null,e,n,d,s,l,h,v,T,D,K,1,q,F)),Ar(e,d,v,!z);return}Oy(e,n,d,s,l,h,v,T,D)}function yT(e){for(var n=e;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var l=0;l<s.length;l++){var h=s[l],d=h.getSnapshot;h=h.value;try{if(!fn(d(),h))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Ar(e,n,s,l){n&=~xf,n&=~Ca,e.suspendedLanes|=n,e.pingedLanes&=~n,l&&(e.warmLanes|=n),l=e.expirationTimes;for(var h=n;0<h;){var d=31-Ze(h),v=1<<d;l[d]=-1,h&=~v}s!==0&&$i(e,s,n)}function Bu(){return(Ft&6)===0?($l(0),!1):!0}function Lf(){if(It!==null){if(Gt===0)var e=It.return;else e=It,xi=Ta=null,Jh(e),Es=null,Bl=0,e=It;for(;e!==null;)ay(e.alternate,e),e=e.return;It=null}}function Ds(e,n){var s=e.timeoutHandle;s!==-1&&(e.timeoutHandle=-1,UT(s)),s=e.cancelPendingCommit,s!==null&&(e.cancelPendingCommit=null,s()),Lf(),Wt=e,It=s=Ci(e.current,null),Lt=n,Gt=0,pn=null,_r=!1,Ss=Xi(e,n),Nf=!1,Rs=In=xf=Ca=vr=ue=0,on=Xl=null,If=!1,(n&8)!==0&&(n|=n&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=n;0<l;){var h=31-Ze(l),d=1<<h;n|=e[h],l&=~d}return ki=n,ou(),s}function Cy(e,n){Nt=null,Q.H=Cu,n===Il||n===yu?(n=Fg(),Gt=3):n===zg?(n=Fg(),Gt=4):Gt=n===Gp?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,pn=n,It===null&&(ue=1,Vu(e,wn(n,e.current)))}function Dy(){var e=Q.H;return Q.H=Cu,e===null?Cu:e}function Ny(){var e=Q.A;return Q.A=gT,e}function Pf(){ue=4,_r||(Lt&4194048)!==Lt&&xn.current!==null||(Ss=!0),(vr&134217727)===0&&(Ca&134217727)===0||Wt===null||Ar(Wt,Lt,In,!1)}function kf(e,n,s){var l=Ft;Ft|=2;var h=Dy(),d=Ny();(Wt!==e||Lt!==n)&&(ju=null,Ds(e,n)),n=!1;var v=ue;t:do try{if(Gt!==0&&It!==null){var T=It,D=pn;switch(Gt){case 8:Lf(),v=6;break t;case 3:case 2:case 9:case 6:xn.current===null&&(n=!0);var z=Gt;if(Gt=0,pn=null,Ns(e,T,D,z),s&&Ss){v=0;break t}break;default:z=Gt,Gt=0,pn=null,Ns(e,T,D,z)}}_T(),v=ue;break}catch(K){Cy(e,K)}while(!0);return n&&e.shellSuspendCounter++,xi=Ta=null,Ft=l,Q.H=h,Q.A=d,It===null&&(Wt=null,Lt=0,ou()),v}function _T(){for(;It!==null;)xy(It)}function vT(e,n){var s=Ft;Ft|=2;var l=Dy(),h=Ny();Wt!==e||Lt!==n?(ju=null,ku=an()+500,Ds(e,n)):Ss=Xi(e,n);t:do try{if(Gt!==0&&It!==null){n=It;var d=pn;e:switch(Gt){case 1:Gt=0,pn=null,Ns(e,n,d,1);break;case 2:case 9:if(qg(d)){Gt=0,pn=null,Iy(n);break}n=function(){Gt!==2&&Gt!==9||Wt!==e||(Gt=7),ci(e)},d.then(n,n);break t;case 3:Gt=7;break t;case 4:Gt=5;break t;case 7:qg(d)?(Gt=0,pn=null,Iy(n)):(Gt=0,pn=null,Ns(e,n,d,7));break;case 5:var v=null;switch(It.tag){case 26:v=It.memoizedState;case 5:case 27:var T=It;if(!v||f_(v)){Gt=0,pn=null;var D=T.sibling;if(D!==null)It=D;else{var z=T.return;z!==null?(It=z,zu(z)):It=null}break e}}Gt=0,pn=null,Ns(e,n,d,5);break;case 6:Gt=0,pn=null,Ns(e,n,d,6);break;case 8:Lf(),ue=6;break t;default:throw Error(a(462))}}ET();break}catch(K){Cy(e,K)}while(!0);return xi=Ta=null,Q.H=l,Q.A=h,Ft=s,It!==null?0:(Wt=null,Lt=0,ou(),ue)}function ET(){for(;It!==null&&!hh();)xy(It)}function xy(e){var n=iy(e.alternate,e,ki);e.memoizedProps=e.pendingProps,n===null?zu(e):It=n}function Iy(e){var n=e,s=n.alternate;switch(n.tag){case 15:case 0:n=Zp(s,n,n.pendingProps,n.type,void 0,Lt);break;case 11:n=Zp(s,n,n.pendingProps,n.type.render,n.ref,Lt);break;case 5:Jh(n);default:ay(s,n),n=It=Vg(n,ki),n=iy(s,n,ki)}e.memoizedProps=e.pendingProps,n===null?zu(e):It=n}function Ns(e,n,s,l){xi=Ta=null,Jh(n),Es=null,Bl=0;var h=n.return;try{if(uT(e,h,n,s,Lt)){ue=1,Vu(e,wn(s,e.current)),It=null;return}}catch(d){if(h!==null)throw It=h,d;ue=1,Vu(e,wn(s,e.current)),It=null;return}n.flags&32768?(zt||l===1?e=!0:Ss||(Lt&536870912)!==0?e=!1:(_r=e=!0,(l===2||l===9||l===3||l===6)&&(l=xn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Vy(n,e)):zu(n)}function zu(e){var n=e;do{if((n.flags&32768)!==0){Vy(n,_r);return}e=n.return;var s=hT(n.alternate,n,ki);if(s!==null){It=s;return}if(n=n.sibling,n!==null){It=n;return}It=n=e}while(n!==null);ue===0&&(ue=5)}function Vy(e,n){do{var s=fT(e.alternate,e);if(s!==null){s.flags&=32767,It=s;return}if(s=e.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(e=e.sibling,e!==null)){It=e;return}It=e=s}while(e!==null);ue=6,It=null}function Oy(e,n,s,l,h,d,v,T,D){e.cancelPendingCommit=null;do qu();while(je!==0);if((Ft&6)!==0)throw Error(a(327));if(n!==null){if(n===e.current)throw Error(a(177));if(d=n.lanes|n.childLanes,d|=Ch,Go(e,s,d,v,T,D),e===Wt&&(It=Wt=null,Lt=0),ws=n,Tr=e,Cs=s,Of=d,Mf=h,by=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,ST(vi,function(){return ky(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=Q.T,Q.T=null,h=rt.p,rt.p=2,v=Ft,Ft|=4;try{dT(e,n,s)}finally{Ft=v,rt.p=h,Q.T=l}}je=1,My(),Uy(),Ly()}}function My(){if(je===1){je=0;var e=Tr,n=ws,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=Q.T,Q.T=null;var l=rt.p;rt.p=2;var h=Ft;Ft|=4;try{py(n,e);var d=$f,v=Ag(e.containerInfo),T=d.focusedElem,D=d.selectionRange;if(v!==T&&T&&T.ownerDocument&&Tg(T.ownerDocument.documentElement,T)){if(D!==null&&Ah(T)){var z=D.start,K=D.end;if(K===void 0&&(K=z),"selectionStart"in T)T.selectionStart=z,T.selectionEnd=Math.min(K,T.value.length);else{var J=T.ownerDocument||document,q=J&&J.defaultView||window;if(q.getSelection){var F=q.getSelection(),St=T.textContent.length,Et=Math.min(D.start,St),$t=D.end===void 0?Et:Math.min(D.end,St);!F.extend&&Et>$t&&(v=$t,$t=Et,Et=v);var L=Eg(T,Et),M=Eg(T,$t);if(L&&M&&(F.rangeCount!==1||F.anchorNode!==L.node||F.anchorOffset!==L.offset||F.focusNode!==M.node||F.focusOffset!==M.offset)){var j=J.createRange();j.setStart(L.node,L.offset),F.removeAllRanges(),Et>$t?(F.addRange(j),F.extend(M.node,M.offset)):(j.setEnd(M.node,M.offset),F.addRange(j))}}}}for(J=[],F=T;F=F.parentNode;)F.nodeType===1&&J.push({element:F,left:F.scrollLeft,top:F.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<J.length;T++){var $=J[T];$.element.scrollLeft=$.left,$.element.scrollTop=$.top}}tc=!!Kf,$f=Kf=null}finally{Ft=h,rt.p=l,Q.T=s}}e.current=n,je=2}}function Uy(){if(je===2){je=0;var e=Tr,n=ws,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=Q.T,Q.T=null;var l=rt.p;rt.p=2;var h=Ft;Ft|=4;try{fy(e,n.alternate,n)}finally{Ft=h,rt.p=l,Q.T=s}}je=3}}function Ly(){if(je===4||je===3){je=0,il();var e=Tr,n=ws,s=Cs,l=by;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?je=5:(je=0,ws=Tr=null,Py(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(Er=null),ll(s),n=n.stateNode,Fe&&typeof Fe.onCommitFiberRoot=="function")try{Fe.onCommitFiberRoot(Qi,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=Q.T,h=rt.p,rt.p=2,Q.T=null;try{for(var d=e.onRecoverableError,v=0;v<l.length;v++){var T=l[v];d(T.value,{componentStack:T.stack})}}finally{Q.T=n,rt.p=h}}(Cs&3)!==0&&qu(),ci(e),h=e.pendingLanes,(s&4194090)!==0&&(h&42)!==0?e===Uf?Kl++:(Kl=0,Uf=e):Kl=0,$l(0)}}function Py(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Nl(n)))}function qu(e){return My(),Uy(),Ly(),ky()}function ky(){if(je!==5)return!1;var e=Tr,n=Of;Of=0;var s=ll(Cs),l=Q.T,h=rt.p;try{rt.p=32>s?32:s,Q.T=null,s=Mf,Mf=null;var d=Tr,v=Cs;if(je=0,ws=Tr=null,Cs=0,(Ft&6)!==0)throw Error(a(331));var T=Ft;if(Ft|=4,Ty(d.current),_y(d,d.current,v,s),Ft=T,$l(0,!1),Fe&&typeof Fe.onPostCommitFiberRoot=="function")try{Fe.onPostCommitFiberRoot(Qi,d)}catch{}return!0}finally{rt.p=h,Q.T=l,Py(e,n)}}function jy(e,n,s){n=wn(s,n),n=df(e.stateNode,n,2),e=hr(e,n,2),e!==null&&(fe(e,2),ci(e))}function Zt(e,n,s){if(e.tag===3)jy(e,e,s);else for(;n!==null;){if(n.tag===3){jy(n,e,s);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Er===null||!Er.has(l))){e=wn(s,e),s=Hp(2),l=hr(n,s,2),l!==null&&(Fp(s,l,n,e),fe(l,2),ci(l));break}}n=n.return}}function jf(e,n,s){var l=e.pingCache;if(l===null){l=e.pingCache=new pT;var h=new Set;l.set(n,h)}else h=l.get(n),h===void 0&&(h=new Set,l.set(n,h));h.has(s)||(Nf=!0,h.add(s),e=TT.bind(null,e,n,s),n.then(e,e))}function TT(e,n,s){var l=e.pingCache;l!==null&&l.delete(n),e.pingedLanes|=e.suspendedLanes&s,e.warmLanes&=~s,Wt===e&&(Lt&s)===s&&(ue===4||ue===3&&(Lt&62914560)===Lt&&300>an()-Vf?(Ft&2)===0&&Ds(e,0):xf|=s,Rs===Lt&&(Rs=0)),ci(e)}function By(e,n){n===0&&(n=Ki()),e=cs(e,n),e!==null&&(fe(e,n),ci(e))}function AT(e){var n=e.memoizedState,s=0;n!==null&&(s=n.retryLane),By(e,s)}function bT(e,n){var s=0;switch(e.tag){case 13:var l=e.stateNode,h=e.memoizedState;h!==null&&(s=h.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(n),By(e,s)}function ST(e,n){return Qr(e,n)}var Hu=null,xs=null,Bf=!1,Fu=!1,zf=!1,Da=0;function ci(e){e!==xs&&e.next===null&&(xs===null?Hu=xs=e:xs=xs.next=e),Fu=!0,Bf||(Bf=!0,wT())}function $l(e,n){if(!zf&&Fu){zf=!0;do for(var s=!1,l=Hu;l!==null;){if(e!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var v=l.suspendedLanes,T=l.pingedLanes;d=(1<<31-Ze(42|e)+1)-1,d&=h&~(v&~T),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(s=!0,Fy(l,d))}else d=Lt,d=An(l,l===Wt?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Xi(l,d)||(s=!0,Fy(l,d));l=l.next}while(s);zf=!1}}function RT(){zy()}function zy(){Fu=Bf=!1;var e=0;Da!==0&&(MT()&&(e=Da),Da=0);for(var n=an(),s=null,l=Hu;l!==null;){var h=l.next,d=qy(l,n);d===0?(l.next=null,s===null?Hu=h:s.next=h,h===null&&(xs=s)):(s=l,(e!==0||(d&3)!==0)&&(Fu=!0)),l=h}$l(e)}function qy(e,n){for(var s=e.suspendedLanes,l=e.pingedLanes,h=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var v=31-Ze(d),T=1<<v,D=h[v];D===-1?((T&s)===0||(T&l)!==0)&&(h[v]=Ya(T,n)):D<=n&&(e.expiredLanes|=T),d&=~T}if(n=Wt,s=Lt,s=An(e,e===n?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,s===0||e===n&&(Gt===2||Gt===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&Qa(l),e.callbackNode=null,e.callbackPriority=0;if((s&3)===0||Xi(e,s)){if(n=s&-s,n===e.callbackPriority)return n;switch(l!==null&&Qa(l),ll(s)){case 2:case 8:s=xe;break;case 32:s=vi;break;case 268435456:s=rl;break;default:s=vi}return l=Hy.bind(null,e),s=Qr(s,l),e.callbackPriority=n,e.callbackNode=s,n}return l!==null&&l!==null&&Qa(l),e.callbackPriority=2,e.callbackNode=null,2}function Hy(e,n){if(je!==0&&je!==5)return e.callbackNode=null,e.callbackPriority=0,null;var s=e.callbackNode;if(qu()&&e.callbackNode!==s)return null;var l=Lt;return l=An(e,e===Wt?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(Ry(e,l,n),qy(e,an()),e.callbackNode!=null&&e.callbackNode===s?Hy.bind(null,e):null)}function Fy(e,n){if(qu())return null;Ry(e,n,!0)}function wT(){LT(function(){(Ft&6)!==0?Qr(Re,RT):zy()})}function qf(){return Da===0&&(Da=al()),Da}function Gy(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Bn(""+e)}function Qy(e,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,e.id&&s.setAttribute("form",e.id),n.parentNode.insertBefore(s,n),e=new FormData(e),s.parentNode.removeChild(s),e}function CT(e,n,s,l,h){if(n==="submit"&&s&&s.stateNode===h){var d=Gy((h[Pe]||null).action),v=l.submitter;v&&(n=(n=v[Pe]||null)?Gy(n.formAction):v.getAttribute("formAction"),n!==null&&(d=n,v=null));var T=new la("action","action",null,l,h);e.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Da!==0){var D=v?Qy(h,v):new FormData(h);of(s,{pending:!0,data:D,method:h.method,action:d},null,D)}}else typeof d=="function"&&(T.preventDefault(),D=v?Qy(h,v):new FormData(h),of(s,{pending:!0,data:D,method:h.method,action:d},d,D))},currentTarget:h}]})}}for(var Hf=0;Hf<wh.length;Hf++){var Ff=wh[Hf],DT=Ff.toLowerCase(),NT=Ff[0].toUpperCase()+Ff.slice(1);Fn(DT,"on"+NT)}Fn(Rg,"onAnimationEnd"),Fn(wg,"onAnimationIteration"),Fn(Cg,"onAnimationStart"),Fn("dblclick","onDoubleClick"),Fn("focusin","onFocus"),Fn("focusout","onBlur"),Fn(Q1,"onTransitionRun"),Fn(Y1,"onTransitionStart"),Fn(X1,"onTransitionCancel"),Fn(Dg,"onTransitionEnd"),ni("onMouseEnter",["mouseout","mouseover"]),ni("onMouseLeave",["mouseout","mouseover"]),ni("onPointerEnter",["pointerout","pointerover"]),ni("onPointerLeave",["pointerout","pointerover"]),ei("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ei("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ei("onBeforeInput",["compositionend","keypress","textInput","paste"]),ei("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ei("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ei("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Zl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),xT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Zl));function Yy(e,n){n=(n&4)!==0;for(var s=0;s<e.length;s++){var l=e[s],h=l.event;l=l.listeners;t:{var d=void 0;if(n)for(var v=l.length-1;0<=v;v--){var T=l[v],D=T.instance,z=T.currentTarget;if(T=T.listener,D!==d&&h.isPropagationStopped())break t;d=T,h.currentTarget=z;try{d(h)}catch(K){Iu(K)}h.currentTarget=null,d=D}else for(v=0;v<l.length;v++){if(T=l[v],D=T.instance,z=T.currentTarget,T=T.listener,D!==d&&h.isPropagationStopped())break t;d=T,h.currentTarget=z;try{d(h)}catch(K){Iu(K)}h.currentTarget=null,d=D}}}}function Vt(e,n){var s=n[Xr];s===void 0&&(s=n[Xr]=new Set);var l=e+"__bubble";s.has(l)||(Xy(n,e,2,!1),s.add(l))}function Gf(e,n,s){var l=0;n&&(l|=4),Xy(s,e,l,n)}var Gu="_reactListening"+Math.random().toString(36).slice(2);function Qf(e){if(!e[Gu]){e[Gu]=!0,Qo.forEach(function(s){s!=="selectionchange"&&(xT.has(s)||Gf(s,!1,e),Gf(s,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[Gu]||(n[Gu]=!0,Gf("selectionchange",!1,n))}}function Xy(e,n,s,l){switch(__(n)){case 2:var h=iA;break;case 8:h=rA;break;default:h=sd}s=h.bind(null,n,s,e),h=void 0,!Ri||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),l?h!==void 0?e.addEventListener(n,s,{capture:!0,passive:h}):e.addEventListener(n,s,!0):h!==void 0?e.addEventListener(n,s,{passive:h}):e.addEventListener(n,s,!1)}function Yf(e,n,s,l,h){var d=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var T=l.stateNode.containerInfo;if(T===h)break;if(v===4)for(v=l.return;v!==null;){var D=v.tag;if((D===3||D===4)&&v.stateNode.containerInfo===h)return;v=v.return}for(;T!==null;){if(v=Wn(T),v===null)return;if(D=v.tag,D===5||D===6||D===26||D===27){l=d=v;continue t}T=T.parentNode}}l=l.return}ra(function(){var z=d,K=ml(s),J=[];t:{var q=Ng.get(e);if(q!==void 0){var F=la,St=e;switch(e){case"keypress":if(aa(s)===0)break t;case"keydown":case"keyup":F=ss;break;case"focusin":St="focus",F=is;break;case"focusout":St="blur",F=is;break;case"beforeblur":case"afterblur":F=is;break;case"click":if(s.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":F=fa;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":F=Wo;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":F=lr;break;case Rg:case wg:case Cg:F=pl;break;case Dg:F=g;break;case"scroll":case"scrollend":F=ua;break;case"wheel":F=A;break;case"copy":case"cut":case"paste":F=eu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":F=vl;break;case"toggle":case"beforetoggle":F=G}var Et=(n&4)!==0,$t=!Et&&(e==="scroll"||e==="scrollend"),L=Et?q!==null?q+"Capture":null:q;Et=[];for(var M=z,j;M!==null;){var $=M;if(j=$.stateNode,$=$.tag,$!==5&&$!==26&&$!==27||j===null||L===null||($=ar(M,L),$!=null&&Et.push(Jl(M,$,j))),$t)break;M=M.return}0<Et.length&&(q=new F(q,St,null,s,K),J.push({event:q,listeners:Et}))}}if((n&7)===0){t:{if(q=e==="mouseover"||e==="pointerover",F=e==="mouseout"||e==="pointerout",q&&s!==dl&&(St=s.relatedTarget||s.fromElement)&&(Wn(St)||St[Ti]))break t;if((F||q)&&(q=K.window===K?K:(q=K.ownerDocument)?q.defaultView||q.parentWindow:window,F?(St=s.relatedTarget||s.toElement,F=z,St=St?Wn(St):null,St!==null&&($t=u(St),Et=St.tag,St!==$t||Et!==5&&Et!==27&&Et!==6)&&(St=null)):(F=null,St=z),F!==St)){if(Et=fa,$="onMouseLeave",L="onMouseEnter",M="mouse",(e==="pointerout"||e==="pointerover")&&(Et=vl,$="onPointerLeave",L="onPointerEnter",M="pointer"),$t=F==null?q:Wi(F),j=St==null?q:Wi(St),q=new Et($,M+"leave",F,s,K),q.target=$t,q.relatedTarget=j,$=null,Wn(K)===z&&(Et=new Et(L,M+"enter",St,s,K),Et.target=j,Et.relatedTarget=$t,$=Et),$t=$,F&&St)e:{for(Et=F,L=St,M=0,j=Et;j;j=Is(j))M++;for(j=0,$=L;$;$=Is($))j++;for(;0<M-j;)Et=Is(Et),M--;for(;0<j-M;)L=Is(L),j--;for(;M--;){if(Et===L||L!==null&&Et===L.alternate)break e;Et=Is(Et),L=Is(L)}Et=null}else Et=null;F!==null&&Ky(J,q,F,Et,!1),St!==null&&$t!==null&&Ky(J,$t,St,Et,!0)}}t:{if(q=z?Wi(z):window,F=q.nodeName&&q.nodeName.toLowerCase(),F==="select"||F==="input"&&q.type==="file")var dt=mg;else if(fg(q))if(gg)dt=H1;else{dt=z1;var xt=B1}else F=q.nodeName,!F||F.toLowerCase()!=="input"||q.type!=="checkbox"&&q.type!=="radio"?z&&ts(z.elementType)&&(dt=mg):dt=q1;if(dt&&(dt=dt(e,z))){dg(J,dt,s,K);break t}xt&&xt(e,q,z),e==="focusout"&&z&&q.type==="number"&&z.memoizedProps.value!=null&&cl(q,"number",q.value)}switch(xt=z?Wi(z):window,e){case"focusin":(fg(xt)||xt.contentEditable==="true")&&(ls=xt,bh=z,Sl=null);break;case"focusout":Sl=bh=ls=null;break;case"mousedown":Sh=!0;break;case"contextmenu":case"mouseup":case"dragend":Sh=!1,bg(J,s,K);break;case"selectionchange":if(G1)break;case"keydown":case"keyup":bg(J,s,K)}var pt;if(wt)t:{switch(e){case"compositionstart":var Tt="onCompositionStart";break t;case"compositionend":Tt="onCompositionEnd";break t;case"compositionupdate":Tt="onCompositionUpdate";break t}Tt=void 0}else Hn?zn(e,s)&&(Tt="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(Tt="onCompositionStart");Tt&&(ge&&s.locale!=="ko"&&(Hn||Tt!=="onCompositionStart"?Tt==="onCompositionEnd"&&Hn&&(pt=Jo()):(Rn=K,Jt="value"in Rn?Rn.value:Rn.textContent,Hn=!0)),xt=Qu(z,Tt),0<xt.length&&(Tt=new _l(Tt,e,null,s,K),J.push({event:Tt,listeners:xt}),pt?Tt.data=pt:(pt=qn(s),pt!==null&&(Tt.data=pt)))),(pt=Ht?El(e,s):P1(e,s))&&(Tt=Qu(z,"onBeforeInput"),0<Tt.length&&(xt=new _l("onBeforeInput","beforeinput",null,s,K),J.push({event:xt,listeners:Tt}),xt.data=pt)),CT(J,e,z,s,K)}Yy(J,n)})}function Jl(e,n,s){return{instance:e,listener:n,currentTarget:s}}function Qu(e,n){for(var s=n+"Capture",l=[];e!==null;){var h=e,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=ar(e,s),h!=null&&l.unshift(Jl(e,h,d)),h=ar(e,n),h!=null&&l.push(Jl(e,h,d))),e.tag===3)return l;e=e.return}return[]}function Is(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Ky(e,n,s,l,h){for(var d=n._reactName,v=[];s!==null&&s!==l;){var T=s,D=T.alternate,z=T.stateNode;if(T=T.tag,D!==null&&D===l)break;T!==5&&T!==26&&T!==27||z===null||(D=z,h?(z=ar(s,d),z!=null&&v.unshift(Jl(s,z,D))):h||(z=ar(s,d),z!=null&&v.push(Jl(s,z,D)))),s=s.return}v.length!==0&&e.push({event:n,listeners:v})}var IT=/\r\n?/g,VT=/\u0000|\uFFFD/g;function $y(e){return(typeof e=="string"?e:""+e).replace(IT,`
`).replace(VT,"")}function Zy(e,n){return n=$y(n),$y(e)===n}function Yu(){}function Kt(e,n,s,l,h,d){switch(s){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||Sn(e,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&Sn(e,""+l);break;case"className":Wr(e,"class",l);break;case"tabIndex":Wr(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Wr(e,s,l);break;case"style":fl(e,l,d);break;case"data":if(n!=="object"){Wr(e,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||s!=="href")){e.removeAttribute(s);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(s);break}l=Bn(""+l),e.setAttribute(s,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(s==="formAction"?(n!=="input"&&Kt(e,n,"name",h.name,h,null),Kt(e,n,"formEncType",h.formEncType,h,null),Kt(e,n,"formMethod",h.formMethod,h,null),Kt(e,n,"formTarget",h.formTarget,h,null)):(Kt(e,n,"encType",h.encType,h,null),Kt(e,n,"method",h.method,h,null),Kt(e,n,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(s);break}l=Bn(""+l),e.setAttribute(s,l);break;case"onClick":l!=null&&(e.onclick=Yu);break;case"onScroll":l!=null&&Vt("scroll",e);break;case"onScrollEnd":l!=null&&Vt("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}s=Bn(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(s,""+l):e.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(s,""):e.removeAttribute(s);break;case"capture":case"download":l===!0?e.setAttribute(s,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(s,l):e.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(s,l):e.removeAttribute(s);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(s):e.setAttribute(s,l);break;case"popover":Vt("beforetoggle",e),Vt("toggle",e),Jr(e,"popover",l);break;case"xlinkActuate":bn(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":bn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":bn(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":bn(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":bn(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":bn(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":bn(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":bn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":bn(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Jr(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=Ko.get(s)||s,Jr(e,s,l))}}function Xf(e,n,s,l,h,d){switch(s){case"style":fl(e,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"children":typeof l=="string"?Sn(e,l):(typeof l=="number"||typeof l=="bigint")&&Sn(e,""+l);break;case"onScroll":l!=null&&Vt("scroll",e);break;case"onScrollEnd":l!=null&&Vt("scrollend",e);break;case"onClick":l!=null&&(e.onclick=Yu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!$r.hasOwnProperty(s))t:{if(s[0]==="o"&&s[1]==="n"&&(h=s.endsWith("Capture"),n=s.slice(2,h?s.length-7:void 0),d=e[Pe]||null,d=d!=null?d[s]:null,typeof d=="function"&&e.removeEventListener(n,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(s in e?e[s]=null:e.hasAttribute(s)&&e.removeAttribute(s)),e.addEventListener(n,l,h);break t}s in e?e[s]=l:l===!0?e.setAttribute(s,""):Jr(e,s,l)}}}function Be(e,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Vt("error",e),Vt("load",e);var l=!1,h=!1,d;for(d in s)if(s.hasOwnProperty(d)){var v=s[d];if(v!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Kt(e,n,d,v,s,null)}}h&&Kt(e,n,"srcSet",s.srcSet,s,null),l&&Kt(e,n,"src",s.src,s,null);return;case"input":Vt("invalid",e);var T=d=v=h=null,D=null,z=null;for(l in s)if(s.hasOwnProperty(l)){var K=s[l];if(K!=null)switch(l){case"name":h=K;break;case"type":v=K;break;case"checked":D=K;break;case"defaultChecked":z=K;break;case"value":d=K;break;case"defaultValue":T=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(a(137,n));break;default:Kt(e,n,l,K,s,null)}}ul(e,d,T,D,z,v,h,!1),nr(e);return;case"select":Vt("invalid",e),l=v=d=null;for(h in s)if(s.hasOwnProperty(h)&&(T=s[h],T!=null))switch(h){case"value":d=T;break;case"defaultValue":v=T;break;case"multiple":l=T;default:Kt(e,n,h,T,s,null)}n=d,s=v,e.multiple=!!l,n!=null?ir(e,!!l,n,!1):s!=null&&ir(e,!!l,s,!0);return;case"textarea":Vt("invalid",e),d=h=l=null;for(v in s)if(s.hasOwnProperty(v)&&(T=s[v],T!=null))switch(v){case"value":l=T;break;case"defaultValue":h=T;break;case"children":d=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(a(91));break;default:Kt(e,n,v,T,s,null)}Xo(e,l,h,d),nr(e);return;case"option":for(D in s)if(s.hasOwnProperty(D)&&(l=s[D],l!=null))switch(D){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Kt(e,n,D,l,s,null)}return;case"dialog":Vt("beforetoggle",e),Vt("toggle",e),Vt("cancel",e),Vt("close",e);break;case"iframe":case"object":Vt("load",e);break;case"video":case"audio":for(l=0;l<Zl.length;l++)Vt(Zl[l],e);break;case"image":Vt("error",e),Vt("load",e);break;case"details":Vt("toggle",e);break;case"embed":case"source":case"link":Vt("error",e),Vt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in s)if(s.hasOwnProperty(z)&&(l=s[z],l!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Kt(e,n,z,l,s,null)}return;default:if(ts(n)){for(K in s)s.hasOwnProperty(K)&&(l=s[K],l!==void 0&&Xf(e,n,K,l,s,void 0));return}}for(T in s)s.hasOwnProperty(T)&&(l=s[T],l!=null&&Kt(e,n,T,l,s,null))}function OT(e,n,s,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,v=null,T=null,D=null,z=null,K=null;for(F in s){var J=s[F];if(s.hasOwnProperty(F)&&J!=null)switch(F){case"checked":break;case"value":break;case"defaultValue":D=J;default:l.hasOwnProperty(F)||Kt(e,n,F,null,l,J)}}for(var q in l){var F=l[q];if(J=s[q],l.hasOwnProperty(q)&&(F!=null||J!=null))switch(q){case"type":d=F;break;case"name":h=F;break;case"checked":z=F;break;case"defaultChecked":K=F;break;case"value":v=F;break;case"defaultValue":T=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(a(137,n));break;default:F!==J&&Kt(e,n,q,F,l,J)}}ol(e,v,T,D,z,K,d,h);return;case"select":F=v=T=q=null;for(d in s)if(D=s[d],s.hasOwnProperty(d)&&D!=null)switch(d){case"value":break;case"multiple":F=D;default:l.hasOwnProperty(d)||Kt(e,n,d,null,l,D)}for(h in l)if(d=l[h],D=s[h],l.hasOwnProperty(h)&&(d!=null||D!=null))switch(h){case"value":q=d;break;case"defaultValue":T=d;break;case"multiple":v=d;default:d!==D&&Kt(e,n,h,d,l,D)}n=T,s=v,l=F,q!=null?ir(e,!!s,q,!1):!!l!=!!s&&(n!=null?ir(e,!!s,n,!0):ir(e,!!s,s?[]:"",!1));return;case"textarea":F=q=null;for(T in s)if(h=s[T],s.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:Kt(e,n,T,null,l,h)}for(v in l)if(h=l[v],d=s[v],l.hasOwnProperty(v)&&(h!=null||d!=null))switch(v){case"value":q=h;break;case"defaultValue":F=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==d&&Kt(e,n,v,h,l,d)}Yo(e,q,F);return;case"option":for(var St in s)if(q=s[St],s.hasOwnProperty(St)&&q!=null&&!l.hasOwnProperty(St))switch(St){case"selected":e.selected=!1;break;default:Kt(e,n,St,null,l,q)}for(D in l)if(q=l[D],F=s[D],l.hasOwnProperty(D)&&q!==F&&(q!=null||F!=null))switch(D){case"selected":e.selected=q&&typeof q!="function"&&typeof q!="symbol";break;default:Kt(e,n,D,q,l,F)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Et in s)q=s[Et],s.hasOwnProperty(Et)&&q!=null&&!l.hasOwnProperty(Et)&&Kt(e,n,Et,null,l,q);for(z in l)if(q=l[z],F=s[z],l.hasOwnProperty(z)&&q!==F&&(q!=null||F!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(a(137,n));break;default:Kt(e,n,z,q,l,F)}return;default:if(ts(n)){for(var $t in s)q=s[$t],s.hasOwnProperty($t)&&q!==void 0&&!l.hasOwnProperty($t)&&Xf(e,n,$t,void 0,l,q);for(K in l)q=l[K],F=s[K],!l.hasOwnProperty(K)||q===F||q===void 0&&F===void 0||Xf(e,n,K,q,l,F);return}}for(var L in s)q=s[L],s.hasOwnProperty(L)&&q!=null&&!l.hasOwnProperty(L)&&Kt(e,n,L,null,l,q);for(J in l)q=l[J],F=s[J],!l.hasOwnProperty(J)||q===F||q==null&&F==null||Kt(e,n,J,q,l,F)}var Kf=null,$f=null;function Xu(e){return e.nodeType===9?e:e.ownerDocument}function Jy(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Wy(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function Zf(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Jf=null;function MT(){var e=window.event;return e&&e.type==="popstate"?e===Jf?!1:(Jf=e,!0):(Jf=null,!1)}var t_=typeof setTimeout=="function"?setTimeout:void 0,UT=typeof clearTimeout=="function"?clearTimeout:void 0,e_=typeof Promise=="function"?Promise:void 0,LT=typeof queueMicrotask=="function"?queueMicrotask:typeof e_<"u"?function(e){return e_.resolve(null).then(e).catch(PT)}:t_;function PT(e){setTimeout(function(){throw e})}function br(e){return e==="head"}function n_(e,n){var s=n,l=0,h=0;do{var d=s.nextSibling;if(e.removeChild(s),d&&d.nodeType===8)if(s=d.data,s==="/$"){if(0<l&&8>l){s=l;var v=e.ownerDocument;if(s&1&&Wl(v.documentElement),s&2&&Wl(v.body),s&4)for(s=v.head,Wl(s),v=s.firstChild;v;){var T=v.nextSibling,D=v.nodeName;v[Ji]||D==="SCRIPT"||D==="STYLE"||D==="LINK"&&v.rel.toLowerCase()==="stylesheet"||s.removeChild(v),v=T}}if(h===0){e.removeChild(d),lo(n);return}h--}else s==="$"||s==="$?"||s==="$!"?h++:l=s.charCodeAt(0)-48;else l=0;s=d}while(s);lo(n)}function Wf(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":Wf(s),Ka(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}e.removeChild(s)}}function kT(e,n,s,l){for(;e.nodeType===1;){var h=s;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[Ji])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=Qn(e.nextSibling),e===null)break}return null}function jT(e,n,s){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=Qn(e.nextSibling),e===null))return null;return e}function td(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function BT(e,n){var s=e.ownerDocument;if(e.data!=="$?"||s.readyState==="complete")n();else{var l=function(){n(),s.removeEventListener("DOMContentLoaded",l)};s.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function Qn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return e}var ed=null;function i_(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"){if(n===0)return e;n--}else s==="/$"&&n++}e=e.previousSibling}return null}function r_(e,n,s){switch(n=Xu(s),e){case"html":if(e=n.documentElement,!e)throw Error(a(452));return e;case"head":if(e=n.head,!e)throw Error(a(453));return e;case"body":if(e=n.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function Wl(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);Ka(e)}var Vn=new Map,a_=new Set;function Ku(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var ji=rt.d;rt.d={f:zT,r:qT,D:HT,C:FT,L:GT,m:QT,X:XT,S:YT,M:KT};function zT(){var e=ji.f(),n=Bu();return e||n}function qT(e){var n=ti(e);n!==null&&n.tag===5&&n.type==="form"?Rp(n):ji.r(e)}var Vs=typeof document>"u"?null:document;function s_(e,n,s){var l=Vs;if(l&&typeof n=="string"&&n){var h=Ie(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof s=="string"&&(h+='[crossorigin="'+s+'"]'),a_.has(h)||(a_.add(h),e={rel:e,crossOrigin:s,href:n},l.querySelector(h)===null&&(n=l.createElement("link"),Be(n,"link",e),me(n),l.head.appendChild(n)))}}function HT(e){ji.D(e),s_("dns-prefetch",e,null)}function FT(e,n){ji.C(e,n),s_("preconnect",e,n)}function GT(e,n,s){ji.L(e,n,s);var l=Vs;if(l&&e&&n){var h='link[rel="preload"][as="'+Ie(n)+'"]';n==="image"&&s&&s.imageSrcSet?(h+='[imagesrcset="'+Ie(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(h+='[imagesizes="'+Ie(s.imageSizes)+'"]')):h+='[href="'+Ie(e)+'"]';var d=h;switch(n){case"style":d=Os(e);break;case"script":d=Ms(e)}Vn.has(d)||(e=E({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:e,as:n},s),Vn.set(d,e),l.querySelector(h)!==null||n==="style"&&l.querySelector(to(d))||n==="script"&&l.querySelector(eo(d))||(n=l.createElement("link"),Be(n,"link",e),me(n),l.head.appendChild(n)))}}function QT(e,n){ji.m(e,n);var s=Vs;if(s&&e){var l=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+Ie(l)+'"][href="'+Ie(e)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Ms(e)}if(!Vn.has(d)&&(e=E({rel:"modulepreload",href:e},n),Vn.set(d,e),s.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(eo(d)))return}l=s.createElement("link"),Be(l,"link",e),me(l),s.head.appendChild(l)}}}function YT(e,n,s){ji.S(e,n,s);var l=Vs;if(l&&e){var h=tr(l).hoistableStyles,d=Os(e);n=n||"default";var v=h.get(d);if(!v){var T={loading:0,preload:null};if(v=l.querySelector(to(d)))T.loading=5;else{e=E({rel:"stylesheet",href:e,"data-precedence":n},s),(s=Vn.get(d))&&nd(e,s);var D=v=l.createElement("link");me(D),Be(D,"link",e),D._p=new Promise(function(z,K){D.onload=z,D.onerror=K}),D.addEventListener("load",function(){T.loading|=1}),D.addEventListener("error",function(){T.loading|=2}),T.loading|=4,$u(v,n,l)}v={type:"stylesheet",instance:v,count:1,state:T},h.set(d,v)}}}function XT(e,n){ji.X(e,n);var s=Vs;if(s&&e){var l=tr(s).hoistableScripts,h=Ms(e),d=l.get(h);d||(d=s.querySelector(eo(h)),d||(e=E({src:e,async:!0},n),(n=Vn.get(h))&&id(e,n),d=s.createElement("script"),me(d),Be(d,"link",e),s.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function KT(e,n){ji.M(e,n);var s=Vs;if(s&&e){var l=tr(s).hoistableScripts,h=Ms(e),d=l.get(h);d||(d=s.querySelector(eo(h)),d||(e=E({src:e,async:!0,type:"module"},n),(n=Vn.get(h))&&id(e,n),d=s.createElement("script"),me(d),Be(d,"link",e),s.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function l_(e,n,s,l){var h=(h=bt.current)?Ku(h):null;if(!h)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=Os(s.href),s=tr(h).hoistableStyles,l=s.get(n),l||(l={type:"style",instance:null,count:0,state:null},s.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){e=Os(s.href);var d=tr(h).hoistableStyles,v=d.get(e);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,v),(d=h.querySelector(to(e)))&&!d._p&&(v.instance=d,v.state.loading=5),Vn.has(e)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},Vn.set(e,s),d||$T(h,e,s,v.state))),n&&l===null)throw Error(a(528,""));return v}if(n&&l!==null)throw Error(a(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Ms(s),s=tr(h).hoistableScripts,l=s.get(n),l||(l={type:"script",instance:null,count:0,state:null},s.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function Os(e){return'href="'+Ie(e)+'"'}function to(e){return'link[rel="stylesheet"]['+e+"]"}function o_(e){return E({},e,{"data-precedence":e.precedence,precedence:null})}function $T(e,n,s,l){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=e.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),Be(n,"link",s),me(n),e.head.appendChild(n))}function Ms(e){return'[src="'+Ie(e)+'"]'}function eo(e){return"script[async]"+e}function u_(e,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var l=e.querySelector('style[data-href~="'+Ie(s.href)+'"]');if(l)return n.instance=l,me(l),l;var h=E({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),me(l),Be(l,"style",h),$u(l,s.precedence,e),n.instance=l;case"stylesheet":h=Os(s.href);var d=e.querySelector(to(h));if(d)return n.state.loading|=4,n.instance=d,me(d),d;l=o_(s),(h=Vn.get(h))&&nd(l,h),d=(e.ownerDocument||e).createElement("link"),me(d);var v=d;return v._p=new Promise(function(T,D){v.onload=T,v.onerror=D}),Be(d,"link",l),n.state.loading|=4,$u(d,s.precedence,e),n.instance=d;case"script":return d=Ms(s.src),(h=e.querySelector(eo(d)))?(n.instance=h,me(h),h):(l=s,(h=Vn.get(d))&&(l=E({},s),id(l,h)),e=e.ownerDocument||e,h=e.createElement("script"),me(h),Be(h,"link",l),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,$u(l,s.precedence,e));return n.instance}function $u(e,n,s){for(var l=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,v=0;v<l.length;v++){var T=l[v];if(T.dataset.precedence===n)d=T;else if(d!==h)break}d?d.parentNode.insertBefore(e,d.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(e,n.firstChild))}function nd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function id(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var Zu=null;function c_(e,n,s){if(Zu===null){var l=new Map,h=Zu=new Map;h.set(s,l)}else h=Zu,l=h.get(s),l||(l=new Map,h.set(s,l));if(l.has(e))return l;for(l.set(e,null),s=s.getElementsByTagName(e),h=0;h<s.length;h++){var d=s[h];if(!(d[Ji]||d[de]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(n)||"";v=e+v;var T=l.get(v);T?T.push(d):l.set(v,[d])}}return l}function h_(e,n,s){e=e.ownerDocument||e,e.head.insertBefore(s,n==="title"?e.querySelector("head > title"):null)}function ZT(e,n,s){if(s===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function f_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var no=null;function JT(){}function WT(e,n,s){if(no===null)throw Error(a(475));var l=no;if(n.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var h=Os(s.href),d=e.querySelector(to(h));if(d){e=d._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(l.count++,l=Ju.bind(l),e.then(l,l)),n.state.loading|=4,n.instance=d,me(d);return}d=e.ownerDocument||e,s=o_(s),(h=Vn.get(h))&&nd(s,h),d=d.createElement("link"),me(d);var v=d;v._p=new Promise(function(T,D){v.onload=T,v.onerror=D}),Be(d,"link",s),n.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(n,e),(e=n.state.preload)&&(n.state.loading&3)===0&&(l.count++,n=Ju.bind(l),e.addEventListener("load",n),e.addEventListener("error",n))}}function tA(){if(no===null)throw Error(a(475));var e=no;return e.stylesheets&&e.count===0&&rd(e,e.stylesheets),0<e.count?function(n){var s=setTimeout(function(){if(e.stylesheets&&rd(e,e.stylesheets),e.unsuspend){var l=e.unsuspend;e.unsuspend=null,l()}},6e4);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(s)}}:null}function Ju(){if(this.count--,this.count===0){if(this.stylesheets)rd(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Wu=null;function rd(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Wu=new Map,n.forEach(eA,e),Wu=null,Ju.call(e))}function eA(e,n){if(!(n.state.loading&4)){var s=Wu.get(e);if(s)var l=s.get(null);else{s=new Map,Wu.set(e,s);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var v=h[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(s.set(v.dataset.precedence,v),l=v)}l&&s.set(null,l)}h=n.instance,v=h.getAttribute("data-precedence"),d=s.get(v)||l,d===l&&s.set(null,h),s.set(v,h),this.count++,l=Ju.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var io={$$typeof:it,Provider:null,Consumer:null,_currentValue:ct,_currentValue2:ct,_threadCount:0};function nA(e,n,s,l,h,d,v,T){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Xa(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Xa(0),this.hiddenUpdates=Xa(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function d_(e,n,s,l,h,d,v,T,D,z,K,J){return e=new nA(e,n,s,v,T,D,z,J),n=1,d===!0&&(n|=24),d=dn(3,null,null,n),e.current=d,d.stateNode=e,n=kh(),n.refCount++,e.pooledCache=n,n.refCount++,d.memoizedState={element:l,isDehydrated:s,cache:n},qh(d),e}function m_(e){return e?(e=hs,e):hs}function g_(e,n,s,l,h,d){h=m_(h),l.context===null?l.context=h:l.pendingContext=h,l=cr(n),l.payload={element:s},d=d===void 0?null:d,d!==null&&(l.callback=d),s=hr(e,l,n),s!==null&&(_n(s,e,n),Ol(s,e,n))}function p_(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<n?s:n}}function ad(e,n){p_(e,n),(e=e.alternate)&&p_(e,n)}function y_(e){if(e.tag===13){var n=cs(e,67108864);n!==null&&_n(n,e,67108864),ad(e,67108864)}}var tc=!0;function iA(e,n,s,l){var h=Q.T;Q.T=null;var d=rt.p;try{rt.p=2,sd(e,n,s,l)}finally{rt.p=d,Q.T=h}}function rA(e,n,s,l){var h=Q.T;Q.T=null;var d=rt.p;try{rt.p=8,sd(e,n,s,l)}finally{rt.p=d,Q.T=h}}function sd(e,n,s,l){if(tc){var h=ld(l);if(h===null)Yf(e,n,l,ec,s),v_(e,l);else if(sA(h,e,n,s,l))l.stopPropagation();else if(v_(e,l),n&4&&-1<aA.indexOf(e)){for(;h!==null;){var d=ti(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=Pn(d.pendingLanes);if(v!==0){var T=d;for(T.pendingLanes|=2,T.entangledLanes|=2;v;){var D=1<<31-Ze(v);T.entanglements[1]|=D,v&=~D}ci(d),(Ft&6)===0&&(ku=an()+500,$l(0))}}break;case 13:T=cs(d,2),T!==null&&_n(T,d,2),Bu(),ad(d,2)}if(d=ld(l),d===null&&Yf(e,n,l,ec,s),d===h)break;h=d}h!==null&&l.stopPropagation()}else Yf(e,n,l,null,s)}}function ld(e){return e=ml(e),od(e)}var ec=null;function od(e){if(ec=null,e=Wn(e),e!==null){var n=u(e);if(n===null)e=null;else{var s=n.tag;if(s===13){if(e=f(n),e!==null)return e;e=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return ec=e,null}function __(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(qo()){case Re:return 2;case xe:return 8;case vi:case fh:return 32;case rl:return 268435456;default:return 32}default:return 32}}var ud=!1,Sr=null,Rr=null,wr=null,ro=new Map,ao=new Map,Cr=[],aA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function v_(e,n){switch(e){case"focusin":case"focusout":Sr=null;break;case"dragenter":case"dragleave":Rr=null;break;case"mouseover":case"mouseout":wr=null;break;case"pointerover":case"pointerout":ro.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":ao.delete(n.pointerId)}}function so(e,n,s,l,h,d){return e===null||e.nativeEvent!==d?(e={blockedOn:n,domEventName:s,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},n!==null&&(n=ti(n),n!==null&&y_(n)),e):(e.eventSystemFlags|=l,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function sA(e,n,s,l,h){switch(n){case"focusin":return Sr=so(Sr,e,n,s,l,h),!0;case"dragenter":return Rr=so(Rr,e,n,s,l,h),!0;case"mouseover":return wr=so(wr,e,n,s,l,h),!0;case"pointerover":var d=h.pointerId;return ro.set(d,so(ro.get(d)||null,e,n,s,l,h)),!0;case"gotpointercapture":return d=h.pointerId,ao.set(d,so(ao.get(d)||null,e,n,s,l,h)),!0}return!1}function E_(e){var n=Wn(e.target);if(n!==null){var s=u(n);if(s!==null){if(n=s.tag,n===13){if(n=f(s),n!==null){e.blockedOn=n,gh(e.priority,function(){if(s.tag===13){var l=yn();l=sl(l);var h=cs(s,l);h!==null&&_n(h,s,l),ad(s,l)}});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function nc(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var s=ld(e.nativeEvent);if(s===null){s=e.nativeEvent;var l=new s.constructor(s.type,s);dl=l,s.target.dispatchEvent(l),dl=null}else return n=ti(s),n!==null&&y_(n),e.blockedOn=s,!1;n.shift()}return!0}function T_(e,n,s){nc(e)&&s.delete(n)}function lA(){ud=!1,Sr!==null&&nc(Sr)&&(Sr=null),Rr!==null&&nc(Rr)&&(Rr=null),wr!==null&&nc(wr)&&(wr=null),ro.forEach(T_),ao.forEach(T_)}function ic(e,n){e.blockedOn===n&&(e.blockedOn=null,ud||(ud=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,lA)))}var rc=null;function A_(e){rc!==e&&(rc=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){rc===e&&(rc=null);for(var n=0;n<e.length;n+=3){var s=e[n],l=e[n+1],h=e[n+2];if(typeof l!="function"){if(od(l||s)===null)continue;break}var d=ti(s);d!==null&&(e.splice(n,3),n-=3,of(d,{pending:!0,data:h,method:s.method,action:l},l,h))}}))}function lo(e){function n(D){return ic(D,e)}Sr!==null&&ic(Sr,e),Rr!==null&&ic(Rr,e),wr!==null&&ic(wr,e),ro.forEach(n),ao.forEach(n);for(var s=0;s<Cr.length;s++){var l=Cr[s];l.blockedOn===e&&(l.blockedOn=null)}for(;0<Cr.length&&(s=Cr[0],s.blockedOn===null);)E_(s),s.blockedOn===null&&Cr.shift();if(s=(e.ownerDocument||e).$$reactFormReplay,s!=null)for(l=0;l<s.length;l+=3){var h=s[l],d=s[l+1],v=h[Pe]||null;if(typeof d=="function")v||A_(s);else if(v){var T=null;if(d&&d.hasAttribute("formAction")){if(h=d,v=d[Pe]||null)T=v.formAction;else if(od(h)!==null)continue}else T=v.action;typeof T=="function"?s[l+1]=T:(s.splice(l,3),l-=3),A_(s)}}}function cd(e){this._internalRoot=e}ac.prototype.render=cd.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(a(409));var s=n.current,l=yn();g_(s,l,e,n,null,null)},ac.prototype.unmount=cd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;g_(e.current,2,null,e,null,null),Bu(),n[Ti]=null}};function ac(e){this._internalRoot=e}ac.prototype.unstable_scheduleHydration=function(e){if(e){var n=Ei();e={blockedOn:null,target:e,priority:n};for(var s=0;s<Cr.length&&n!==0&&n<Cr[s].priority;s++);Cr.splice(s,0,e),s===0&&E_(e)}};var b_=t.version;if(b_!=="19.1.1")throw Error(a(527,b_,"19.1.1"));rt.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=p(n),e=e!==null?y(e):null,e=e===null?null:e.stateNode,e};var oA={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:Q,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var sc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!sc.isDisabled&&sc.supportsFiber)try{Qi=sc.inject(oA),Fe=sc}catch{}}return uo.createRoot=function(e,n){if(!o(e))throw Error(a(299));var s=!1,l="",h=jp,d=Bp,v=zp,T=null;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(d=n.onCaughtError),n.onRecoverableError!==void 0&&(v=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(T=n.unstable_transitionCallbacks)),n=d_(e,1,!1,null,null,s,l,h,d,v,T,null),e[Ti]=n.current,Qf(e),new cd(n)},uo.hydrateRoot=function(e,n,s){if(!o(e))throw Error(a(299));var l=!1,h="",d=jp,v=Bp,T=zp,D=null,z=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(d=s.onUncaughtError),s.onCaughtError!==void 0&&(v=s.onCaughtError),s.onRecoverableError!==void 0&&(T=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(D=s.unstable_transitionCallbacks),s.formState!==void 0&&(z=s.formState)),n=d_(e,1,!0,n,s??null,l,h,d,v,T,D,z),n.context=m_(null),s=n.current,l=yn(),l=sl(l),h=cr(l),h.callback=null,hr(s,h,l),s=l,n.current.lanes=s,fe(n,s),ci(n),e[Ti]=n.current,Qf(e),new ac(n)},uo.version="19.1.1",uo}var O_;function vA(){if(O_)return dd.exports;O_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),dd.exports=_A(),dd.exports}var EA=vA();/**
 * react-router v7.9.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var M_="popstate";function TA(r={}){function t(a,o){let{pathname:u,search:f,hash:m}=a.location;return Id("",{pathname:u,search:f,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function i(a,o){return typeof o=="string"?o:bo(o)}return bA(t,i,null,r)}function re(r,t){if(r===!1||r===null||typeof r>"u")throw new Error(t)}function Xn(r,t){if(!r){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function AA(){return Math.random().toString(36).substring(2,10)}function U_(r,t){return{usr:r.state,key:r.key,idx:t}}function Id(r,t,i=null,a){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof t=="string"?Ks(t):t,state:i,key:t&&t.key||a||AA()}}function bo({pathname:r="/",search:t="",hash:i=""}){return t&&t!=="?"&&(r+=t.charAt(0)==="?"?t:"?"+t),i&&i!=="#"&&(r+=i.charAt(0)==="#"?i:"#"+i),r}function Ks(r){let t={};if(r){let i=r.indexOf("#");i>=0&&(t.hash=r.substring(i),r=r.substring(0,i));let a=r.indexOf("?");a>=0&&(t.search=r.substring(a),r=r.substring(0,a)),r&&(t.pathname=r)}return t}function bA(r,t,i,a={}){let{window:o=document.defaultView,v5Compat:u=!1}=a,f=o.history,m="POP",p=null,y=E();y==null&&(y=0,f.replaceState({...f.state,idx:y},""));function E(){return(f.state||{idx:null}).idx}function b(){m="POP";let P=E(),nt=P==null?null:P-y;y=P,p&&p({action:m,location:X.location,delta:nt})}function S(P,nt){m="PUSH";let tt=Id(X.location,P,nt);y=E()+1;let it=U_(tt,y),mt=X.createHref(tt);try{f.pushState(it,"",mt)}catch(ht){if(ht instanceof DOMException&&ht.name==="DataCloneError")throw ht;o.location.assign(mt)}u&&p&&p({action:m,location:X.location,delta:1})}function U(P,nt){m="REPLACE";let tt=Id(X.location,P,nt);y=E();let it=U_(tt,y),mt=X.createHref(tt);f.replaceState(it,"",mt),u&&p&&p({action:m,location:X.location,delta:0})}function H(P){return SA(P)}let X={get action(){return m},get location(){return r(o,f)},listen(P){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(M_,b),p=P,()=>{o.removeEventListener(M_,b),p=null}},createHref(P){return t(o,P)},createURL:H,encodeLocation(P){let nt=H(P);return{pathname:nt.pathname,search:nt.search,hash:nt.hash}},push:S,replace:U,go(P){return f.go(P)}};return X}function SA(r,t=!1){let i="http://localhost";typeof window<"u"&&(i=window.location.origin!=="null"?window.location.origin:window.location.href),re(i,"No window.location.(origin|href) available to create URL");let a=typeof r=="string"?r:bo(r);return a=a.replace(/ $/,"%20"),!t&&a.startsWith("//")&&(a=i+a),new URL(a,i)}function l0(r,t,i="/"){return RA(r,t,i,!1)}function RA(r,t,i,a){let o=typeof t=="string"?Ks(t):t,u=qi(o.pathname||"/",i);if(u==null)return null;let f=o0(r);wA(f);let m=null;for(let p=0;m==null&&p<f.length;++p){let y=PA(u);m=UA(f[p],y,a)}return m}function o0(r,t=[],i=[],a="",o=!1){let u=(f,m,p=o,y)=>{let E={relativePath:y===void 0?f.path||"":y,caseSensitive:f.caseSensitive===!0,childrenIndex:m,route:f};if(E.relativePath.startsWith("/")){if(!E.relativePath.startsWith(a)&&p)return;re(E.relativePath.startsWith(a),`Absolute route path "${E.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),E.relativePath=E.relativePath.slice(a.length)}let b=Bi([a,E.relativePath]),S=i.concat(E);f.children&&f.children.length>0&&(re(f.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${b}".`),o0(f.children,t,S,b,p)),!(f.path==null&&!f.index)&&t.push({path:b,score:OA(b,f.index),routesMeta:S})};return r.forEach((f,m)=>{if(f.path===""||!f.path?.includes("?"))u(f,m);else for(let p of u0(f.path))u(f,m,!0,p)}),t}function u0(r){let t=r.split("/");if(t.length===0)return[];let[i,...a]=t,o=i.endsWith("?"),u=i.replace(/\?$/,"");if(a.length===0)return o?[u,""]:[u];let f=u0(a.join("/")),m=[];return m.push(...f.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...f),m.map(p=>r.startsWith("/")&&p===""?"/":p)}function wA(r){r.sort((t,i)=>t.score!==i.score?i.score-t.score:MA(t.routesMeta.map(a=>a.childrenIndex),i.routesMeta.map(a=>a.childrenIndex)))}var CA=/^:[\w-]+$/,DA=3,NA=2,xA=1,IA=10,VA=-2,L_=r=>r==="*";function OA(r,t){let i=r.split("/"),a=i.length;return i.some(L_)&&(a+=VA),t&&(a+=NA),i.filter(o=>!L_(o)).reduce((o,u)=>o+(CA.test(u)?DA:u===""?xA:IA),a)}function MA(r,t){return r.length===t.length&&r.slice(0,-1).every((a,o)=>a===t[o])?r[r.length-1]-t[t.length-1]:0}function UA(r,t,i=!1){let{routesMeta:a}=r,o={},u="/",f=[];for(let m=0;m<a.length;++m){let p=a[m],y=m===a.length-1,E=u==="/"?t:t.slice(u.length)||"/",b=Sc({path:p.relativePath,caseSensitive:p.caseSensitive,end:y},E),S=p.route;if(!b&&y&&i&&!a[a.length-1].route.index&&(b=Sc({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},E)),!b)return null;Object.assign(o,b.params),f.push({params:o,pathname:Bi([u,b.pathname]),pathnameBase:zA(Bi([u,b.pathnameBase])),route:S}),b.pathnameBase!=="/"&&(u=Bi([u,b.pathnameBase]))}return f}function Sc(r,t){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[i,a]=LA(r.path,r.caseSensitive,r.end),o=t.match(i);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:a.reduce((y,{paramName:E,isOptional:b},S)=>{if(E==="*"){let H=m[S]||"";f=u.slice(0,u.length-H.length).replace(/(.)\/+$/,"$1")}const U=m[S];return b&&!U?y[E]=void 0:y[E]=(U||"").replace(/%2F/g,"/"),y},{}),pathname:u,pathnameBase:f,pattern:r}}function LA(r,t=!1,i=!0){Xn(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let a=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,p)=>(a.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(a.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),a]}function PA(r){try{return r.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Xn(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),r}}function qi(r,t){if(t==="/")return r;if(!r.toLowerCase().startsWith(t.toLowerCase()))return null;let i=t.endsWith("/")?t.length-1:t.length,a=r.charAt(i);return a&&a!=="/"?null:r.slice(i)||"/"}function kA(r,t="/"){let{pathname:i,search:a="",hash:o=""}=typeof r=="string"?Ks(r):r;return{pathname:i?i.startsWith("/")?i:jA(i,t):t,search:qA(a),hash:HA(o)}}function jA(r,t){let i=t.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?i.length>1&&i.pop():o!=="."&&i.push(o)}),i.length>1?i.join("/"):"/"}function yd(r,t,i,a){return`Cannot include a '${r}' character in a manually specified \`to.${t}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${i}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function BA(r){return r.filter((t,i)=>i===0||t.route.path&&t.route.path.length>0)}function om(r){let t=BA(r);return t.map((i,a)=>a===t.length-1?i.pathname:i.pathnameBase)}function um(r,t,i,a=!1){let o;typeof r=="string"?o=Ks(r):(o={...r},re(!o.pathname||!o.pathname.includes("?"),yd("?","pathname","search",o)),re(!o.pathname||!o.pathname.includes("#"),yd("#","pathname","hash",o)),re(!o.search||!o.search.includes("#"),yd("#","search","hash",o)));let u=r===""||o.pathname==="",f=u?"/":o.pathname,m;if(f==null)m=i;else{let b=t.length-1;if(!a&&f.startsWith("..")){let S=f.split("/");for(;S[0]==="..";)S.shift(),b-=1;o.pathname=S.join("/")}m=b>=0?t[b]:"/"}let p=kA(o,m),y=f&&f!=="/"&&f.endsWith("/"),E=(u||f===".")&&i.endsWith("/");return!p.pathname.endsWith("/")&&(y||E)&&(p.pathname+="/"),p}var Bi=r=>r.join("/").replace(/\/\/+/g,"/"),zA=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),qA=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,HA=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function FA(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var c0=["POST","PUT","PATCH","DELETE"];new Set(c0);var GA=["GET",...c0];new Set(GA);var $s=Y.createContext(null);$s.displayName="DataRouter";var Hc=Y.createContext(null);Hc.displayName="DataRouterState";Y.createContext(!1);var h0=Y.createContext({isTransitioning:!1});h0.displayName="ViewTransition";var QA=Y.createContext(new Map);QA.displayName="Fetchers";var YA=Y.createContext(null);YA.displayName="Await";var $n=Y.createContext(null);$n.displayName="Navigation";var Vo=Y.createContext(null);Vo.displayName="Location";var _i=Y.createContext({outlet:null,matches:[],isDataRoute:!1});_i.displayName="Route";var cm=Y.createContext(null);cm.displayName="RouteError";function XA(r,{relative:t}={}){re(Zs(),"useHref() may be used only in the context of a <Router> component.");let{basename:i,navigator:a}=Y.useContext($n),{hash:o,pathname:u,search:f}=Oo(r,{relative:t}),m=u;return i!=="/"&&(m=u==="/"?i:Bi([i,u])),a.createHref({pathname:m,search:f,hash:o})}function Zs(){return Y.useContext(Vo)!=null}function Hr(){return re(Zs(),"useLocation() may be used only in the context of a <Router> component."),Y.useContext(Vo).location}var f0="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function d0(r){Y.useContext($n).static||Y.useLayoutEffect(r)}function m0(){let{isDataRoute:r}=Y.useContext(_i);return r?lb():KA()}function KA(){re(Zs(),"useNavigate() may be used only in the context of a <Router> component.");let r=Y.useContext($s),{basename:t,navigator:i}=Y.useContext($n),{matches:a}=Y.useContext(_i),{pathname:o}=Hr(),u=JSON.stringify(om(a)),f=Y.useRef(!1);return d0(()=>{f.current=!0}),Y.useCallback((p,y={})=>{if(Xn(f.current,f0),!f.current)return;if(typeof p=="number"){i.go(p);return}let E=um(p,JSON.parse(u),o,y.relative==="path");r==null&&t!=="/"&&(E.pathname=E.pathname==="/"?t:Bi([t,E.pathname])),(y.replace?i.replace:i.push)(E,y.state,y)},[t,i,u,o,r])}Y.createContext(null);function Oo(r,{relative:t}={}){let{matches:i}=Y.useContext(_i),{pathname:a}=Hr(),o=JSON.stringify(om(i));return Y.useMemo(()=>um(r,JSON.parse(o),a,t==="path"),[r,o,a,t])}function $A(r,t){return g0(r,t)}function g0(r,t,i,a,o){re(Zs(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=Y.useContext($n),{matches:f}=Y.useContext(_i),m=f[f.length-1],p=m?m.params:{},y=m?m.pathname:"/",E=m?m.pathnameBase:"/",b=m&&m.route;{let tt=b&&b.path||"";p0(y,!b||tt.endsWith("*")||tt.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${tt}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${tt}"> to <Route path="${tt==="/"?"*":`${tt}/*`}">.`)}let S=Hr(),U;if(t){let tt=typeof t=="string"?Ks(t):t;re(E==="/"||tt.pathname?.startsWith(E),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${tt.pathname}" was given in the \`location\` prop.`),U=tt}else U=S;let H=U.pathname||"/",X=H;if(E!=="/"){let tt=E.replace(/^\//,"").split("/");X="/"+H.replace(/^\//,"").split("/").slice(tt.length).join("/")}let P=l0(r,{pathname:X});Xn(b||P!=null,`No routes matched location "${U.pathname}${U.search}${U.hash}" `),Xn(P==null||P[P.length-1].route.element!==void 0||P[P.length-1].route.Component!==void 0||P[P.length-1].route.lazy!==void 0,`Matched leaf route at location "${U.pathname}${U.search}${U.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let nt=eb(P&&P.map(tt=>Object.assign({},tt,{params:Object.assign({},p,tt.params),pathname:Bi([E,u.encodeLocation?u.encodeLocation(tt.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:tt.pathname]),pathnameBase:tt.pathnameBase==="/"?E:Bi([E,u.encodeLocation?u.encodeLocation(tt.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:tt.pathnameBase])})),f,i,a,o);return t&&nt?Y.createElement(Vo.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...U},navigationType:"POP"}},nt):nt}function ZA(){let r=sb(),t=FA(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),i=r instanceof Error?r.stack:null,a="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:a},u={padding:"2px 4px",backgroundColor:a},f=null;return console.error("Error handled by React Router default ErrorBoundary:",r),f=Y.createElement(Y.Fragment,null,Y.createElement("p",null,"💿 Hey developer 👋"),Y.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",Y.createElement("code",{style:u},"ErrorBoundary")," or"," ",Y.createElement("code",{style:u},"errorElement")," prop on your route.")),Y.createElement(Y.Fragment,null,Y.createElement("h2",null,"Unexpected Application Error!"),Y.createElement("h3",{style:{fontStyle:"italic"}},t),i?Y.createElement("pre",{style:o},i):null,f)}var JA=Y.createElement(ZA,null),WA=class extends Y.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,t){return t.location!==r.location||t.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:t.error,location:t.location,revalidation:r.revalidation||t.revalidation}}componentDidCatch(r,t){this.props.unstable_onError?this.props.unstable_onError(r,t):console.error("React Router caught the following error during render",r)}render(){return this.state.error!==void 0?Y.createElement(_i.Provider,{value:this.props.routeContext},Y.createElement(cm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function tb({routeContext:r,match:t,children:i}){let a=Y.useContext($s);return a&&a.static&&a.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=t.route.id),Y.createElement(_i.Provider,{value:r},i)}function eb(r,t=[],i=null,a=null,o=null){if(r==null){if(!i)return null;if(i.errors)r=i.matches;else if(t.length===0&&!i.initialized&&i.matches.length>0)r=i.matches;else return null}let u=r,f=i?.errors;if(f!=null){let y=u.findIndex(E=>E.route.id&&f?.[E.route.id]!==void 0);re(y>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(f).join(",")}`),u=u.slice(0,Math.min(u.length,y+1))}let m=!1,p=-1;if(i)for(let y=0;y<u.length;y++){let E=u[y];if((E.route.HydrateFallback||E.route.hydrateFallbackElement)&&(p=y),E.route.id){let{loaderData:b,errors:S}=i,U=E.route.loader&&!b.hasOwnProperty(E.route.id)&&(!S||S[E.route.id]===void 0);if(E.route.lazy||U){m=!0,p>=0?u=u.slice(0,p+1):u=[u[0]];break}}}return u.reduceRight((y,E,b)=>{let S,U=!1,H=null,X=null;i&&(S=f&&E.route.id?f[E.route.id]:void 0,H=E.route.errorElement||JA,m&&(p<0&&b===0?(p0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),U=!0,X=null):p===b&&(U=!0,X=E.route.hydrateFallbackElement||null)));let P=t.concat(u.slice(0,b+1)),nt=()=>{let tt;return S?tt=H:U?tt=X:E.route.Component?tt=Y.createElement(E.route.Component,null):E.route.element?tt=E.route.element:tt=y,Y.createElement(tb,{match:E,routeContext:{outlet:y,matches:P,isDataRoute:i!=null},children:tt})};return i&&(E.route.ErrorBoundary||E.route.errorElement||b===0)?Y.createElement(WA,{location:i.location,revalidation:i.revalidation,component:H,error:S,children:nt(),routeContext:{outlet:null,matches:P,isDataRoute:!0},unstable_onError:a}):nt()},null)}function hm(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function nb(r){let t=Y.useContext($s);return re(t,hm(r)),t}function ib(r){let t=Y.useContext(Hc);return re(t,hm(r)),t}function rb(r){let t=Y.useContext(_i);return re(t,hm(r)),t}function fm(r){let t=rb(r),i=t.matches[t.matches.length-1];return re(i.route.id,`${r} can only be used on routes that contain a unique "id"`),i.route.id}function ab(){return fm("useRouteId")}function sb(){let r=Y.useContext(cm),t=ib("useRouteError"),i=fm("useRouteError");return r!==void 0?r:t.errors?.[i]}function lb(){let{router:r}=nb("useNavigate"),t=fm("useNavigate"),i=Y.useRef(!1);return d0(()=>{i.current=!0}),Y.useCallback(async(o,u={})=>{Xn(i.current,f0),i.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:t,...u}))},[r,t])}var P_={};function p0(r,t,i){!t&&!P_[r]&&(P_[r]=!0,Xn(!1,i))}Y.memo(ob);function ob({routes:r,future:t,state:i,unstable_onError:a}){return g0(r,void 0,i,a,t)}function ub({to:r,replace:t,state:i,relative:a}){re(Zs(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=Y.useContext($n);Xn(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=Y.useContext(_i),{pathname:f}=Hr(),m=m0(),p=um(r,om(u),f,a==="path"),y=JSON.stringify(p);return Y.useEffect(()=>{m(JSON.parse(y),{replace:t,state:i,relative:a})},[m,y,a,t,i]),null}function Ls(r){re(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function cb({basename:r="/",children:t=null,location:i,navigationType:a="POP",navigator:o,static:u=!1}){re(!Zs(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=r.replace(/^\/*/,"/"),m=Y.useMemo(()=>({basename:f,navigator:o,static:u,future:{}}),[f,o,u]);typeof i=="string"&&(i=Ks(i));let{pathname:p="/",search:y="",hash:E="",state:b=null,key:S="default"}=i,U=Y.useMemo(()=>{let H=qi(p,f);return H==null?null:{location:{pathname:H,search:y,hash:E,state:b,key:S},navigationType:a}},[f,p,y,E,b,S,a]);return Xn(U!=null,`<Router basename="${f}"> is not able to match the URL "${p}${y}${E}" because it does not start with the basename, so the <Router> won't render anything.`),U==null?null:Y.createElement($n.Provider,{value:m},Y.createElement(Vo.Provider,{children:t,value:U}))}function hb({children:r,location:t}){return $A(Vd(r),t)}function Vd(r,t=[]){let i=[];return Y.Children.forEach(r,(a,o)=>{if(!Y.isValidElement(a))return;let u=[...t,o];if(a.type===Y.Fragment){i.push.apply(i,Vd(a.props.children,u));return}re(a.type===Ls,`[${typeof a.type=="string"?a.type:a.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),re(!a.props.index||!a.props.children,"An index route cannot have child routes.");let f={id:a.props.id||u.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,middleware:a.props.middleware,loader:a.props.loader,action:a.props.action,hydrateFallbackElement:a.props.hydrateFallbackElement,HydrateFallback:a.props.HydrateFallback,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.hasErrorBoundary===!0||a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(f.children=Vd(a.props.children,u)),i.push(f)}),i}var pc="get",yc="application/x-www-form-urlencoded";function Fc(r){return r!=null&&typeof r.tagName=="string"}function fb(r){return Fc(r)&&r.tagName.toLowerCase()==="button"}function db(r){return Fc(r)&&r.tagName.toLowerCase()==="form"}function mb(r){return Fc(r)&&r.tagName.toLowerCase()==="input"}function gb(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function pb(r,t){return r.button===0&&(!t||t==="_self")&&!gb(r)}var lc=null;function yb(){if(lc===null)try{new FormData(document.createElement("form"),0),lc=!1}catch{lc=!0}return lc}var _b=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function _d(r){return r!=null&&!_b.has(r)?(Xn(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${yc}"`),null):r}function vb(r,t){let i,a,o,u,f;if(db(r)){let m=r.getAttribute("action");a=m?qi(m,t):null,i=r.getAttribute("method")||pc,o=_d(r.getAttribute("enctype"))||yc,u=new FormData(r)}else if(fb(r)||mb(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=r.getAttribute("formaction")||m.getAttribute("action");if(a=p?qi(p,t):null,i=r.getAttribute("formmethod")||m.getAttribute("method")||pc,o=_d(r.getAttribute("formenctype"))||_d(m.getAttribute("enctype"))||yc,u=new FormData(m,r),!yb()){let{name:y,type:E,value:b}=r;if(E==="image"){let S=y?`${y}.`:"";u.append(`${S}x`,"0"),u.append(`${S}y`,"0")}else y&&u.append(y,b)}}else{if(Fc(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');i=pc,a=null,o=yc,f=r}return u&&o==="text/plain"&&(f=u,u=void 0),{action:a,method:i.toLowerCase(),encType:o,formData:u,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function dm(r,t){if(r===!1||r===null||typeof r>"u")throw new Error(t)}function Eb(r,t,i){let a=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return a.pathname==="/"?a.pathname=`_root.${i}`:t&&qi(a.pathname,t)==="/"?a.pathname=`${t.replace(/\/$/,"")}/_root.${i}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${i}`,a}async function Tb(r,t){if(r.id in t)return t[r.id];try{let i=await import(r.module);return t[r.id]=i,i}catch(i){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(i),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Ab(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function bb(r,t,i){let a=await Promise.all(r.map(async o=>{let u=t.routes[o.route.id];if(u){let f=await Tb(u,i);return f.links?f.links():[]}return[]}));return Cb(a.flat(1).filter(Ab).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function k_(r,t,i,a,o,u){let f=(p,y)=>i[y]?p.route.id!==i[y].route.id:!0,m=(p,y)=>i[y].pathname!==p.pathname||i[y].route.path?.endsWith("*")&&i[y].params["*"]!==p.params["*"];return u==="assets"?t.filter((p,y)=>f(p,y)||m(p,y)):u==="data"?t.filter((p,y)=>{let E=a.routes[p.route.id];if(!E||!E.hasLoader)return!1;if(f(p,y)||m(p,y))return!0;if(p.route.shouldRevalidate){let b=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:i[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function Sb(r,t,{includeHydrateFallback:i}={}){return Rb(r.map(a=>{let o=t.routes[a.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),i&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function Rb(r){return[...new Set(r)]}function wb(r){let t={},i=Object.keys(r).sort();for(let a of i)t[a]=r[a];return t}function Cb(r,t){let i=new Set;return new Set(t),r.reduce((a,o)=>{let u=JSON.stringify(wb(o));return i.has(u)||(i.add(u),a.push({key:u,link:o})),a},[])}function y0(){let r=Y.useContext($s);return dm(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function Db(){let r=Y.useContext(Hc);return dm(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var mm=Y.createContext(void 0);mm.displayName="FrameworkContext";function _0(){let r=Y.useContext(mm);return dm(r,"You must render this element inside a <HydratedRouter> element"),r}function Nb(r,t){let i=Y.useContext(mm),[a,o]=Y.useState(!1),[u,f]=Y.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:y,onMouseLeave:E,onTouchStart:b}=t,S=Y.useRef(null);Y.useEffect(()=>{if(r==="render"&&f(!0),r==="viewport"){let X=nt=>{nt.forEach(tt=>{f(tt.isIntersecting)})},P=new IntersectionObserver(X,{threshold:.5});return S.current&&P.observe(S.current),()=>{P.disconnect()}}},[r]),Y.useEffect(()=>{if(a){let X=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(X)}}},[a]);let U=()=>{o(!0)},H=()=>{o(!1),f(!1)};return i?r!=="intent"?[u,S,{}]:[u,S,{onFocus:co(m,U),onBlur:co(p,H),onMouseEnter:co(y,U),onMouseLeave:co(E,H),onTouchStart:co(b,U)}]:[!1,S,{}]}function co(r,t){return i=>{r&&r(i),i.defaultPrevented||t(i)}}function xb({page:r,...t}){let{router:i}=y0(),a=Y.useMemo(()=>l0(i.routes,r,i.basename),[i.routes,r,i.basename]);return a?Y.createElement(Vb,{page:r,matches:a,...t}):null}function Ib(r){let{manifest:t,routeModules:i}=_0(),[a,o]=Y.useState([]);return Y.useEffect(()=>{let u=!1;return bb(r,t,i).then(f=>{u||o(f)}),()=>{u=!0}},[r,t,i]),a}function Vb({page:r,matches:t,...i}){let a=Hr(),{manifest:o,routeModules:u}=_0(),{basename:f}=y0(),{loaderData:m,matches:p}=Db(),y=Y.useMemo(()=>k_(r,t,p,o,a,"data"),[r,t,p,o,a]),E=Y.useMemo(()=>k_(r,t,p,o,a,"assets"),[r,t,p,o,a]),b=Y.useMemo(()=>{if(r===a.pathname+a.search+a.hash)return[];let H=new Set,X=!1;if(t.forEach(nt=>{let tt=o.routes[nt.route.id];!tt||!tt.hasLoader||(!y.some(it=>it.route.id===nt.route.id)&&nt.route.id in m&&u[nt.route.id]?.shouldRevalidate||tt.hasClientLoader?X=!0:H.add(nt.route.id))}),H.size===0)return[];let P=Eb(r,f,"data");return X&&H.size>0&&P.searchParams.set("_routes",t.filter(nt=>H.has(nt.route.id)).map(nt=>nt.route.id).join(",")),[P.pathname+P.search]},[f,m,a,o,y,t,r,u]),S=Y.useMemo(()=>Sb(E,o),[E,o]),U=Ib(E);return Y.createElement(Y.Fragment,null,b.map(H=>Y.createElement("link",{key:H,rel:"prefetch",as:"fetch",href:H,...i})),S.map(H=>Y.createElement("link",{key:H,rel:"modulepreload",href:H,...i})),U.map(({key:H,link:X})=>Y.createElement("link",{key:H,nonce:i.nonce,...X})))}function Ob(...r){return t=>{r.forEach(i=>{typeof i=="function"?i(t):i!=null&&(i.current=t)})}}var v0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{v0&&(window.__reactRouterVersion="7.9.3")}catch{}function Mb({basename:r,children:t,window:i}){let a=Y.useRef();a.current==null&&(a.current=TA({window:i,v5Compat:!0}));let o=a.current,[u,f]=Y.useState({action:o.action,location:o.location}),m=Y.useCallback(p=>{Y.startTransition(()=>f(p))},[f]);return Y.useLayoutEffect(()=>o.listen(m),[o,m]),Y.createElement(cb,{basename:r,children:t,location:u.location,navigationType:u.action,navigator:o})}var E0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,T0=Y.forwardRef(function({onClick:t,discover:i="render",prefetch:a="none",relative:o,reloadDocument:u,replace:f,state:m,target:p,to:y,preventScrollReset:E,viewTransition:b,...S},U){let{basename:H}=Y.useContext($n),X=typeof y=="string"&&E0.test(y),P,nt=!1;if(typeof y=="string"&&X&&(P=y,v0))try{let w=new URL(window.location.href),O=y.startsWith("//")?new URL(w.protocol+y):new URL(y),I=qi(O.pathname,H);O.origin===w.origin&&I!=null?y=I+O.search+O.hash:nt=!0}catch{Xn(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let tt=XA(y,{relative:o}),[it,mt,ht]=Nb(a,S),ut=Pb(y,{replace:f,state:m,target:p,preventScrollReset:E,relative:o,viewTransition:b});function N(w){t&&t(w),w.defaultPrevented||ut(w)}let R=Y.createElement("a",{...S,...ht,href:P||tt,onClick:nt||u?t:N,ref:Ob(U,mt),target:p,"data-discover":!X&&i==="render"?"true":void 0});return it&&!X?Y.createElement(Y.Fragment,null,R,Y.createElement(xb,{page:tt})):R});T0.displayName="Link";var Na=Y.forwardRef(function({"aria-current":t="page",caseSensitive:i=!1,className:a="",end:o=!1,style:u,to:f,viewTransition:m,children:p,...y},E){let b=Oo(f,{relative:y.relative}),S=Hr(),U=Y.useContext(Hc),{navigator:H,basename:X}=Y.useContext($n),P=U!=null&&qb(b)&&m===!0,nt=H.encodeLocation?H.encodeLocation(b).pathname:b.pathname,tt=S.pathname,it=U&&U.navigation&&U.navigation.location?U.navigation.location.pathname:null;i||(tt=tt.toLowerCase(),it=it?it.toLowerCase():null,nt=nt.toLowerCase()),it&&X&&(it=qi(it,X)||it);const mt=nt!=="/"&&nt.endsWith("/")?nt.length-1:nt.length;let ht=tt===nt||!o&&tt.startsWith(nt)&&tt.charAt(mt)==="/",ut=it!=null&&(it===nt||!o&&it.startsWith(nt)&&it.charAt(nt.length)==="/"),N={isActive:ht,isPending:ut,isTransitioning:P},R=ht?t:void 0,w;typeof a=="function"?w=a(N):w=[a,ht?"active":null,ut?"pending":null,P?"transitioning":null].filter(Boolean).join(" ");let O=typeof u=="function"?u(N):u;return Y.createElement(T0,{...y,"aria-current":R,className:w,ref:E,style:O,to:f,viewTransition:m},typeof p=="function"?p(N):p)});Na.displayName="NavLink";var Ub=Y.forwardRef(({discover:r="render",fetcherKey:t,navigate:i,reloadDocument:a,replace:o,state:u,method:f=pc,action:m,onSubmit:p,relative:y,preventScrollReset:E,viewTransition:b,...S},U)=>{let H=Bb(),X=zb(m,{relative:y}),P=f.toLowerCase()==="get"?"get":"post",nt=typeof m=="string"&&E0.test(m),tt=it=>{if(p&&p(it),it.defaultPrevented)return;it.preventDefault();let mt=it.nativeEvent.submitter,ht=mt?.getAttribute("formmethod")||f;H(mt||it.currentTarget,{fetcherKey:t,method:ht,navigate:i,replace:o,state:u,relative:y,preventScrollReset:E,viewTransition:b})};return Y.createElement("form",{ref:U,method:P,action:X,onSubmit:a?p:tt,...S,"data-discover":!nt&&r==="render"?"true":void 0})});Ub.displayName="Form";function Lb(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function A0(r){let t=Y.useContext($s);return re(t,Lb(r)),t}function Pb(r,{target:t,replace:i,state:a,preventScrollReset:o,relative:u,viewTransition:f}={}){let m=m0(),p=Hr(),y=Oo(r,{relative:u});return Y.useCallback(E=>{if(pb(E,t)){E.preventDefault();let b=i!==void 0?i:bo(p)===bo(y);m(r,{replace:b,state:a,preventScrollReset:o,relative:u,viewTransition:f})}},[p,m,y,i,a,t,r,o,u,f])}var kb=0,jb=()=>`__${String(++kb)}__`;function Bb(){let{router:r}=A0("useSubmit"),{basename:t}=Y.useContext($n),i=ab();return Y.useCallback(async(a,o={})=>{let{action:u,method:f,encType:m,formData:p,body:y}=vb(a,t);if(o.navigate===!1){let E=o.fetcherKey||jb();await r.fetch(E,i,o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:y,formMethod:o.method||f,formEncType:o.encType||m,flushSync:o.flushSync})}else await r.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:y,formMethod:o.method||f,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:i,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,t,i])}function zb(r,{relative:t}={}){let{basename:i}=Y.useContext($n),a=Y.useContext(_i);re(a,"useFormAction must be used inside a RouteContext");let[o]=a.matches.slice(-1),u={...Oo(r||".",{relative:t})},f=Hr();if(r==null){u.search=f.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(E=>E==="")){m.delete("index"),p.filter(b=>b).forEach(b=>m.append("index",b));let E=m.toString();u.search=E?`?${E}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),i!=="/"&&(u.pathname=u.pathname==="/"?i:Bi([i,u.pathname])),bo(u)}function qb(r,{relative:t}={}){let i=Y.useContext(h0);re(i!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=A0("useViewTransitionState"),o=Oo(r,{relative:t});if(!i.isTransitioning)return!1;let u=qi(i.currentLocation.pathname,a)||i.currentLocation.pathname,f=qi(i.nextLocation.pathname,a)||i.nextLocation.pathname;return Sc(o.pathname,f)!=null||Sc(o.pathname,u)!=null}var b0={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},j_=Va.createContext&&Va.createContext(b0),Hb=["attr","size","title"];function Fb(r,t){if(r==null)return{};var i=Gb(r,t),a,o;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(r);for(o=0;o<u.length;o++)a=u[o],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(r,a)&&(i[a]=r[a])}return i}function Gb(r,t){if(r==null)return{};var i={};for(var a in r)if(Object.prototype.hasOwnProperty.call(r,a)){if(t.indexOf(a)>=0)continue;i[a]=r[a]}return i}function Rc(){return Rc=Object.assign?Object.assign.bind():function(r){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=i[a])}return r},Rc.apply(this,arguments)}function B_(r,t){var i=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);t&&(a=a.filter(function(o){return Object.getOwnPropertyDescriptor(r,o).enumerable})),i.push.apply(i,a)}return i}function wc(r){for(var t=1;t<arguments.length;t++){var i=arguments[t]!=null?arguments[t]:{};t%2?B_(Object(i),!0).forEach(function(a){Qb(r,a,i[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(i)):B_(Object(i)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(i,a))})}return r}function Qb(r,t,i){return t=Yb(t),t in r?Object.defineProperty(r,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[t]=i,r}function Yb(r){var t=Xb(r,"string");return typeof t=="symbol"?t:t+""}function Xb(r,t){if(typeof r!="object"||!r)return r;var i=r[Symbol.toPrimitive];if(i!==void 0){var a=i.call(r,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(r)}function S0(r){return r&&r.map((t,i)=>Va.createElement(t.tag,wc({key:i},t.attr),S0(t.child)))}function Un(r){return t=>Va.createElement(Kb,Rc({attr:wc({},r.attr)},t),S0(r.child))}function Kb(r){var t=i=>{var{attr:a,size:o,title:u}=r,f=Fb(r,Hb),m=o||i.size||"1em",p;return i.className&&(p=i.className),r.className&&(p=(p?p+" ":"")+r.className),Va.createElement("svg",Rc({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},i.attr,a,f,{className:p,style:wc(wc({color:r.color||i.color},i.style),r.style),height:m,width:m,xmlns:"http://www.w3.org/2000/svg"}),u&&Va.createElement("title",null,u),r.children)};return j_!==void 0?Va.createElement(j_.Consumer,null,i=>t(i)):t(b0)}function $b(r){return Un({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"path",attr:{d:"m4.9 4.9 14.2 14.2"},child:[]}]})(r)}function Zb(r){return Un({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2"},child:[]}]})(r)}function Jb(r){return Un({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{width:"7",height:"9",x:"3",y:"3",rx:"1"},child:[]},{tag:"rect",attr:{width:"7",height:"5",x:"14",y:"3",rx:"1"},child:[]},{tag:"rect",attr:{width:"7",height:"9",x:"14",y:"12",rx:"1"},child:[]},{tag:"rect",attr:{width:"7",height:"5",x:"3",y:"16",rx:"1"},child:[]}]})(r)}function Wb(r){return Un({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M16 16h6"},child:[]},{tag:"path",attr:{d:"M19 13v6"},child:[]},{tag:"path",attr:{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14"},child:[]},{tag:"path",attr:{d:"m7.5 4.27 9 5.15"},child:[]},{tag:"polyline",attr:{points:"3.29 7 12 12 20.71 7"},child:[]},{tag:"line",attr:{x1:"12",x2:"12",y1:"22",y2:"12"},child:[]}]})(r)}function t2(r){return Un({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z"},child:[]},{tag:"circle",attr:{cx:"12",cy:"12",r:"3"},child:[]}]})(r)}function e2(r){return Un({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"8",cy:"21",r:"1"},child:[]},{tag:"circle",attr:{cx:"19",cy:"21",r:"1"},child:[]},{tag:"path",attr:{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12"},child:[]}]})(r)}const n2=()=>C.jsxs("div",{className:"sidebar",children:[C.jsx("h3",{children:"ECOMMERCE ADMIN"}),C.jsx("nav",{children:C.jsxs("ul",{className:"nav-list",children:[C.jsx("li",{children:C.jsxs(Na,{to:"/home",className:"sidebar-link",children:[C.jsx(Jb,{className:"icon"})," ",C.jsx("span",{children:"Dashboard"})]})}),C.jsx("li",{children:C.jsxs(Na,{to:"/Products",className:"sidebar-link",children:[C.jsx(Wb,{className:"icon"})," ",C.jsx("span",{children:"Add Products"})]})}),C.jsx("li",{children:C.jsxs(Na,{to:"/Categories",className:"sidebar-link",children:[C.jsx(Zb,{className:"icon"})," ",C.jsx("span",{children:"Categories"})]})}),C.jsx("li",{children:C.jsxs(Na,{to:"/orders",className:"sidebar-link",children:[C.jsx(e2,{className:"icon"})," ",C.jsx("span",{children:"Orders"})]})}),C.jsx("li",{children:C.jsxs(Na,{to:"/BannerAds",className:"sidebar-link",children:[C.jsx($b,{className:"icon"})," ",C.jsx("span",{children:"Banned Ads"})]})}),C.jsx("li",{children:C.jsxs(Na,{to:"/settings",className:"sidebar-link",children:[C.jsx(t2,{className:"icon"})," ",C.jsx("span",{children:"Settings"})]})})]})})]}),i2=()=>C.jsxs("div",{children:[C.jsx("h1",{children:"স্বাগতম, অ্যাডমিন! 👋"}),C.jsx("p",{children:"এটি আপনার ই-কমার্স অ্যাডমিন প্যানেলের হোম (ড্যাশবোর্ড) পেজ।"}),C.jsxs("div",{style:{marginTop:"30px",padding:"15px",border:"1px solid #ccc",backgroundColor:"#000"},children:[C.jsx("h2",{children:"আজকের সংক্ষিপ্ত বিবরণ"}),C.jsx("p",{children:"মোট অর্ডার: 15টি"}),C.jsx("p",{children:"মোট বিক্রি: ৫,০০০ টাকা"})]})]});function vd(r){return Un({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M143 352.3L7 216.3c-9.4-9.4-9.4-24.6 0-33.9l22.6-22.6c9.4-9.4 24.6-9.4 33.9 0l96.4 96.4 96.4-96.4c9.4-9.4 24.6-9.4 33.9 0l22.6 22.6c9.4 9.4 9.4 24.6 0 33.9l-136 136c-9.2 9.4-24.4 9.4-33.8 0z"},child:[]}]})(r)}function Us(r){return Un({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M177 159.7l136 136c9.4 9.4 9.4 24.6 0 33.9l-22.6 22.6c-9.4 9.4-24.6 9.4-33.9 0L160 255.9l-96.4 96.4c-9.4 9.4-24.6 9.4-33.9 0L7 329.7c-9.4-9.4-9.4-24.6 0-33.9l136-136c9.4-9.5 24.6-9.5 34-.1z"},child:[]}]})(r)}function r2(r){return Un({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M464 448H48c-26.51 0-48-21.49-48-48V112c0-26.51 21.49-48 48-48h416c26.51 0 48 21.49 48 48v288c0 26.51-21.49 48-48 48zM112 120c-30.928 0-56 25.072-56 56s25.072 56 56 56 56-25.072 56-56-25.072-56-56-56zM64 384h384V272l-87.515-87.515c-4.686-4.686-12.284-4.686-16.971 0L208 320l-55.515-55.515c-4.686-4.686-12.284-4.686-16.971 0L64 336v48z"},child:[]}]})(r)}function a2(r){return Un({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(r)}const s2=()=>{};var z_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R0=function(r){const t=[];let i=0;for(let a=0;a<r.length;a++){let o=r.charCodeAt(a);o<128?t[i++]=o:o<2048?(t[i++]=o>>6|192,t[i++]=o&63|128):(o&64512)===55296&&a+1<r.length&&(r.charCodeAt(a+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++a)&1023),t[i++]=o>>18|240,t[i++]=o>>12&63|128,t[i++]=o>>6&63|128,t[i++]=o&63|128):(t[i++]=o>>12|224,t[i++]=o>>6&63|128,t[i++]=o&63|128)}return t},l2=function(r){const t=[];let i=0,a=0;for(;i<r.length;){const o=r[i++];if(o<128)t[a++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[i++];t[a++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[i++],f=r[i++],m=r[i++],p=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;t[a++]=String.fromCharCode(55296+(p>>10)),t[a++]=String.fromCharCode(56320+(p&1023))}else{const u=r[i++],f=r[i++];t[a++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return t.join("")},w0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let o=0;o<r.length;o+=3){const u=r[o],f=o+1<r.length,m=f?r[o+1]:0,p=o+2<r.length,y=p?r[o+2]:0,E=u>>2,b=(u&3)<<4|m>>4;let S=(m&15)<<2|y>>6,U=y&63;p||(U=64,f||(S=64)),a.push(i[E],i[b],i[S],i[U])}return a.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(R0(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):l2(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let o=0;o<r.length;){const u=i[r.charAt(o++)],m=o<r.length?i[r.charAt(o)]:0;++o;const y=o<r.length?i[r.charAt(o)]:64;++o;const b=o<r.length?i[r.charAt(o)]:64;if(++o,u==null||m==null||y==null||b==null)throw new o2;const S=u<<2|m>>4;if(a.push(S),y!==64){const U=m<<4&240|y>>2;if(a.push(U),b!==64){const H=y<<6&192|b;a.push(H)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class o2 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const u2=function(r){const t=R0(r);return w0.encodeByteArray(t,!0)},Cc=function(r){return u2(r).replace(/\./g,"")},c2=function(r){try{return w0.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h2(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f2=()=>h2().__FIREBASE_DEFAULTS__,d2=()=>{if(typeof process>"u"||typeof z_>"u")return;const r=z_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},m2=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&c2(r[1]);return t&&JSON.parse(t)},gm=()=>{try{return s2()||f2()||d2()||m2()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},g2=r=>gm()?.emulatorHosts?.[r],C0=r=>{const t=g2(r);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const a=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),a]:[t.substring(0,i),a]},D0=()=>gm()?.config;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p2{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,a))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mo(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function N0(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x0(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=t||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${a}`,aud:a,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Cc(JSON.stringify(i)),Cc(JSON.stringify(f)),""].join(".")}const yo={};function y2(){const r={prod:[],emulator:[]};for(const t of Object.keys(yo))yo[t]?r.emulator.push(t):r.prod.push(t);return r}function _2(r){let t=document.getElementById(r),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",r),i=!0),{created:i,element:t}}let q_=!1;function I0(r,t){if(typeof window>"u"||typeof document>"u"||!Mo(window.location.host)||yo[r]===t||yo[r]||q_)return;yo[r]=t;function i(S){return`__firebase__banner__${S}`}const a="__firebase__banner",u=y2().prod.length>0;function f(){const S=document.getElementById(a);S&&S.remove()}function m(S){S.style.display="flex",S.style.background="#7faaf0",S.style.position="fixed",S.style.bottom="5px",S.style.left="5px",S.style.padding=".5em",S.style.borderRadius="5px",S.style.alignItems="center"}function p(S,U){S.setAttribute("width","24"),S.setAttribute("id",U),S.setAttribute("height","24"),S.setAttribute("viewBox","0 0 24 24"),S.setAttribute("fill","none"),S.style.marginLeft="-6px"}function y(){const S=document.createElement("span");return S.style.cursor="pointer",S.style.marginLeft="16px",S.style.fontSize="24px",S.innerHTML=" &times;",S.onclick=()=>{q_=!0,f()},S}function E(S,U){S.setAttribute("id",U),S.innerText="Learn more",S.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",S.setAttribute("target","__blank"),S.style.paddingLeft="5px",S.style.textDecoration="underline"}function b(){const S=_2(a),U=i("text"),H=document.getElementById(U)||document.createElement("span"),X=i("learnmore"),P=document.getElementById(X)||document.createElement("a"),nt=i("preprendIcon"),tt=document.getElementById(nt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(S.created){const it=S.element;m(it),E(P,X);const mt=y();p(tt,nt),it.append(tt,H,P,mt),document.body.appendChild(it)}u?(H.innerText="Preview backend disconnected.",tt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(tt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,H.innerText="Preview backend running in this workspace."),H.setAttribute("id",U)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v2(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function E2(){const r=gm()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function T2(){return!E2()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function A2(){try{return typeof indexedDB=="object"}catch{return!1}}function b2(){return new Promise((r,t)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(a);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(a),r(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{t(o.error?.message||"")}}catch(i){t(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S2="FirebaseError";class Ba extends Error{constructor(t,i,a){super(i),this.code=t,this.customData=a,this.name=S2,Object.setPrototypeOf(this,Ba.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,V0.prototype.create)}}class V0{constructor(t,i,a){this.service=t,this.serviceName=i,this.errors=a}create(t,...i){const a=i[0]||{},o=`${this.service}/${t}`,u=this.errors[t],f=u?R2(u,a):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new Ba(o,m,a)}}function R2(r,t){return r.replace(w2,(i,a)=>{const o=t[a];return o!=null?String(o):`<${a}?>`})}const w2=/\{\$([^}]+)}/g;function Dc(r,t){if(r===t)return!0;const i=Object.keys(r),a=Object.keys(t);for(const o of i){if(!a.includes(o))return!1;const u=r[o],f=t[o];if(H_(u)&&H_(f)){if(!Dc(u,f))return!1}else if(u!==f)return!1}for(const o of a)if(!i.includes(o))return!1;return!0}function H_(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rn(r){return r&&r._delegate?r._delegate:r}class qs{constructor(t,i,a){this.name=t,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C2{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const a=new p2;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&a.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),a=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(a)return null;throw o}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(N2(t))try{this.getOrInitializeService({instanceIdentifier:xa})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const u=this.getOrInitializeService({instanceIdentifier:o});a.resolve(u)}catch{}}}}clearInstance(t=xa){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=xa){return this.instances.has(t)}getOptions(t=xa){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);a===m&&f.resolve(o)}return o}onInit(t,i){const a=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(a)??new Set;o.add(t),this.onInitCallbacks.set(a,o);const u=this.instances.get(a);return u&&t(u,a),()=>{o.delete(t)}}invokeOnInitCallbacks(t,i){const a=this.onInitCallbacks.get(i);if(a)for(const o of a)try{o(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let a=this.instances.get(t);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:D2(t),options:i}),this.instances.set(t,a),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(a,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,a)}catch{}return a||null}normalizeInstanceIdentifier(t=xa){return this.component?this.component.multipleInstances?t:xa:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function D2(r){return r===xa?void 0:r}function N2(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x2{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new C2(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(kt||(kt={}));const I2={debug:kt.DEBUG,verbose:kt.VERBOSE,info:kt.INFO,warn:kt.WARN,error:kt.ERROR,silent:kt.SILENT},V2=kt.INFO,O2={[kt.DEBUG]:"log",[kt.VERBOSE]:"log",[kt.INFO]:"info",[kt.WARN]:"warn",[kt.ERROR]:"error"},M2=(r,t,...i)=>{if(t<r.logLevel)return;const a=new Date().toISOString(),o=O2[t];if(o)console[o](`[${a}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class O0{constructor(t){this.name=t,this._logLevel=V2,this._logHandler=M2,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in kt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?I2[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,kt.DEBUG,...t),this._logHandler(this,kt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,kt.VERBOSE,...t),this._logHandler(this,kt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,kt.INFO,...t),this._logHandler(this,kt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,kt.WARN,...t),this._logHandler(this,kt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,kt.ERROR,...t),this._logHandler(this,kt.ERROR,...t)}}const U2=(r,t)=>t.some(i=>r instanceof i);let F_,G_;function L2(){return F_||(F_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function P2(){return G_||(G_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const M0=new WeakMap,Od=new WeakMap,U0=new WeakMap,Ed=new WeakMap,pm=new WeakMap;function k2(r){const t=new Promise((i,a)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",f)},u=()=>{i(Ir(r.result)),o()},f=()=>{a(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",f)});return t.then(i=>{i instanceof IDBCursor&&M0.set(i,r)}).catch(()=>{}),pm.set(t,r),t}function j2(r){if(Od.has(r))return;const t=new Promise((i,a)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",f),r.removeEventListener("abort",f)},u=()=>{i(),o()},f=()=>{a(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",f),r.addEventListener("abort",f)});Od.set(r,t)}let Md={get(r,t,i){if(r instanceof IDBTransaction){if(t==="done")return Od.get(r);if(t==="objectStoreNames")return r.objectStoreNames||U0.get(r);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Ir(r[t])},set(r,t,i){return r[t]=i,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function B2(r){Md=r(Md)}function z2(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const a=r.call(Td(this),t,...i);return U0.set(a,t.sort?t.sort():[t]),Ir(a)}:P2().includes(r)?function(...t){return r.apply(Td(this),t),Ir(M0.get(this))}:function(...t){return Ir(r.apply(Td(this),t))}}function q2(r){return typeof r=="function"?z2(r):(r instanceof IDBTransaction&&j2(r),U2(r,L2())?new Proxy(r,Md):r)}function Ir(r){if(r instanceof IDBRequest)return k2(r);if(Ed.has(r))return Ed.get(r);const t=q2(r);return t!==r&&(Ed.set(r,t),pm.set(t,r)),t}const Td=r=>pm.get(r);function H2(r,t,{blocked:i,upgrade:a,blocking:o,terminated:u}={}){const f=indexedDB.open(r,t),m=Ir(f);return a&&f.addEventListener("upgradeneeded",p=>{a(Ir(f.result),p.oldVersion,p.newVersion,Ir(f.transaction),p)}),i&&f.addEventListener("blocked",p=>i(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),m}const F2=["get","getKey","getAll","getAllKeys","count"],G2=["put","add","delete","clear"],Ad=new Map;function Q_(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(Ad.get(t))return Ad.get(t);const i=t.replace(/FromIndex$/,""),a=t!==i,o=G2.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(o||F2.includes(i)))return;const u=async function(f,...m){const p=this.transaction(f,o?"readwrite":"readonly");let y=p.store;return a&&(y=y.index(m.shift())),(await Promise.all([y[i](...m),o&&p.done]))[0]};return Ad.set(t,u),u}B2(r=>({...r,get:(t,i,a)=>Q_(t,i)||r.get(t,i,a),has:(t,i)=>!!Q_(t,i)||r.has(t,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q2{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(Y2(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function Y2(r){return r.getComponent()?.type==="VERSION"}const Ud="@firebase/app",Y_="0.14.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hi=new O0("@firebase/app"),X2="@firebase/app-compat",K2="@firebase/analytics-compat",$2="@firebase/analytics",Z2="@firebase/app-check-compat",J2="@firebase/app-check",W2="@firebase/auth",tS="@firebase/auth-compat",eS="@firebase/database",nS="@firebase/data-connect",iS="@firebase/database-compat",rS="@firebase/functions",aS="@firebase/functions-compat",sS="@firebase/installations",lS="@firebase/installations-compat",oS="@firebase/messaging",uS="@firebase/messaging-compat",cS="@firebase/performance",hS="@firebase/performance-compat",fS="@firebase/remote-config",dS="@firebase/remote-config-compat",mS="@firebase/storage",gS="@firebase/storage-compat",pS="@firebase/firestore",yS="@firebase/ai",_S="@firebase/firestore-compat",vS="firebase",ES="12.3.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ld="[DEFAULT]",TS={[Ud]:"fire-core",[X2]:"fire-core-compat",[$2]:"fire-analytics",[K2]:"fire-analytics-compat",[J2]:"fire-app-check",[Z2]:"fire-app-check-compat",[W2]:"fire-auth",[tS]:"fire-auth-compat",[eS]:"fire-rtdb",[nS]:"fire-data-connect",[iS]:"fire-rtdb-compat",[rS]:"fire-fn",[aS]:"fire-fn-compat",[sS]:"fire-iid",[lS]:"fire-iid-compat",[oS]:"fire-fcm",[uS]:"fire-fcm-compat",[cS]:"fire-perf",[hS]:"fire-perf-compat",[fS]:"fire-rc",[dS]:"fire-rc-compat",[mS]:"fire-gcs",[gS]:"fire-gcs-compat",[pS]:"fire-fst",[_S]:"fire-fst-compat",[yS]:"fire-vertex","fire-js":"fire-js",[vS]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nc=new Map,AS=new Map,Pd=new Map;function X_(r,t){try{r.container.addComponent(t)}catch(i){Hi.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,i)}}function So(r){const t=r.name;if(Pd.has(t))return Hi.debug(`There were multiple attempts to register component ${t}.`),!1;Pd.set(t,r);for(const i of Nc.values())X_(i,r);for(const i of AS.values())X_(i,r);return!0}function L0(r,t){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(t)}function P0(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Vr=new V0("app","Firebase",bS);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SS{constructor(t,i,a){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new qs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Vr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k0=ES;function Gc(r,t={}){let i=r;typeof t!="object"&&(t={name:t});const a={name:Ld,automaticDataCollectionEnabled:!0,...t},o=a.name;if(typeof o!="string"||!o)throw Vr.create("bad-app-name",{appName:String(o)});if(i||(i=D0()),!i)throw Vr.create("no-options");const u=Nc.get(o);if(u){if(Dc(i,u.options)&&Dc(a,u.config))return u;throw Vr.create("duplicate-app",{appName:o})}const f=new x2(o);for(const p of Pd.values())f.addComponent(p);const m=new SS(i,a,f);return Nc.set(o,m),m}function j0(r=Ld){const t=Nc.get(r);if(!t&&r===Ld&&D0())return Gc();if(!t)throw Vr.create("no-app",{appName:r});return t}function Or(r,t,i){let a=TS[r]??r;i&&(a+=`-${i}`);const o=a.match(/\s|\//),u=t.match(/\s|\//);if(o||u){const f=[`Unable to register library "${a}" with version "${t}":`];o&&f.push(`library name "${a}" contains illegal characters (whitespace or "/")`),o&&u&&f.push("and"),u&&f.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Hi.warn(f.join(" "));return}So(new qs(`${a}-version`,()=>({library:a,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RS="firebase-heartbeat-database",wS=1,Ro="firebase-heartbeat-store";let bd=null;function B0(){return bd||(bd=H2(RS,wS,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(Ro)}catch(i){console.warn(i)}}}}).catch(r=>{throw Vr.create("idb-open",{originalErrorMessage:r.message})})),bd}async function CS(r){try{const i=(await B0()).transaction(Ro),a=await i.objectStore(Ro).get(z0(r));return await i.done,a}catch(t){if(t instanceof Ba)Hi.warn(t.message);else{const i=Vr.create("idb-get",{originalErrorMessage:t?.message});Hi.warn(i.message)}}}async function K_(r,t){try{const a=(await B0()).transaction(Ro,"readwrite");await a.objectStore(Ro).put(t,z0(r)),await a.done}catch(i){if(i instanceof Ba)Hi.warn(i.message);else{const a=Vr.create("idb-set",{originalErrorMessage:i?.message});Hi.warn(a.message)}}}function z0(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DS=1024,NS=30;class xS{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new VS(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=$_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>NS){const o=OS(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){Hi.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=$_(),{heartbeatsToSend:i,unsentEntries:a}=IS(this._heartbeatsCache.heartbeats),o=Cc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return Hi.warn(t),""}}}function $_(){return new Date().toISOString().substring(0,10)}function IS(r,t=DS){const i=[];let a=r.slice();for(const o of r){const u=i.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),Z_(i)>t){u.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),Z_(i)>t){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class VS{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return A2()?b2().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await CS(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return K_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return K_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...t.heartbeats]})}else return}}function Z_(r){return Cc(JSON.stringify({version:2,heartbeats:r})).length}function OS(r){if(r.length===0)return-1;let t=0,i=r[0].date;for(let a=1;a<r.length;a++)r[a].date<i&&(i=r[a].date,t=a);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MS(r){So(new qs("platform-logger",t=>new Q2(t),"PRIVATE")),So(new qs("heartbeat",t=>new xS(t),"PRIVATE")),Or(Ud,Y_,r),Or(Ud,Y_,"esm2020"),Or("fire-js","")}MS("");var US="firebase",LS="12.3.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Or(US,LS,"app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q0="firebasestorage.googleapis.com",H0="storageBucket",PS=120*1e3,kS=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class he extends Ba{constructor(t,i,a=0){super(Sd(t),`Firebase Storage: ${i} (${Sd(t)})`),this.status_=a,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,he.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return Sd(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var ce;(function(r){r.UNKNOWN="unknown",r.OBJECT_NOT_FOUND="object-not-found",r.BUCKET_NOT_FOUND="bucket-not-found",r.PROJECT_NOT_FOUND="project-not-found",r.QUOTA_EXCEEDED="quota-exceeded",r.UNAUTHENTICATED="unauthenticated",r.UNAUTHORIZED="unauthorized",r.UNAUTHORIZED_APP="unauthorized-app",r.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",r.INVALID_CHECKSUM="invalid-checksum",r.CANCELED="canceled",r.INVALID_EVENT_NAME="invalid-event-name",r.INVALID_URL="invalid-url",r.INVALID_DEFAULT_BUCKET="invalid-default-bucket",r.NO_DEFAULT_BUCKET="no-default-bucket",r.CANNOT_SLICE_BLOB="cannot-slice-blob",r.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",r.NO_DOWNLOAD_URL="no-download-url",r.INVALID_ARGUMENT="invalid-argument",r.INVALID_ARGUMENT_COUNT="invalid-argument-count",r.APP_DELETED="app-deleted",r.INVALID_ROOT_OPERATION="invalid-root-operation",r.INVALID_FORMAT="invalid-format",r.INTERNAL_ERROR="internal-error",r.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(ce||(ce={}));function Sd(r){return"storage/"+r}function ym(){const r="An unknown error occurred, please check the error payload for server response.";return new he(ce.UNKNOWN,r)}function jS(r){return new he(ce.OBJECT_NOT_FOUND,"Object '"+r+"' does not exist.")}function BS(r){return new he(ce.QUOTA_EXCEEDED,"Quota for bucket '"+r+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function zS(){const r="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new he(ce.UNAUTHENTICATED,r)}function qS(){return new he(ce.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function HS(r){return new he(ce.UNAUTHORIZED,"User does not have permission to access '"+r+"'.")}function FS(){return new he(ce.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function GS(){return new he(ce.CANCELED,"User canceled the upload/download.")}function QS(r){return new he(ce.INVALID_URL,"Invalid URL '"+r+"'.")}function YS(r){return new he(ce.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.")}function XS(){return new he(ce.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+H0+"' property when initializing the app?")}function KS(){return new he(ce.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function $S(){return new he(ce.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function ZS(r){return new he(ce.UNSUPPORTED_ENVIRONMENT,`${r} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function kd(r){return new he(ce.INVALID_ARGUMENT,r)}function F0(){return new he(ce.APP_DELETED,"The Firebase app was deleted.")}function JS(r){return new he(ce.INVALID_ROOT_OPERATION,"The operation '"+r+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function _o(r,t){return new he(ce.INVALID_FORMAT,"String does not match format '"+r+"': "+t)}function ho(r){throw new he(ce.INTERNAL_ERROR,"Internal error: "+r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn{constructor(t,i){this.bucket=t,this.path_=i}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,i){let a;try{a=vn.makeFromUrl(t,i)}catch{return new vn(t,"")}if(a.path==="")return a;throw YS(t)}static makeFromUrl(t,i){let a=null;const o="([A-Za-z0-9.\\-_]+)";function u(mt){mt.path.charAt(mt.path.length-1)==="/"&&(mt.path_=mt.path_.slice(0,-1))}const f="(/(.*))?$",m=new RegExp("^gs://"+o+f,"i"),p={bucket:1,path:3};function y(mt){mt.path_=decodeURIComponent(mt.path)}const E="v[A-Za-z0-9_]+",b=i.replace(/[.]/g,"\\."),S="(/([^?#]*).*)?$",U=new RegExp(`^https?://${b}/${E}/b/${o}/o${S}`,"i"),H={bucket:1,path:3},X=i===q0?"(?:storage.googleapis.com|storage.cloud.google.com)":i,P="([^?#]*)",nt=new RegExp(`^https?://${X}/${o}/${P}`,"i"),it=[{regex:m,indices:p,postModify:u},{regex:U,indices:H,postModify:y},{regex:nt,indices:{bucket:1,path:2},postModify:y}];for(let mt=0;mt<it.length;mt++){const ht=it[mt],ut=ht.regex.exec(t);if(ut){const N=ut[ht.indices.bucket];let R=ut[ht.indices.path];R||(R=""),a=new vn(N,R),ht.postModify(a);break}}if(a==null)throw QS(t);return a}}class WS{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tR(r,t,i){let a=1,o=null,u=null,f=!1,m=0;function p(){return m===2}let y=!1;function E(...P){y||(y=!0,t.apply(null,P))}function b(P){o=setTimeout(()=>{o=null,r(U,p())},P)}function S(){u&&clearTimeout(u)}function U(P,...nt){if(y){S();return}if(P){S(),E.call(null,P,...nt);return}if(p()||f){S(),E.call(null,P,...nt);return}a<64&&(a*=2);let it;m===1?(m=2,it=0):it=(a+Math.random())*1e3,b(it)}let H=!1;function X(P){H||(H=!0,S(),!y&&(o!==null?(P||(m=2),clearTimeout(o),b(0)):P||(m=1)))}return b(0),u=setTimeout(()=>{f=!0,X(!0)},i),X}function eR(r){r(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nR(r){return r!==void 0}function iR(r){return typeof r=="object"&&!Array.isArray(r)}function _m(r){return typeof r=="string"||r instanceof String}function J_(r){return vm()&&r instanceof Blob}function vm(){return typeof Blob<"u"}function W_(r,t,i,a){if(a<t)throw kd(`Invalid value for '${r}'. Expected ${t} or greater.`);if(a>i)throw kd(`Invalid value for '${r}'. Expected ${i} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qc(r,t,i){let a=t;return i==null&&(a=`https://${t}`),`${i}://${a}/v0${r}`}function G0(r){const t=encodeURIComponent;let i="?";for(const a in r)if(r.hasOwnProperty(a)){const o=t(a)+"="+t(r[a]);i=i+o+"&"}return i=i.slice(0,-1),i}var Oa;(function(r){r[r.NO_ERROR=0]="NO_ERROR",r[r.NETWORK_ERROR=1]="NETWORK_ERROR",r[r.ABORT=2]="ABORT"})(Oa||(Oa={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rR(r,t){const i=r>=500&&r<600,o=[408,429].indexOf(r)!==-1,u=t.indexOf(r)!==-1;return i||o||u}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aR{constructor(t,i,a,o,u,f,m,p,y,E,b,S=!0,U=!1){this.url_=t,this.method_=i,this.headers_=a,this.body_=o,this.successCodes_=u,this.additionalRetryCodes_=f,this.callback_=m,this.errorCallback_=p,this.timeout_=y,this.progressCallback_=E,this.connectionFactory_=b,this.retry=S,this.isUsingEmulator=U,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((H,X)=>{this.resolve_=H,this.reject_=X,this.start_()})}start_(){const t=(a,o)=>{if(o){a(!1,new oc(!1,null,!0));return}const u=this.connectionFactory_();this.pendingConnection_=u;const f=m=>{const p=m.loaded,y=m.lengthComputable?m.total:-1;this.progressCallback_!==null&&this.progressCallback_(p,y)};this.progressCallback_!==null&&u.addUploadProgressListener(f),u.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&u.removeUploadProgressListener(f),this.pendingConnection_=null;const m=u.getErrorCode()===Oa.NO_ERROR,p=u.getStatus();if(!m||rR(p,this.additionalRetryCodes_)&&this.retry){const E=u.getErrorCode()===Oa.ABORT;a(!1,new oc(!1,null,E));return}const y=this.successCodes_.indexOf(p)!==-1;a(!0,new oc(y,u))})},i=(a,o)=>{const u=this.resolve_,f=this.reject_,m=o.connection;if(o.wasSuccessCode)try{const p=this.callback_(m,m.getResponse());nR(p)?u(p):u()}catch(p){f(p)}else if(m!==null){const p=ym();p.serverResponse=m.getErrorText(),this.errorCallback_?f(this.errorCallback_(m,p)):f(p)}else if(o.canceled){const p=this.appDelete_?F0():GS();f(p)}else{const p=FS();f(p)}};this.canceled_?i(!1,new oc(!1,null,!0)):this.backoffId_=tR(t,i,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&eR(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class oc{constructor(t,i,a){this.wasSuccessCode=t,this.connection=i,this.canceled=!!a}}function sR(r,t){t!==null&&t.length>0&&(r.Authorization="Firebase "+t)}function lR(r,t){r["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function oR(r,t){t&&(r["X-Firebase-GMPID"]=t)}function uR(r,t){t!==null&&(r["X-Firebase-AppCheck"]=t)}function cR(r,t,i,a,o,u,f=!0,m=!1){const p=G0(r.urlParams),y=r.url+p,E=Object.assign({},r.headers);return oR(E,t),sR(E,i),lR(E,u),uR(E,a),new aR(y,r.method,E,r.body,r.successCodes,r.additionalRetryCodes,r.handler,r.errorHandler,r.timeout,r.progressCallback,o,f,m)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hR(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function fR(...r){const t=hR();if(t!==void 0){const i=new t;for(let a=0;a<r.length;a++)i.append(r[a]);return i.getBlob()}else{if(vm())return new Blob(r);throw new he(ce.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function dR(r,t,i){return r.webkitSlice?r.webkitSlice(t,i):r.mozSlice?r.mozSlice(t,i):r.slice?r.slice(t,i):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mR(r){if(typeof atob>"u")throw ZS("base-64");return atob(r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fi={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Rd{constructor(t,i){this.data=t,this.contentType=i||null}}function gR(r,t){switch(r){case fi.RAW:return new Rd(Q0(t));case fi.BASE64:case fi.BASE64URL:return new Rd(Y0(r,t));case fi.DATA_URL:return new Rd(yR(t),_R(t))}throw ym()}function Q0(r){const t=[];for(let i=0;i<r.length;i++){let a=r.charCodeAt(i);if(a<=127)t.push(a);else if(a<=2047)t.push(192|a>>6,128|a&63);else if((a&64512)===55296)if(!(i<r.length-1&&(r.charCodeAt(i+1)&64512)===56320))t.push(239,191,189);else{const u=a,f=r.charCodeAt(++i);a=65536|(u&1023)<<10|f&1023,t.push(240|a>>18,128|a>>12&63,128|a>>6&63,128|a&63)}else(a&64512)===56320?t.push(239,191,189):t.push(224|a>>12,128|a>>6&63,128|a&63)}return new Uint8Array(t)}function pR(r){let t;try{t=decodeURIComponent(r)}catch{throw _o(fi.DATA_URL,"Malformed data URL.")}return Q0(t)}function Y0(r,t){switch(r){case fi.BASE64:{const o=t.indexOf("-")!==-1,u=t.indexOf("_")!==-1;if(o||u)throw _o(r,"Invalid character '"+(o?"-":"_")+"' found: is it base64url encoded?");break}case fi.BASE64URL:{const o=t.indexOf("+")!==-1,u=t.indexOf("/")!==-1;if(o||u)throw _o(r,"Invalid character '"+(o?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let i;try{i=mR(t)}catch(o){throw o.message.includes("polyfill")?o:_o(r,"Invalid character found")}const a=new Uint8Array(i.length);for(let o=0;o<i.length;o++)a[o]=i.charCodeAt(o);return a}class X0{constructor(t){this.base64=!1,this.contentType=null;const i=t.match(/^data:([^,]+)?,/);if(i===null)throw _o(fi.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const a=i[1]||null;a!=null&&(this.base64=vR(a,";base64"),this.contentType=this.base64?a.substring(0,a.length-7):a),this.rest=t.substring(t.indexOf(",")+1)}}function yR(r){const t=new X0(r);return t.base64?Y0(fi.BASE64,t.rest):pR(t.rest)}function _R(r){return new X0(r).contentType}function vR(r,t){return r.length>=t.length?r.substring(r.length-t.length)===t:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nr{constructor(t,i){let a=0,o="";J_(t)?(this.data_=t,a=t.size,o=t.type):t instanceof ArrayBuffer?(i?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),a=this.data_.length):t instanceof Uint8Array&&(i?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),a=t.length),this.size_=a,this.type_=o}size(){return this.size_}type(){return this.type_}slice(t,i){if(J_(this.data_)){const a=this.data_,o=dR(a,t,i);return o===null?null:new Nr(o)}else{const a=new Uint8Array(this.data_.buffer,t,i-t);return new Nr(a,!0)}}static getBlob(...t){if(vm()){const i=t.map(a=>a instanceof Nr?a.data_:a);return new Nr(fR.apply(null,i))}else{const i=t.map(f=>_m(f)?gR(fi.RAW,f).data:f.data_);let a=0;i.forEach(f=>{a+=f.byteLength});const o=new Uint8Array(a);let u=0;return i.forEach(f=>{for(let m=0;m<f.length;m++)o[u++]=f[m]}),new Nr(o,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K0(r){let t;try{t=JSON.parse(r)}catch{return null}return iR(t)?t:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ER(r){if(r.length===0)return null;const t=r.lastIndexOf("/");return t===-1?"":r.slice(0,t)}function TR(r,t){const i=t.split("/").filter(a=>a.length>0).join("/");return r.length===0?i:r+"/"+i}function $0(r){const t=r.lastIndexOf("/",r.length-2);return t===-1?r:r.slice(t+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AR(r,t){return t}class nn{constructor(t,i,a,o){this.server=t,this.local=i||t,this.writable=!!a,this.xform=o||AR}}let uc=null;function bR(r){return!_m(r)||r.length<2?r:$0(r)}function Z0(){if(uc)return uc;const r=[];r.push(new nn("bucket")),r.push(new nn("generation")),r.push(new nn("metageneration")),r.push(new nn("name","fullPath",!0));function t(u,f){return bR(f)}const i=new nn("name");i.xform=t,r.push(i);function a(u,f){return f!==void 0?Number(f):f}const o=new nn("size");return o.xform=a,r.push(o),r.push(new nn("timeCreated")),r.push(new nn("updated")),r.push(new nn("md5Hash",null,!0)),r.push(new nn("cacheControl",null,!0)),r.push(new nn("contentDisposition",null,!0)),r.push(new nn("contentEncoding",null,!0)),r.push(new nn("contentLanguage",null,!0)),r.push(new nn("contentType",null,!0)),r.push(new nn("metadata","customMetadata",!0)),uc=r,uc}function SR(r,t){function i(){const a=r.bucket,o=r.fullPath,u=new vn(a,o);return t._makeStorageReference(u)}Object.defineProperty(r,"ref",{get:i})}function RR(r,t,i){const a={};a.type="file";const o=i.length;for(let u=0;u<o;u++){const f=i[u];a[f.local]=f.xform(a,t[f.server])}return SR(a,r),a}function J0(r,t,i){const a=K0(t);return a===null?null:RR(r,a,i)}function wR(r,t,i,a){const o=K0(t);if(o===null||!_m(o.downloadTokens))return null;const u=o.downloadTokens;if(u.length===0)return null;const f=encodeURIComponent;return u.split(",").map(y=>{const E=r.bucket,b=r.fullPath,S="/b/"+f(E)+"/o/"+f(b),U=Qc(S,i,a),H=G0({alt:"media",token:y});return U+H})[0]}function CR(r,t){const i={},a=t.length;for(let o=0;o<a;o++){const u=t[o];u.writable&&(i[u.server]=r[u.local])}return JSON.stringify(i)}class Em{constructor(t,i,a,o){this.url=t,this.method=i,this.handler=a,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W0(r){if(!r)throw ym()}function DR(r,t){function i(a,o){const u=J0(r,o,t);return W0(u!==null),u}return i}function NR(r,t){function i(a,o){const u=J0(r,o,t);return W0(u!==null),wR(u,o,r.host,r._protocol)}return i}function tE(r){function t(i,a){let o;return i.getStatus()===401?i.getErrorText().includes("Firebase App Check token is invalid")?o=qS():o=zS():i.getStatus()===402?o=BS(r.bucket):i.getStatus()===403?o=HS(r.path):o=a,o.status=i.getStatus(),o.serverResponse=a.serverResponse,o}return t}function eE(r){const t=tE(r);function i(a,o){let u=t(a,o);return a.getStatus()===404&&(u=jS(r.path)),u.serverResponse=o.serverResponse,u}return i}function xR(r,t,i){const a=t.fullServerUrl(),o=Qc(a,r.host,r._protocol),u="GET",f=r.maxOperationRetryTime,m=new Em(o,u,NR(r,i),f);return m.errorHandler=eE(t),m}function IR(r,t){const i=t.fullServerUrl(),a=Qc(i,r.host,r._protocol),o="DELETE",u=r.maxOperationRetryTime;function f(p,y){}const m=new Em(a,o,f,u);return m.successCodes=[200,204],m.errorHandler=eE(t),m}function VR(r,t){return r&&r.contentType||t&&t.type()||"application/octet-stream"}function OR(r,t,i){const a=Object.assign({},i);return a.fullPath=r.path,a.size=t.size(),a.contentType||(a.contentType=VR(null,t)),a}function MR(r,t,i,a,o){const u=t.bucketOnlyServerUrl(),f={"X-Goog-Upload-Protocol":"multipart"};function m(){let it="";for(let mt=0;mt<2;mt++)it=it+Math.random().toString().slice(2);return it}const p=m();f["Content-Type"]="multipart/related; boundary="+p;const y=OR(t,a,o),E=CR(y,i),b="--"+p+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+E+`\r
--`+p+`\r
Content-Type: `+y.contentType+`\r
\r
`,S=`\r
--`+p+"--",U=Nr.getBlob(b,a,S);if(U===null)throw KS();const H={name:y.fullPath},X=Qc(u,r.host,r._protocol),P="POST",nt=r.maxUploadRetryTime,tt=new Em(X,P,DR(r,i),nt);return tt.urlParams=H,tt.headers=f,tt.body=U.uploadData(),tt.errorHandler=tE(t),tt}class UR{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Oa.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Oa.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Oa.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,i,a,o,u){if(this.sent_)throw ho("cannot .send() more than once");if(Mo(t)&&a&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(i,t,!0),u!==void 0)for(const f in u)u.hasOwnProperty(f)&&this.xhr_.setRequestHeader(f,u[f].toString());return o!==void 0?this.xhr_.send(o):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw ho("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw ho("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw ho("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw ho("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",t)}}class LR extends UR{initXhr(){this.xhr_.responseType="text"}}function Tm(){return new LR}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pa{constructor(t,i){this._service=t,i instanceof vn?this._location=i:this._location=vn.makeFromUrl(i,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,i){return new Pa(t,i)}get root(){const t=new vn(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return $0(this._location.path)}get storage(){return this._service}get parent(){const t=ER(this._location.path);if(t===null)return null;const i=new vn(this._location.bucket,t);return new Pa(this._service,i)}_throwIfRoot(t){if(this._location.path==="")throw JS(t)}}function PR(r,t,i){r._throwIfRoot("uploadBytes");const a=MR(r.storage,r._location,Z0(),new Nr(t,!0),i);return r.storage.makeRequestWithTokens(a,Tm).then(o=>({metadata:o,ref:r}))}function kR(r){r._throwIfRoot("getDownloadURL");const t=xR(r.storage,r._location,Z0());return r.storage.makeRequestWithTokens(t,Tm).then(i=>{if(i===null)throw $S();return i})}function jR(r){r._throwIfRoot("deleteObject");const t=IR(r.storage,r._location);return r.storage.makeRequestWithTokens(t,Tm)}function BR(r,t){const i=TR(r._location.path,t),a=new vn(r._location.bucket,i);return new Pa(r.storage,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zR(r){return/^[A-Za-z]+:\/\//.test(r)}function qR(r,t){return new Pa(r,t)}function nE(r,t){if(r instanceof Am){const i=r;if(i._bucket==null)throw XS();const a=new Pa(i,i._bucket);return t!=null?nE(a,t):a}else return t!==void 0?BR(r,t):r}function HR(r,t){if(t&&zR(t)){if(r instanceof Am)return qR(r,t);throw kd("To use ref(service, url), the first argument must be a Storage instance.")}else return nE(r,t)}function tv(r,t){const i=t?.[H0];return i==null?null:vn.makeFromBucketSpec(i,r)}function FR(r,t,i,a={}){r.host=`${t}:${i}`;const o=Mo(t);o&&(N0(`https://${r.host}/b`),I0("Storage",!0)),r._isUsingEmulator=!0,r._protocol=o?"https":"http";const{mockUserToken:u}=a;u&&(r._overrideAuthToken=typeof u=="string"?u:x0(u,r.app.options.projectId))}class Am{constructor(t,i,a,o,u,f=!1){this.app=t,this._authProvider=i,this._appCheckProvider=a,this._url=o,this._firebaseVersion=u,this._isUsingEmulator=f,this._bucket=null,this._host=q0,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=PS,this._maxUploadRetryTime=kS,this._requests=new Set,o!=null?this._bucket=vn.makeFromBucketSpec(o,this._host):this._bucket=tv(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=vn.makeFromBucketSpec(this._url,t):this._bucket=tv(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){W_("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){W_("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const i=await t.getToken();if(i!==null)return i.accessToken}return null}async _getAppCheckToken(){if(P0(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new Pa(this,t)}_makeRequest(t,i,a,o,u=!0){if(this._deleted)return new WS(F0());{const f=cR(t,this._appId,a,o,i,this._firebaseVersion,u,this._isUsingEmulator);return this._requests.add(f),f.getPromise().then(()=>this._requests.delete(f),()=>this._requests.delete(f)),f}}async makeRequestWithTokens(t,i){const[a,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,i,a,o).getPromise()}}const ev="@firebase/storage",nv="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iE="storage";function rE(r,t,i){return r=rn(r),PR(r,t,i)}function aE(r){return r=rn(r),kR(r)}function GR(r){return r=rn(r),jR(r)}function jd(r,t){return r=rn(r),HR(r,t)}function sE(r=j0(),t){r=rn(r);const a=L0(r,iE).getImmediate({identifier:t}),o=C0("storage");return o&&QR(a,...o),a}function QR(r,t,i,a={}){FR(r,t,i,a)}function YR(r,{instanceIdentifier:t}){const i=r.getProvider("app").getImmediate(),a=r.getProvider("auth-internal"),o=r.getProvider("app-check-internal");return new Am(i,a,o,t,k0)}function XR(){So(new qs(iE,YR,"PUBLIC").setMultipleInstances(!0)),Or(ev,nv,""),Or(ev,nv,"esm2020")}XR();var iv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Mr,lE;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(N,R){function w(){}w.prototype=R.prototype,N.F=R.prototype,N.prototype=new w,N.prototype.constructor=N,N.D=function(O,I,k){for(var x=Array(arguments.length-2),_t=2;_t<arguments.length;_t++)x[_t-2]=arguments[_t];return R.prototype[I].apply(O,x)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(N,R,w){w||(w=0);const O=Array(16);if(typeof R=="string")for(var I=0;I<16;++I)O[I]=R.charCodeAt(w++)|R.charCodeAt(w++)<<8|R.charCodeAt(w++)<<16|R.charCodeAt(w++)<<24;else for(I=0;I<16;++I)O[I]=R[w++]|R[w++]<<8|R[w++]<<16|R[w++]<<24;R=N.g[0],w=N.g[1],I=N.g[2];let k=N.g[3],x;x=R+(k^w&(I^k))+O[0]+3614090360&4294967295,R=w+(x<<7&4294967295|x>>>25),x=k+(I^R&(w^I))+O[1]+3905402710&4294967295,k=R+(x<<12&4294967295|x>>>20),x=I+(w^k&(R^w))+O[2]+606105819&4294967295,I=k+(x<<17&4294967295|x>>>15),x=w+(R^I&(k^R))+O[3]+3250441966&4294967295,w=I+(x<<22&4294967295|x>>>10),x=R+(k^w&(I^k))+O[4]+4118548399&4294967295,R=w+(x<<7&4294967295|x>>>25),x=k+(I^R&(w^I))+O[5]+1200080426&4294967295,k=R+(x<<12&4294967295|x>>>20),x=I+(w^k&(R^w))+O[6]+2821735955&4294967295,I=k+(x<<17&4294967295|x>>>15),x=w+(R^I&(k^R))+O[7]+4249261313&4294967295,w=I+(x<<22&4294967295|x>>>10),x=R+(k^w&(I^k))+O[8]+1770035416&4294967295,R=w+(x<<7&4294967295|x>>>25),x=k+(I^R&(w^I))+O[9]+2336552879&4294967295,k=R+(x<<12&4294967295|x>>>20),x=I+(w^k&(R^w))+O[10]+4294925233&4294967295,I=k+(x<<17&4294967295|x>>>15),x=w+(R^I&(k^R))+O[11]+2304563134&4294967295,w=I+(x<<22&4294967295|x>>>10),x=R+(k^w&(I^k))+O[12]+1804603682&4294967295,R=w+(x<<7&4294967295|x>>>25),x=k+(I^R&(w^I))+O[13]+4254626195&4294967295,k=R+(x<<12&4294967295|x>>>20),x=I+(w^k&(R^w))+O[14]+2792965006&4294967295,I=k+(x<<17&4294967295|x>>>15),x=w+(R^I&(k^R))+O[15]+1236535329&4294967295,w=I+(x<<22&4294967295|x>>>10),x=R+(I^k&(w^I))+O[1]+4129170786&4294967295,R=w+(x<<5&4294967295|x>>>27),x=k+(w^I&(R^w))+O[6]+3225465664&4294967295,k=R+(x<<9&4294967295|x>>>23),x=I+(R^w&(k^R))+O[11]+643717713&4294967295,I=k+(x<<14&4294967295|x>>>18),x=w+(k^R&(I^k))+O[0]+3921069994&4294967295,w=I+(x<<20&4294967295|x>>>12),x=R+(I^k&(w^I))+O[5]+3593408605&4294967295,R=w+(x<<5&4294967295|x>>>27),x=k+(w^I&(R^w))+O[10]+38016083&4294967295,k=R+(x<<9&4294967295|x>>>23),x=I+(R^w&(k^R))+O[15]+3634488961&4294967295,I=k+(x<<14&4294967295|x>>>18),x=w+(k^R&(I^k))+O[4]+3889429448&4294967295,w=I+(x<<20&4294967295|x>>>12),x=R+(I^k&(w^I))+O[9]+568446438&4294967295,R=w+(x<<5&4294967295|x>>>27),x=k+(w^I&(R^w))+O[14]+3275163606&4294967295,k=R+(x<<9&4294967295|x>>>23),x=I+(R^w&(k^R))+O[3]+4107603335&4294967295,I=k+(x<<14&4294967295|x>>>18),x=w+(k^R&(I^k))+O[8]+1163531501&4294967295,w=I+(x<<20&4294967295|x>>>12),x=R+(I^k&(w^I))+O[13]+2850285829&4294967295,R=w+(x<<5&4294967295|x>>>27),x=k+(w^I&(R^w))+O[2]+4243563512&4294967295,k=R+(x<<9&4294967295|x>>>23),x=I+(R^w&(k^R))+O[7]+1735328473&4294967295,I=k+(x<<14&4294967295|x>>>18),x=w+(k^R&(I^k))+O[12]+2368359562&4294967295,w=I+(x<<20&4294967295|x>>>12),x=R+(w^I^k)+O[5]+4294588738&4294967295,R=w+(x<<4&4294967295|x>>>28),x=k+(R^w^I)+O[8]+2272392833&4294967295,k=R+(x<<11&4294967295|x>>>21),x=I+(k^R^w)+O[11]+1839030562&4294967295,I=k+(x<<16&4294967295|x>>>16),x=w+(I^k^R)+O[14]+4259657740&4294967295,w=I+(x<<23&4294967295|x>>>9),x=R+(w^I^k)+O[1]+2763975236&4294967295,R=w+(x<<4&4294967295|x>>>28),x=k+(R^w^I)+O[4]+1272893353&4294967295,k=R+(x<<11&4294967295|x>>>21),x=I+(k^R^w)+O[7]+4139469664&4294967295,I=k+(x<<16&4294967295|x>>>16),x=w+(I^k^R)+O[10]+3200236656&4294967295,w=I+(x<<23&4294967295|x>>>9),x=R+(w^I^k)+O[13]+681279174&4294967295,R=w+(x<<4&4294967295|x>>>28),x=k+(R^w^I)+O[0]+3936430074&4294967295,k=R+(x<<11&4294967295|x>>>21),x=I+(k^R^w)+O[3]+3572445317&4294967295,I=k+(x<<16&4294967295|x>>>16),x=w+(I^k^R)+O[6]+76029189&4294967295,w=I+(x<<23&4294967295|x>>>9),x=R+(w^I^k)+O[9]+3654602809&4294967295,R=w+(x<<4&4294967295|x>>>28),x=k+(R^w^I)+O[12]+3873151461&4294967295,k=R+(x<<11&4294967295|x>>>21),x=I+(k^R^w)+O[15]+530742520&4294967295,I=k+(x<<16&4294967295|x>>>16),x=w+(I^k^R)+O[2]+3299628645&4294967295,w=I+(x<<23&4294967295|x>>>9),x=R+(I^(w|~k))+O[0]+4096336452&4294967295,R=w+(x<<6&4294967295|x>>>26),x=k+(w^(R|~I))+O[7]+1126891415&4294967295,k=R+(x<<10&4294967295|x>>>22),x=I+(R^(k|~w))+O[14]+2878612391&4294967295,I=k+(x<<15&4294967295|x>>>17),x=w+(k^(I|~R))+O[5]+4237533241&4294967295,w=I+(x<<21&4294967295|x>>>11),x=R+(I^(w|~k))+O[12]+1700485571&4294967295,R=w+(x<<6&4294967295|x>>>26),x=k+(w^(R|~I))+O[3]+2399980690&4294967295,k=R+(x<<10&4294967295|x>>>22),x=I+(R^(k|~w))+O[10]+4293915773&4294967295,I=k+(x<<15&4294967295|x>>>17),x=w+(k^(I|~R))+O[1]+2240044497&4294967295,w=I+(x<<21&4294967295|x>>>11),x=R+(I^(w|~k))+O[8]+1873313359&4294967295,R=w+(x<<6&4294967295|x>>>26),x=k+(w^(R|~I))+O[15]+4264355552&4294967295,k=R+(x<<10&4294967295|x>>>22),x=I+(R^(k|~w))+O[6]+2734768916&4294967295,I=k+(x<<15&4294967295|x>>>17),x=w+(k^(I|~R))+O[13]+1309151649&4294967295,w=I+(x<<21&4294967295|x>>>11),x=R+(I^(w|~k))+O[4]+4149444226&4294967295,R=w+(x<<6&4294967295|x>>>26),x=k+(w^(R|~I))+O[11]+3174756917&4294967295,k=R+(x<<10&4294967295|x>>>22),x=I+(R^(k|~w))+O[2]+718787259&4294967295,I=k+(x<<15&4294967295|x>>>17),x=w+(k^(I|~R))+O[9]+3951481745&4294967295,N.g[0]=N.g[0]+R&4294967295,N.g[1]=N.g[1]+(I+(x<<21&4294967295|x>>>11))&4294967295,N.g[2]=N.g[2]+I&4294967295,N.g[3]=N.g[3]+k&4294967295}a.prototype.v=function(N,R){R===void 0&&(R=N.length);const w=R-this.blockSize,O=this.C;let I=this.h,k=0;for(;k<R;){if(I==0)for(;k<=w;)o(this,N,k),k+=this.blockSize;if(typeof N=="string"){for(;k<R;)if(O[I++]=N.charCodeAt(k++),I==this.blockSize){o(this,O),I=0;break}}else for(;k<R;)if(O[I++]=N[k++],I==this.blockSize){o(this,O),I=0;break}}this.h=I,this.o+=R},a.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var R=1;R<N.length-8;++R)N[R]=0;R=this.o*8;for(var w=N.length-8;w<N.length;++w)N[w]=R&255,R/=256;for(this.v(N),N=Array(16),R=0,w=0;w<4;++w)for(let O=0;O<32;O+=8)N[R++]=this.g[w]>>>O&255;return N};function u(N,R){var w=m;return Object.prototype.hasOwnProperty.call(w,N)?w[N]:w[N]=R(N)}function f(N,R){this.h=R;const w=[];let O=!0;for(let I=N.length-1;I>=0;I--){const k=N[I]|0;O&&k==R||(w[I]=k,O=!1)}this.g=w}var m={};function p(N){return-128<=N&&N<128?u(N,function(R){return new f([R|0],R<0?-1:0)}):new f([N|0],N<0?-1:0)}function y(N){if(isNaN(N)||!isFinite(N))return b;if(N<0)return P(y(-N));const R=[];let w=1;for(let O=0;N>=w;O++)R[O]=N/w|0,w*=4294967296;return new f(R,0)}function E(N,R){if(N.length==0)throw Error("number format error: empty string");if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(N.charAt(0)=="-")return P(E(N.substring(1),R));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const w=y(Math.pow(R,8));let O=b;for(let k=0;k<N.length;k+=8){var I=Math.min(8,N.length-k);const x=parseInt(N.substring(k,k+I),R);I<8?(I=y(Math.pow(R,I)),O=O.j(I).add(y(x))):(O=O.j(w),O=O.add(y(x)))}return O}var b=p(0),S=p(1),U=p(16777216);r=f.prototype,r.m=function(){if(X(this))return-P(this).m();let N=0,R=1;for(let w=0;w<this.g.length;w++){const O=this.i(w);N+=(O>=0?O:4294967296+O)*R,R*=4294967296}return N},r.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(H(this))return"0";if(X(this))return"-"+P(this).toString(N);const R=y(Math.pow(N,6));var w=this;let O="";for(;;){const I=mt(w,R).g;w=nt(w,I.j(R));let k=((w.g.length>0?w.g[0]:w.h)>>>0).toString(N);if(w=I,H(w))return k+O;for(;k.length<6;)k="0"+k;O=k+O}},r.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function H(N){if(N.h!=0)return!1;for(let R=0;R<N.g.length;R++)if(N.g[R]!=0)return!1;return!0}function X(N){return N.h==-1}r.l=function(N){return N=nt(this,N),X(N)?-1:H(N)?0:1};function P(N){const R=N.g.length,w=[];for(let O=0;O<R;O++)w[O]=~N.g[O];return new f(w,~N.h).add(S)}r.abs=function(){return X(this)?P(this):this},r.add=function(N){const R=Math.max(this.g.length,N.g.length),w=[];let O=0;for(let I=0;I<=R;I++){let k=O+(this.i(I)&65535)+(N.i(I)&65535),x=(k>>>16)+(this.i(I)>>>16)+(N.i(I)>>>16);O=x>>>16,k&=65535,x&=65535,w[I]=x<<16|k}return new f(w,w[w.length-1]&-2147483648?-1:0)};function nt(N,R){return N.add(P(R))}r.j=function(N){if(H(this)||H(N))return b;if(X(this))return X(N)?P(this).j(P(N)):P(P(this).j(N));if(X(N))return P(this.j(P(N)));if(this.l(U)<0&&N.l(U)<0)return y(this.m()*N.m());const R=this.g.length+N.g.length,w=[];for(var O=0;O<2*R;O++)w[O]=0;for(O=0;O<this.g.length;O++)for(let I=0;I<N.g.length;I++){const k=this.i(O)>>>16,x=this.i(O)&65535,_t=N.i(I)>>>16,gt=N.i(I)&65535;w[2*O+2*I]+=x*gt,tt(w,2*O+2*I),w[2*O+2*I+1]+=k*gt,tt(w,2*O+2*I+1),w[2*O+2*I+1]+=x*_t,tt(w,2*O+2*I+1),w[2*O+2*I+2]+=k*_t,tt(w,2*O+2*I+2)}for(N=0;N<R;N++)w[N]=w[2*N+1]<<16|w[2*N];for(N=R;N<2*R;N++)w[N]=0;return new f(w,0)};function tt(N,R){for(;(N[R]&65535)!=N[R];)N[R+1]+=N[R]>>>16,N[R]&=65535,R++}function it(N,R){this.g=N,this.h=R}function mt(N,R){if(H(R))throw Error("division by zero");if(H(N))return new it(b,b);if(X(N))return R=mt(P(N),R),new it(P(R.g),P(R.h));if(X(R))return R=mt(N,P(R)),new it(P(R.g),R.h);if(N.g.length>30){if(X(N)||X(R))throw Error("slowDivide_ only works with positive integers.");for(var w=S,O=R;O.l(N)<=0;)w=ht(w),O=ht(O);var I=ut(w,1),k=ut(O,1);for(O=ut(O,2),w=ut(w,2);!H(O);){var x=k.add(O);x.l(N)<=0&&(I=I.add(w),k=x),O=ut(O,1),w=ut(w,1)}return R=nt(N,I.j(R)),new it(I,R)}for(I=b;N.l(R)>=0;){for(w=Math.max(1,Math.floor(N.m()/R.m())),O=Math.ceil(Math.log(w)/Math.LN2),O=O<=48?1:Math.pow(2,O-48),k=y(w),x=k.j(R);X(x)||x.l(N)>0;)w-=O,k=y(w),x=k.j(R);H(k)&&(k=S),I=I.add(k),N=nt(N,x)}return new it(I,N)}r.B=function(N){return mt(this,N).h},r.and=function(N){const R=Math.max(this.g.length,N.g.length),w=[];for(let O=0;O<R;O++)w[O]=this.i(O)&N.i(O);return new f(w,this.h&N.h)},r.or=function(N){const R=Math.max(this.g.length,N.g.length),w=[];for(let O=0;O<R;O++)w[O]=this.i(O)|N.i(O);return new f(w,this.h|N.h)},r.xor=function(N){const R=Math.max(this.g.length,N.g.length),w=[];for(let O=0;O<R;O++)w[O]=this.i(O)^N.i(O);return new f(w,this.h^N.h)};function ht(N){const R=N.g.length+1,w=[];for(let O=0;O<R;O++)w[O]=N.i(O)<<1|N.i(O-1)>>>31;return new f(w,N.h)}function ut(N,R){const w=R>>5;R%=32;const O=N.g.length-w,I=[];for(let k=0;k<O;k++)I[k]=R>0?N.i(k+w)>>>R|N.i(k+w+1)<<32-R:N.i(k+w);return new f(I,N.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,lE=a,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.B,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=y,f.fromString=E,Mr=f}).apply(typeof iv<"u"?iv:typeof self<"u"?self:typeof window<"u"?window:{});var cc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var oE,fo,uE,_c,Bd,cE,hE,fE;(function(){var r,t=Object.defineProperty;function i(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof cc=="object"&&cc];for(var g=0;g<c.length;++g){var _=c[g];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var a=i(this);function o(c,g){if(g)t:{var _=a;c=c.split(".");for(var A=0;A<c.length-1;A++){var B=c[A];if(!(B in _))break t;_=_[B]}c=c[c.length-1],A=_[c],g=g(A),g!=A&&g!=null&&t(_,c,{configurable:!0,writable:!0,value:g})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(g){var _=[],A;for(A in g)Object.prototype.hasOwnProperty.call(g,A)&&_.push([A,g[A]]);return _}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},f=this||self;function m(c){var g=typeof c;return g=="object"&&c!=null||g=="function"}function p(c,g,_){return c.call.apply(c.bind,arguments)}function y(c,g,_){return y=p,y.apply(null,arguments)}function E(c,g){var _=Array.prototype.slice.call(arguments,1);return function(){var A=_.slice();return A.push.apply(A,arguments),c.apply(this,A)}}function b(c,g){function _(){}_.prototype=g.prototype,c.Z=g.prototype,c.prototype=new _,c.prototype.constructor=c,c.Ob=function(A,B,G){for(var at=Array(arguments.length-2),wt=2;wt<arguments.length;wt++)at[wt-2]=arguments[wt];return g.prototype[B].apply(A,at)}}var S=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function U(c){const g=c.length;if(g>0){const _=Array(g);for(let A=0;A<g;A++)_[A]=c[A];return _}return[]}function H(c,g){for(let A=1;A<arguments.length;A++){const B=arguments[A];var _=typeof B;if(_=_!="object"?_:B?Array.isArray(B)?"array":_:"null",_=="array"||_=="object"&&typeof B.length=="number"){_=c.length||0;const G=B.length||0;c.length=_+G;for(let at=0;at<G;at++)c[_+at]=B[at]}else c.push(B)}}class X{constructor(g,_){this.i=g,this.j=_,this.h=0,this.g=null}get(){let g;return this.h>0?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function P(c){f.setTimeout(()=>{throw c},0)}function nt(){var c=N;let g=null;return c.g&&(g=c.g,c.g=c.g.next,c.g||(c.h=null),g.next=null),g}class tt{constructor(){this.h=this.g=null}add(g,_){const A=it.get();A.set(g,_),this.h?this.h.next=A:this.g=A,this.h=A}}var it=new X(()=>new mt,c=>c.reset());class mt{constructor(){this.next=this.g=this.h=null}set(g,_){this.h=g,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let ht,ut=!1,N=new tt,R=()=>{const c=Promise.resolve(void 0);ht=()=>{c.then(w)}};function w(){for(var c;c=nt();){try{c.h.call(c.g)}catch(_){P(_)}var g=it;g.j(c),g.h<100&&(g.h++,c.next=g.g,g.g=c)}ut=!1}function O(){this.u=this.u,this.C=this.C}O.prototype.u=!1,O.prototype.dispose=function(){this.u||(this.u=!0,this.N())},O.prototype[Symbol.dispose]=function(){this.dispose()},O.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function I(c,g){this.type=c,this.g=this.target=g,this.defaultPrevented=!1}I.prototype.h=function(){this.defaultPrevented=!0};var k=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var c=!1,g=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};f.addEventListener("test",_,g),f.removeEventListener("test",_,g)}catch{}return c})();function x(c){return/^[\s\xa0]*$/.test(c)}function _t(c,g){I.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,g)}b(_t,I),_t.prototype.init=function(c,g){const _=this.type=c.type,A=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=g,g=c.relatedTarget,g||(_=="mouseover"?g=c.fromElement:_=="mouseout"&&(g=c.toElement)),this.relatedTarget=g,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&_t.Z.h.call(this)},_t.prototype.h=function(){_t.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var gt="closure_listenable_"+(Math.random()*1e6|0),Q=0;function rt(c,g,_,A,B){this.listener=c,this.proxy=null,this.src=g,this.type=_,this.capture=!!A,this.ha=B,this.key=++Q,this.da=this.fa=!1}function ct(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function jt(c,g,_){for(const A in c)g.call(_,c[A],A,c)}function V(c,g){for(const _ in c)g.call(void 0,c[_],_,c)}function et(c){const g={};for(const _ in c)g[_]=c[_];return g}const lt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function st(c,g){let _,A;for(let B=1;B<arguments.length;B++){A=arguments[B];for(_ in A)c[_]=A[_];for(let G=0;G<lt.length;G++)_=lt[G],Object.prototype.hasOwnProperty.call(A,_)&&(c[_]=A[_])}}function yt(c){this.src=c,this.g={},this.h=0}yt.prototype.add=function(c,g,_,A,B){const G=c.toString();c=this.g[G],c||(c=this.g[G]=[],this.h++);const at=bt(c,g,A,B);return at>-1?(g=c[at],_||(g.fa=!1)):(g=new rt(g,this.src,G,!!A,B),g.fa=_,c.push(g)),g};function Ot(c,g){const _=g.type;if(_ in c.g){var A=c.g[_],B=Array.prototype.indexOf.call(A,g,void 0),G;(G=B>=0)&&Array.prototype.splice.call(A,B,1),G&&(ct(g),c.g[_].length==0&&(delete c.g[_],c.h--))}}function bt(c,g,_,A){for(let B=0;B<c.length;++B){const G=c[B];if(!G.da&&G.listener==g&&G.capture==!!_&&G.ha==A)return B}return-1}var Le="closure_lm_"+(Math.random()*1e6|0),Qt={};function Ln(c,g,_,A,B){if(Array.isArray(g)){for(let G=0;G<g.length;G++)Ln(c,g[G],_,A,B);return null}return _=qo(_),c&&c[gt]?c.J(g,_,m(A)?!!A.capture:!1,B):nl(c,g,_,!1,A,B)}function nl(c,g,_,A,B,G){if(!g)throw Error("Invalid event type");const at=m(B)?!!B.capture:!!B;let wt=il(c);if(wt||(c[Le]=wt=new yt(c)),_=wt.add(g,_,A,at,G),_.proxy)return _;if(A=Fa(),_.proxy=A,A.src=c,A.listener=_,c.addEventListener)k||(B=at),B===void 0&&(B=!1),c.addEventListener(g.toString(),A,B);else if(c.attachEvent)c.attachEvent(Qa(g.toString()),A);else if(c.addListener&&c.removeListener)c.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Fa(){function c(_){return g.call(c.src,c.listener,_)}const g=hh;return c}function Ga(c,g,_,A,B){if(Array.isArray(g))for(var G=0;G<g.length;G++)Ga(c,g[G],_,A,B);else A=m(A)?!!A.capture:!!A,_=qo(_),c&&c[gt]?(c=c.i,G=String(g).toString(),G in c.g&&(g=c.g[G],_=bt(g,_,A,B),_>-1&&(ct(g[_]),Array.prototype.splice.call(g,_,1),g.length==0&&(delete c.g[G],c.h--)))):c&&(c=il(c))&&(g=c.g[g.toString()],c=-1,g&&(c=bt(g,_,A,B)),(_=c>-1?g[c]:null)&&Qr(_))}function Qr(c){if(typeof c!="number"&&c&&!c.da){var g=c.src;if(g&&g[gt])Ot(g.i,c);else{var _=c.type,A=c.proxy;g.removeEventListener?g.removeEventListener(_,A,c.capture):g.detachEvent?g.detachEvent(Qa(_),A):g.addListener&&g.removeListener&&g.removeListener(A),(_=il(g))?(Ot(_,c),_.h==0&&(_.src=null,g[Le]=null)):ct(c)}}}function Qa(c){return c in Qt?Qt[c]:Qt[c]="on"+c}function hh(c,g){if(c.da)c=!0;else{g=new _t(g,this);const _=c.listener,A=c.ha||c.src;c.fa&&Qr(c),c=_.call(A,g)}return c}function il(c){return c=c[Le],c instanceof yt?c:null}var an="__closure_events_fn_"+(Math.random()*1e9>>>0);function qo(c){return typeof c=="function"?c:(c[an]||(c[an]=function(g){return c.handleEvent(g)}),c[an])}function Re(){O.call(this),this.i=new yt(this),this.M=this,this.G=null}b(Re,O),Re.prototype[gt]=!0,Re.prototype.removeEventListener=function(c,g,_,A){Ga(this,c,g,_,A)};function xe(c,g){var _,A=c.G;if(A)for(_=[];A;A=A.G)_.push(A);if(c=c.M,A=g.type||g,typeof g=="string")g=new I(g,c);else if(g instanceof I)g.target=g.target||c;else{var B=g;g=new I(A,c),st(g,B)}B=!0;let G,at;if(_)for(at=_.length-1;at>=0;at--)G=g.g=_[at],B=vi(G,A,!0,g)&&B;if(G=g.g=c,B=vi(G,A,!0,g)&&B,B=vi(G,A,!1,g)&&B,_)for(at=0;at<_.length;at++)G=g.g=_[at],B=vi(G,A,!1,g)&&B}Re.prototype.N=function(){if(Re.Z.N.call(this),this.i){var c=this.i;for(const g in c.g){const _=c.g[g];for(let A=0;A<_.length;A++)ct(_[A]);delete c.g[g],c.h--}}this.G=null},Re.prototype.J=function(c,g,_,A){return this.i.add(String(c),g,!1,_,A)},Re.prototype.K=function(c,g,_,A){return this.i.add(String(c),g,!0,_,A)};function vi(c,g,_,A){if(g=c.i.g[String(g)],!g)return!0;g=g.concat();let B=!0;for(let G=0;G<g.length;++G){const at=g[G];if(at&&!at.da&&at.capture==_){const wt=at.listener,ee=at.ha||at.src;at.fa&&Ot(c.i,at),B=wt.call(ee,A)!==!1&&B}}return B&&!A.defaultPrevented}function fh(c,g){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=y(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(g)>2147483647?-1:f.setTimeout(c,g||0)}function rl(c){c.g=fh(()=>{c.g=null,c.i&&(c.i=!1,rl(c))},c.l);const g=c.h;c.h=null,c.m.apply(null,g)}class dh extends O{constructor(g,_){super(),this.m=g,this.l=_,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:rl(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Yr(c){O.call(this),this.h=c,this.g={}}b(Yr,O);var Qi=[];function Fe(c){jt(c.g,function(g,_){this.g.hasOwnProperty(_)&&Qr(g)},c),c.g={}}Yr.prototype.N=function(){Yr.Z.N.call(this),Fe(this)},Yr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Tn=f.JSON.stringify,Ze=f.JSON.parse,mh=class{stringify(c){return f.JSON.stringify(c,void 0)}parse(c){return f.JSON.parse(c,void 0)}};function Ho(){}function Fo(){}var Zn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Yi(){I.call(this,"d")}b(Yi,I);function Pn(){I.call(this,"c")}b(Pn,I);var An={},Xi=null;function Ya(){return Xi=Xi||new Re}An.Ia="serverreachability";function al(c){I.call(this,An.Ia,c)}b(al,I);function Ki(c){const g=Ya();xe(g,new al(g))}An.STAT_EVENT="statevent";function Xa(c,g){I.call(this,An.STAT_EVENT,c),this.stat=g}b(Xa,I);function fe(c){const g=Ya();xe(g,new Xa(g,c))}An.Ja="timingevent";function Go(c,g){I.call(this,An.Ja,c),this.size=g}b(Go,I);function $i(c,g){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){c()},g)}function Zi(){this.g=!0}Zi.prototype.ua=function(){this.g=!1};function sl(c,g,_,A,B,G){c.info(function(){if(c.g)if(G){var at="",wt=G.split("&");for(let Ht=0;Ht<wt.length;Ht++){var ee=wt[Ht].split("=");if(ee.length>1){const ge=ee[0];ee=ee[1];const hn=ge.split("_");at=hn.length>=2&&hn[1]=="type"?at+(ge+"="+ee+"&"):at+(ge+"=redacted&")}}}else at=null;else at=G;return"XMLHTTP REQ ("+A+") [attempt "+B+"]: "+g+`
`+_+`
`+at})}function ll(c,g,_,A,B,G,at){c.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+B+"]: "+g+`
`+_+`
`+G+" "+at})}function Ei(c,g,_,A){c.info(function(){return"XMLHTTP TEXT ("+g+"): "+Jn(c,_)+(A?" "+A:"")})}function gh(c,g){c.info(function(){return"TIMEOUT: "+g})}Zi.prototype.info=function(){};function Jn(c,g){if(!c.g)return g;if(!g)return null;try{const G=JSON.parse(g);if(G){for(c=0;c<G.length;c++)if(Array.isArray(G[c])){var _=G[c];if(!(_.length<2)){var A=_[1];if(Array.isArray(A)&&!(A.length<1)){var B=A[0];if(B!="noop"&&B!="stop"&&B!="close")for(let at=1;at<A.length;at++)A[at]=""}}}}return Tn(G)}catch{return g}}var de={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Pe={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Ti;function Xr(){}b(Xr,Ho),Xr.prototype.g=function(){return new XMLHttpRequest},Ti=new Xr;function Kr(c){return encodeURIComponent(String(c))}function ph(c){var g=1;c=c.split(":");const _=[];for(;g>0&&c.length;)_.push(c.shift()),g--;return c.length&&_.push(c.join(":")),_}function kn(c,g,_,A){this.j=c,this.i=g,this.l=_,this.S=A||1,this.V=new Yr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Ji}function Ji(){this.i=null,this.g="",this.h=!1}var Ka={},Wn={};function ti(c,g,_){c.M=1,c.A=bi(ae(g)),c.u=_,c.R=!0,Wi(c,null)}function Wi(c,g){c.F=Date.now(),$r(c),c.B=ae(c.A);var _=c.B,A=c.S;Array.isArray(A)||(A=[String(A)]),Ko(_.i,"t",A),c.C=0,_=c.j.L,c.h=new Ji,c.g=as(c.j,_?g:null,!c.u),c.P>0&&(c.O=new dh(y(c.Y,c,c.g),c.P)),g=c.V,_=c.g,A=c.ba;var B="readystatechange";Array.isArray(B)||(B&&(Qi[0]=B.toString()),B=Qi);for(let G=0;G<B.length;G++){const at=Ln(_,B[G],A||g.handleEvent,!1,g.h||g);if(!at)break;g.g[at.key]=at}g=c.J?et(c.J):{},c.u?(c.v||(c.v="POST"),g["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,g)):(c.v="GET",c.g.ea(c.B,c.v,null,g)),Ki(),sl(c.i,c.v,c.B,c.l,c.S,c.u)}kn.prototype.ba=function(c){c=c.target;const g=this.O;g&&Ge(c)==3?g.j():this.Y(c)},kn.prototype.Y=function(c){try{if(c==this.g)t:{const wt=Ge(this.g),ee=this.g.ya(),Ht=this.g.ca();if(!(wt<3)&&(wt!=3||this.g&&(this.h.h||this.g.la()||la(this.g)))){this.K||wt!=4||ee==7||(ee==8||Ht<=0?Ki(3):Ki(2)),ni(this);var g=this.g.ca();this.X=g;var _=tr(this);if(this.o=g==200,ll(this.i,this.v,this.B,this.l,this.S,wt,g),this.o){if(this.U&&!this.L){e:{if(this.g){var A,B=this.g;if((A=B.g?B.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!x(A)){var G=A;break e}}G=null}if(c=G)Ei(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,$a(this,c);else{this.o=!1,this.m=3,fe(12),ii(this),Zr(this);break t}}if(this.R){c=!0;let ge;for(;!this.K&&this.C<_.length;)if(ge=Qo(this,_),ge==Wn){wt==4&&(this.m=4,fe(14),c=!1),Ei(this.i,this.l,null,"[Incomplete Response]");break}else if(ge==Ka){this.m=4,fe(15),Ei(this.i,this.l,_,"[Invalid Chunk]"),c=!1;break}else Ei(this.i,this.l,ge,null),$a(this,ge);if(me(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),wt!=4||_.length!=0||this.h.h||(this.m=1,fe(16),c=!1),this.o=this.o&&c,!c)Ei(this.i,this.l,_,"[Invalid Chunked Response]"),ii(this),Zr(this);else if(_.length>0&&!this.W){this.W=!0;var at=this.j;at.g==this&&at.aa&&!at.P&&(at.j.info("Great, no buffering proxy detected. Bytes received: "+_.length),yl(at),at.P=!0,fe(11))}}else Ei(this.i,this.l,_,null),$a(this,_);wt==4&&ii(this),this.o&&!this.K&&(wt==4?_l(this.j,this):(this.o=!1,$r(this)))}else oa(this.g),g==400&&_.indexOf("Unknown SID")>0?(this.m=3,fe(12)):(this.m=0,fe(13)),ii(this),Zr(this)}}}catch{}finally{}};function tr(c){if(!me(c))return c.g.la();const g=la(c.g);if(g==="")return"";let _="";const A=g.length,B=Ge(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return ii(c),Zr(c),"";c.h.i=new f.TextDecoder}for(let G=0;G<A;G++)c.h.h=!0,_+=c.h.i.decode(g[G],{stream:!(B&&G==A-1)});return g.length=0,c.h.g+=_,c.C=0,c.h.g}function me(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function Qo(c,g){var _=c.C,A=g.indexOf(`
`,_);return A==-1?Wn:(_=Number(g.substring(_,A)),isNaN(_)?Ka:(A+=1,A+_>g.length?Wn:(g=g.slice(A,A+_),c.C=A+_,g)))}kn.prototype.cancel=function(){this.K=!0,ii(this)};function $r(c){c.T=Date.now()+c.H,ei(c,c.H)}function ei(c,g){if(c.D!=null)throw Error("WatchDog timer not null");c.D=$i(y(c.aa,c),g)}function ni(c){c.D&&(f.clearTimeout(c.D),c.D=null)}kn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(gh(this.i,this.B),this.M!=2&&(Ki(),fe(17)),ii(this),this.m=2,Zr(this)):ei(this,this.T-c)};function Zr(c){c.j.I==0||c.K||_l(c.j,c)}function ii(c){ni(c);var g=c.O;g&&typeof g.dispose=="function"&&g.dispose(),c.O=null,Fe(c.V),c.g&&(g=c.g,c.g=null,g.abort(),g.dispose())}function $a(c,g){try{var _=c.j;if(_.I!=0&&(_.g==c||ta(_.h,c))){if(!c.L&&ta(_.h,c)&&_.I==3){try{var A=_.Ba.g.parse(g)}catch{A=null}if(Array.isArray(A)&&A.length==3){var B=A;if(B[0]==0){t:if(!_.v){if(_.g)if(_.g.F+3e3<c.F)rs(_),ri(_);else break t;pl(_),fe(18)}}else _.xa=B[1],0<_.xa-_.K&&B[2]<37500&&_.F&&_.A==0&&!_.C&&(_.C=$i(y(_.Va,_),6e3));bn(_.h)<=1&&_.ta&&(_.ta=void 0)}else wi(_,11)}else if((c.L||_.g==c)&&rs(_),!x(g))for(B=_.Ba.g.parse(g),g=0;g<B.length;g++){let Ht=B[g];const ge=Ht[0];if(!(ge<=_.K))if(_.K=ge,Ht=Ht[1],_.I==2)if(Ht[0]=="c"){_.M=Ht[1],_.ba=Ht[2];const hn=Ht[3];hn!=null&&(_.ka=hn,_.j.info("VER="+_.ka));const ai=Ht[4];ai!=null&&(_.za=ai,_.j.info("SVER="+_.za));const zn=Ht[5];zn!=null&&typeof zn=="number"&&zn>0&&(A=1.5*zn,_.O=A,_.j.info("backChannelRequestTimeoutMs_="+A)),A=_;const qn=c.g;if(qn){const Hn=qn.g?qn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Hn){var G=A.h;G.g||Hn.indexOf("spdy")==-1&&Hn.indexOf("quic")==-1&&Hn.indexOf("h2")==-1||(G.j=G.l,G.g=new Set,G.h&&(Za(G,G.h),G.h=null))}if(A.G){const El=qn.g?qn.g.getResponseHeader("X-HTTP-Session-Id"):null;El&&(A.wa=El,Yt(A.J,A.G,El))}}_.I=3,_.l&&_.l.ra(),_.aa&&(_.T=Date.now()-c.F,_.j.info("Handshake RTT: "+_.T+"ms")),A=_;var at=c;if(A.na=ru(A,A.L?A.ba:null,A.W),at.L){Ai(A.h,at);var wt=at,ee=A.O;ee&&(wt.H=ee),wt.D&&(ni(wt),$r(wt)),A.g=at}else tu(A);_.i.length>0&&fa(_)}else Ht[0]!="stop"&&Ht[0]!="close"||wi(_,7);else _.I==3&&(Ht[0]=="stop"||Ht[0]=="close"?Ht[0]=="stop"?wi(_,7):ca(_):Ht[0]!="noop"&&_.l&&_.l.qa(Ht),_.A=0)}}Ki(4)}catch{}}var yh=class{constructor(c,g){this.g=c,this.map=g}};function Jr(c){this.l=c||10,f.PerformanceNavigationTiming?(c=f.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Wr(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function bn(c){return c.h?1:c.g?c.g.size:0}function ta(c,g){return c.h?c.h==g:c.g?c.g.has(g):!1}function Za(c,g){c.g?c.g.add(g):c.h=g}function Ai(c,g){c.h&&c.h==g?c.h=null:c.g&&c.g.has(g)&&c.g.delete(g)}Jr.prototype.cancel=function(){if(this.i=Ja(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Ja(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let g=c.i;for(const _ of c.g.values())g=g.concat(_.G);return g}return U(c.i)}var Wa=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function _h(c,g){if(c){c=c.split("&");for(let _=0;_<c.length;_++){const A=c[_].indexOf("=");let B,G=null;A>=0?(B=c[_].substring(0,A),G=c[_].substring(A+1)):B=c[_],g(B,G?decodeURIComponent(G.replace(/\+/g," ")):"")}}}function jn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let g;c instanceof jn?(this.l=c.l,er(this,c.j),this.o=c.o,this.g=c.g,ea(this,c.u),this.h=c.h,nr(this,$o(c.i)),this.m=c.m):c&&(g=String(c).match(Wa))?(this.l=!1,er(this,g[1]||"",!0),this.o=na(g[2]||""),this.g=na(g[3]||"",!0),ea(this,g[4]),this.h=na(g[5]||"",!0),nr(this,g[6]||"",!0),this.m=na(g[7]||"")):(this.l=!1,this.i=new Sn(null,this.l))}jn.prototype.toString=function(){const c=[];var g=this.j;g&&c.push(Ie(g,ul,!0),":");var _=this.g;return(_||g=="file")&&(c.push("//"),(g=this.o)&&c.push(Ie(g,ul,!0),"@"),c.push(Kr(_).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.u,_!=null&&c.push(":",String(_))),(_=this.h)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(Ie(_,_.charAt(0)=="/"?ir:cl,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",Ie(_,Xo)),c.join("")},jn.prototype.resolve=function(c){const g=ae(this);let _=!!c.j;_?er(g,c.j):_=!!c.o,_?g.o=c.o:_=!!c.g,_?g.g=c.g:_=c.u!=null;var A=c.h;if(_)ea(g,c.u);else if(_=!!c.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var B=g.h.lastIndexOf("/");B!=-1&&(A=g.h.slice(0,B+1)+A)}if(B=A,B==".."||B==".")A="";else if(B.indexOf("./")!=-1||B.indexOf("/.")!=-1){A=B.lastIndexOf("/",0)==0,B=B.split("/");const G=[];for(let at=0;at<B.length;){const wt=B[at++];wt=="."?A&&at==B.length&&G.push(""):wt==".."?((G.length>1||G.length==1&&G[0]!="")&&G.pop(),A&&at==B.length&&G.push("")):(G.push(wt),A=!0)}A=G.join("/")}else A=B}return _?g.h=A:_=c.i.toString()!=="",_?nr(g,$o(c.i)):_=!!c.m,_&&(g.m=c.m),g};function ae(c){return new jn(c)}function er(c,g,_){c.j=_?na(g,!0):g,c.j&&(c.j=c.j.replace(/:$/,""))}function ea(c,g){if(g){if(g=Number(g),isNaN(g)||g<0)throw Error("Bad port number "+g);c.u=g}else c.u=null}function nr(c,g,_){g instanceof Sn?(c.i=g,dl(c.i,c.l)):(_||(g=Ie(g,Yo)),c.i=new Sn(g,c.l))}function Yt(c,g,_){c.i.set(g,_)}function bi(c){return Yt(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function na(c,g){return c?g?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Ie(c,g,_){return typeof c=="string"?(c=encodeURI(c).replace(g,ol),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function ol(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var ul=/[#\/\?@]/g,cl=/[#\?:]/g,ir=/[#\?]/g,Yo=/[#\?@]/g,Xo=/#/g;function Sn(c,g){this.h=this.g=null,this.i=c||null,this.j=!!g}function Si(c){c.g||(c.g=new Map,c.h=0,c.i&&_h(c.i,function(g,_){c.add(decodeURIComponent(g.replace(/\+/g," ")),_)}))}r=Sn.prototype,r.add=function(c,g){Si(this),this.i=null,c=Bn(this,c);let _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(g),this.h+=1,this};function hl(c,g){Si(c),g=Bn(c,g),c.g.has(g)&&(c.i=null,c.h-=c.g.get(g).length,c.g.delete(g))}function fl(c,g){return Si(c),g=Bn(c,g),c.g.has(g)}r.forEach=function(c,g){Si(this),this.g.forEach(function(_,A){_.forEach(function(B){c.call(g,B,A,this)},this)},this)};function ts(c,g){Si(c);let _=[];if(typeof g=="string")fl(c,g)&&(_=_.concat(c.g.get(Bn(c,g))));else for(c=Array.from(c.g.values()),g=0;g<c.length;g++)_=_.concat(c[g]);return _}r.set=function(c,g){return Si(this),this.i=null,c=Bn(this,c),fl(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[g]),this.h+=1,this},r.get=function(c,g){return c?(c=ts(this,c),c.length>0?String(c[0]):g):g};function Ko(c,g,_){hl(c,g),_.length>0&&(c.i=null,c.g.set(Bn(c,g),U(_)),c.h+=_.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],g=Array.from(this.g.keys());for(let A=0;A<g.length;A++){var _=g[A];const B=Kr(_);_=ts(this,_);for(let G=0;G<_.length;G++){let at=B;_[G]!==""&&(at+="="+Kr(_[G])),c.push(at)}}return this.i=c.join("&")};function $o(c){const g=new Sn;return g.i=c.i,c.g&&(g.g=new Map(c.g),g.h=c.h),g}function Bn(c,g){return g=String(g),c.j&&(g=g.toLowerCase()),g}function dl(c,g){g&&!c.j&&(Si(c),c.i=null,c.g.forEach(function(_,A){const B=A.toLowerCase();A!=B&&(hl(this,A),Ko(this,B,_))},c)),c.j=g}function ml(c,g){const _=new Zi;if(f.Image){const A=new Image;A.onload=E(Je,_,"TestLoadImage: loaded",!0,g,A),A.onerror=E(Je,_,"TestLoadImage: error",!1,g,A),A.onabort=E(Je,_,"TestLoadImage: abort",!1,g,A),A.ontimeout=E(Je,_,"TestLoadImage: timeout",!1,g,A),f.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=c}else g(!1)}function rr(c,g){const _=new Zi,A=new AbortController,B=setTimeout(()=>{A.abort(),Je(_,"TestPingServer: timeout",!1,g)},1e4);fetch(c,{signal:A.signal}).then(G=>{clearTimeout(B),G.ok?Je(_,"TestPingServer: ok",!0,g):Je(_,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(B),Je(_,"TestPingServer: error",!1,g)})}function Je(c,g,_,A,B){try{B&&(B.onload=null,B.onerror=null,B.onabort=null,B.ontimeout=null),A(_)}catch{}}function Zo(){this.g=new mh}function ia(c){this.i=c.Sb||null,this.h=c.ab||!1}b(ia,Ho),ia.prototype.g=function(){return new ra(this.i,this.h)};function ra(c,g){Re.call(this),this.H=c,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}b(ra,Re),r=ra.prototype,r.open=function(c,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=g,this.readyState=1,Ri(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const g={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(g.body=c),(this.H||f).fetch(new Request(this.D,g)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,We(this)),this.readyState=0},r.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Ri(this)),this.g&&(this.readyState=3,Ri(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ar(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function ar(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}r.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var g=c.value?c.value:new Uint8Array(0);(g=this.B.decode(g,{stream:!c.done}))&&(this.response=this.responseText+=g)}c.done?We(this):Ri(this),this.readyState==3&&ar(this)}},r.Oa=function(c){this.g&&(this.response=this.responseText=c,We(this))},r.Na=function(c){this.g&&(this.response=c,We(this))},r.ga=function(){this.g&&We(this)};function We(c){c.readyState=4,c.l=null,c.j=null,c.B=null,Ri(c)}r.setRequestHeader=function(c,g){this.A.append(c,g)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],g=this.h.entries();for(var _=g.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=g.next();return c.join(`\r
`)};function Ri(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(ra.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function sr(c){let g="";return jt(c,function(_,A){g+=A,g+=":",g+=_,g+=`\r
`}),g}function Rn(c,g,_){t:{for(A in _){var A=!1;break t}A=!0}A||(_=sr(_),typeof c=="string"?_!=null&&Kr(_):Yt(c,g,_))}function Jt(c){Re.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}b(Jt,Re);var es=/^https?$/i,Jo=["POST","PUT"];r=Jt.prototype,r.Fa=function(c){this.H=c},r.ea=function(c,g,_,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);g=g?g.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Ti.g(),this.g.onreadystatechange=S(y(this.Ca,this));try{this.B=!0,this.g.open(g,String(c),!0),this.B=!1}catch(G){aa(this,G);return}if(c=_||"",_=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var B in A)_.set(B,A[B]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const G of A.keys())_.set(G,A.get(G));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(_.keys()).find(G=>G.toLowerCase()=="content-type"),B=f.FormData&&c instanceof f.FormData,!(Array.prototype.indexOf.call(Jo,g,void 0)>=0)||A||B||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[G,at]of _)this.g.setRequestHeader(G,at);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(G){aa(this,G)}};function aa(c,g){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=g,c.o=5,sa(c),we(c)}function sa(c){c.A||(c.A=!0,xe(c,"complete"),xe(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,xe(this,"complete"),xe(this,"abort"),we(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),we(this,!0)),Jt.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?gl(this):this.Xa())},r.Xa=function(){gl(this)};function gl(c){if(c.h&&typeof u<"u"){if(c.v&&Ge(c)==4)setTimeout(c.Ca.bind(c),0);else if(xe(c,"readystatechange"),Ge(c)==4){c.h=!1;try{const G=c.ca();t:switch(G){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break t;default:g=!1}var _;if(!(_=g)){var A;if(A=G===0){let at=String(c.D).match(Wa)[1]||null;!at&&f.self&&f.self.location&&(at=f.self.location.protocol.slice(0,-1)),A=!es.test(at?at.toLowerCase():"")}_=A}if(_)xe(c,"complete"),xe(c,"success");else{c.o=6;try{var B=Ge(c)>2?c.g.statusText:""}catch{B=""}c.l=B+" ["+c.ca()+"]",sa(c)}}finally{we(c)}}}}function we(c,g){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const _=c.g;c.g=null,g||xe(c,"ready");try{_.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function Ge(c){return c.g?c.g.readyState:0}r.ca=function(){try{return Ge(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(c){if(this.g){var g=this.g.responseText;return c&&g.indexOf(c)==0&&(g=g.substring(c.length)),Ze(g)}};function la(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function oa(c){const g={};c=(c.g&&Ge(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<c.length;A++){if(x(c[A]))continue;var _=ph(c[A]);const B=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const G=g[B]||[];g[B]=G,G.push(_)}V(g,function(A){return A.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ua(c,g,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||g}function ns(c){this.za=0,this.i=[],this.j=new Zi,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ua("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ua("baseRetryDelayMs",5e3,c),this.Za=ua("retryDelaySeedMs",1e4,c),this.Ta=ua("forwardChannelMaxRetries",2,c),this.va=ua("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new Jr(c&&c.concurrentRequestLimit),this.Ba=new Zo,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=ns.prototype,r.ka=8,r.I=1,r.connect=function(c,g,_,A){fe(0),this.W=c,this.H=g||{},_&&A!==void 0&&(this.H.OSID=_,this.H.OAID=A),this.F=this.X,this.J=ru(this,null,this.W),fa(this)};function ca(c){if(ha(c),c.I==3){var g=c.V++,_=ae(c.J);if(Yt(_,"SID",c.M),Yt(_,"RID",g),Yt(_,"TYPE","terminate"),da(c,_),g=new kn(c,c.j,g),g.M=2,g.A=bi(ae(_)),_=!1,f.navigator&&f.navigator.sendBeacon)try{_=f.navigator.sendBeacon(g.A.toString(),"")}catch{}!_&&f.Image&&(new Image().src=g.A,_=!0),_||(g.g=as(g.j,null),g.g.ea(g.A)),g.F=Date.now(),$r(g)}iu(c)}function ri(c){c.g&&(yl(c),c.g.cancel(),c.g=null)}function ha(c){ri(c),c.v&&(f.clearTimeout(c.v),c.v=null),rs(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&f.clearTimeout(c.m),c.m=null)}function fa(c){if(!Wr(c.h)&&!c.m){c.m=!0;var g=c.Ea;ht||R(),ut||(ht(),ut=!0),N.add(g,c),c.D=0}}function vh(c,g){return bn(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=g.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=$i(y(c.Ea,c,g),nu(c,c.D)),c.D++,!0)}r.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const B=new kn(this,this.j,c);let G=this.o;if(this.U&&(G?(G=et(G),st(G,this.U)):G=this.U),this.u!==null||this.R||(B.J=G,G=null),this.S)t:{for(var g=0,_=0;_<this.i.length;_++){e:{var A=this.i[_];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break e}A=void 0}if(A===void 0)break;if(g+=A,g>4096){g=_;break t}if(g===4096||_===this.i.length-1){g=_+1;break t}}g=1e3}else g=1e3;g=is(this,B,g),_=ae(this.J),Yt(_,"RID",c),Yt(_,"CVER",22),this.G&&Yt(_,"X-HTTP-Session-Id",this.G),da(this,_),G&&(this.R?g="headers="+Kr(sr(G))+"&"+g:this.u&&Rn(_,this.u,G)),Za(this.h,B),this.Ra&&Yt(_,"TYPE","init"),this.S?(Yt(_,"$req",g),Yt(_,"SID","null"),B.U=!0,ti(B,_,null)):ti(B,_,g),this.I=2}}else this.I==3&&(c?Wo(this,c):this.i.length==0||Wr(this.h)||Wo(this))};function Wo(c,g){var _;g?_=g.l:_=c.V++;const A=ae(c.J);Yt(A,"SID",c.M),Yt(A,"RID",_),Yt(A,"AID",c.K),da(c,A),c.u&&c.o&&Rn(A,c.u,c.o),_=new kn(c,c.j,_,c.D+1),c.u===null&&(_.J=c.o),g&&(c.i=g.G.concat(c.i)),g=is(c,_,1e3),_.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),Za(c.h,_),ti(_,A,g)}function da(c,g){c.H&&jt(c.H,function(_,A){Yt(g,A,_)}),c.l&&jt({},function(_,A){Yt(g,A,_)})}function is(c,g,_){_=Math.min(c.i.length,_);const A=c.l?y(c.l.Ka,c.l,c):null;t:{var B=c.i;let wt=-1;for(;;){const ee=["count="+_];wt==-1?_>0?(wt=B[0].g,ee.push("ofs="+wt)):wt=0:ee.push("ofs="+wt);let Ht=!0;for(let ge=0;ge<_;ge++){var G=B[ge].g;const hn=B[ge].map;if(G-=wt,G<0)wt=Math.max(0,B[ge].g-100),Ht=!1;else try{G="req"+G+"_"||"";try{var at=hn instanceof Map?hn:Object.entries(hn);for(const[ai,zn]of at){let qn=zn;m(zn)&&(qn=Tn(zn)),ee.push(G+ai+"="+encodeURIComponent(qn))}}catch(ai){throw ee.push(G+"type="+encodeURIComponent("_badmap")),ai}}catch{A&&A(hn)}}if(Ht){at=ee.join("&");break t}}at=void 0}return c=c.i.splice(0,_),g.G=c,at}function tu(c){if(!c.g&&!c.v){c.Y=1;var g=c.Da;ht||R(),ut||(ht(),ut=!0),N.add(g,c),c.A=0}}function pl(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=$i(y(c.Da,c),nu(c,c.A)),c.A++,!0)}r.Da=function(){if(this.v=null,eu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=$i(y(this.Wa,this),c)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,fe(10),ri(this),eu(this))};function yl(c){c.B!=null&&(f.clearTimeout(c.B),c.B=null)}function eu(c){c.g=new kn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var g=ae(c.na);Yt(g,"RID","rpc"),Yt(g,"SID",c.M),Yt(g,"AID",c.K),Yt(g,"CI",c.F?"0":"1"),!c.F&&c.ia&&Yt(g,"TO",c.ia),Yt(g,"TYPE","xmlhttp"),da(c,g),c.u&&c.o&&Rn(g,c.u,c.o),c.O&&(c.g.H=c.O);var _=c.g;c=c.ba,_.M=1,_.A=bi(ae(g)),_.u=null,_.R=!0,Wi(_,c)}r.Va=function(){this.C!=null&&(this.C=null,ri(this),pl(this),fe(19))};function rs(c){c.C!=null&&(f.clearTimeout(c.C),c.C=null)}function _l(c,g){var _=null;if(c.g==g){rs(c),yl(c),c.g=null;var A=2}else if(ta(c.h,g))_=g.G,Ai(c.h,g),A=1;else return;if(c.I!=0){if(g.o)if(A==1){_=g.u?g.u.length:0,g=Date.now()-g.F;var B=c.D;A=Ya(),xe(A,new Go(A,_)),fa(c)}else tu(c);else if(B=g.m,B==3||B==0&&g.X>0||!(A==1&&vh(c,g)||A==2&&pl(c)))switch(_&&_.length>0&&(g=c.h,g.i=g.i.concat(_)),B){case 1:wi(c,5);break;case 4:wi(c,10);break;case 3:wi(c,6);break;default:wi(c,2)}}}function nu(c,g){let _=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(_*=2),_*g}function wi(c,g){if(c.j.info("Error code "+g),g==2){var _=y(c.bb,c),A=c.Ua;const B=!A;A=new jn(A||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||er(A,"https"),bi(A),B?ml(A.toString(),_):rr(A.toString(),_)}else fe(2);c.I=0,c.l&&c.l.pa(g),iu(c),ha(c)}r.bb=function(c){c?(this.j.info("Successfully pinged google.com"),fe(2)):(this.j.info("Failed to ping google.com"),fe(1))};function iu(c){if(c.I=0,c.ja=[],c.l){const g=Ja(c.h);(g.length!=0||c.i.length!=0)&&(H(c.ja,g),H(c.ja,c.i),c.h.i.length=0,U(c.i),c.i.length=0),c.l.oa()}}function ru(c,g,_){var A=_ instanceof jn?ae(_):new jn(_);if(A.g!="")g&&(A.g=g+"."+A.g),ea(A,A.u);else{var B=f.location;A=B.protocol,g=g?g+"."+B.hostname:B.hostname,B=+B.port;const G=new jn(null);A&&er(G,A),g&&(G.g=g),B&&ea(G,B),_&&(G.h=_),A=G}return _=c.G,g=c.wa,_&&g&&Yt(A,_,g),Yt(A,"VER",c.ka),da(c,A),A}function as(c,g,_){if(g&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return g=c.Aa&&!c.ma?new Jt(new ia({ab:_})):new Jt(c.ma),g.Fa(c.L),g}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function au(){}r=au.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function ss(){}ss.prototype.g=function(c,g){return new tn(c,g)};function tn(c,g){Re.call(this),this.g=new ns(g),this.l=c,this.h=g&&g.messageUrlParams||null,c=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(c?c["X-WebChannel-Content-Type"]=g.messageContentType:c={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.sa&&(c?c["X-WebChannel-Client-Profile"]=g.sa:c={"X-WebChannel-Client-Profile":g.sa}),this.g.U=c,(c=g&&g.Qb)&&!x(c)&&(this.g.u=c),this.A=g&&g.supportsCrossDomainXhr||!1,this.v=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!x(g)&&(this.g.G=g,c=this.h,c!==null&&g in c&&(c=this.h,g in c&&delete c[g])),this.j=new lr(this)}b(tn,Re),tn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},tn.prototype.close=function(){ca(this.g)},tn.prototype.o=function(c){var g=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.v&&(_={},_.__data__=Tn(c),c=_);g.i.push(new yh(g.Ya++,c)),g.I==3&&fa(g)},tn.prototype.N=function(){this.g.l=null,delete this.j,ca(this.g),delete this.g,tn.Z.N.call(this)};function vl(c){Yi.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var g=c.__sm__;if(g){t:{for(const _ in g){c=_;break t}c=void 0}(this.i=c)&&(c=this.i,g=g!==null&&c in g?g[c]:void 0),this.data=g}else this.data=c}b(vl,Yi);function su(){Pn.call(this),this.status=1}b(su,Pn);function lr(c){this.g=c}b(lr,au),lr.prototype.ra=function(){xe(this.g,"a")},lr.prototype.qa=function(c){xe(this.g,new vl(c))},lr.prototype.pa=function(c){xe(this.g,new su)},lr.prototype.oa=function(){xe(this.g,"b")},ss.prototype.createWebChannel=ss.prototype.g,tn.prototype.send=tn.prototype.o,tn.prototype.open=tn.prototype.m,tn.prototype.close=tn.prototype.close,fE=function(){return new ss},hE=function(){return Ya()},cE=An,Bd={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},de.NO_ERROR=0,de.TIMEOUT=8,de.HTTP_ERROR=6,_c=de,Pe.COMPLETE="complete",uE=Pe,Fo.EventType=Zn,Zn.OPEN="a",Zn.CLOSE="b",Zn.ERROR="c",Zn.MESSAGE="d",Re.prototype.listen=Re.prototype.J,fo=Fo,Jt.prototype.listenOnce=Jt.prototype.K,Jt.prototype.getLastError=Jt.prototype.Ha,Jt.prototype.getLastErrorCode=Jt.prototype.ya,Jt.prototype.getStatus=Jt.prototype.ca,Jt.prototype.getResponseJson=Jt.prototype.La,Jt.prototype.getResponseText=Jt.prototype.la,Jt.prototype.send=Jt.prototype.ea,Jt.prototype.setWithCredentials=Jt.prototype.Fa,oE=Jt}).apply(typeof cc<"u"?cc:typeof self<"u"?self:typeof window<"u"?window:{});const rv="@firebase/firestore",av="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Ke.UNAUTHENTICATED=new Ke(null),Ke.GOOGLE_CREDENTIALS=new Ke("google-credentials-uid"),Ke.FIRST_PARTY=new Ke("first-party-uid"),Ke.MOCK_USER=new Ke("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Js="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ka=new O0("@firebase/firestore");function Ps(){return ka.logLevel}function ft(r,...t){if(ka.logLevel<=kt.DEBUG){const i=t.map(bm);ka.debug(`Firestore (${Js}): ${r}`,...i)}}function Fi(r,...t){if(ka.logLevel<=kt.ERROR){const i=t.map(bm);ka.error(`Firestore (${Js}): ${r}`,...i)}}function Hs(r,...t){if(ka.logLevel<=kt.WARN){const i=t.map(bm);ka.warn(`Firestore (${Js}): ${r}`,...i)}}function bm(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(i){return JSON.stringify(i)})(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function At(r,t,i){let a="Unexpected state";typeof t=="string"?a=t:i=t,dE(r,a,i)}function dE(r,t,i){let a=`FIRESTORE (${Js}) INTERNAL ASSERTION FAILED: ${t} (ID: ${r.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw Fi(a),new Error(a)}function qt(r,t,i,a){let o="Unexpected state";typeof i=="string"?o=i:a=i,r||dE(t,o,a)}function Ct(r,t){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ot extends Ba{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zi{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mE{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class KR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i(Ke.UNAUTHENTICATED)))}shutdown(){}}class $R{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class ZR{constructor(t){this.t=t,this.currentUser=Ke.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){qt(this.o===void 0,42304);let a=this.i;const o=p=>this.i!==a?(a=this.i,i(p)):Promise.resolve();let u=new zi;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new zi,t.enqueueRetryable((()=>o(this.currentUser)))};const f=()=>{const p=u;t.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},m=p=>{ft("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((p=>m(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(ft("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new zi)}}),0),f()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==t?(ft("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(qt(typeof a.accessToken=="string",31837,{l:a}),new mE(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return qt(t===null||typeof t=="string",2055,{h:t}),new Ke(t)}}class JR{constructor(t,i,a){this.P=t,this.T=i,this.I=a,this.type="FirstParty",this.user=Ke.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class WR{constructor(t,i,a){this.P=t,this.T=i,this.I=a}getToken(){return Promise.resolve(new JR(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i(Ke.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class sv{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class tw{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,P0(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){qt(this.o===void 0,3512);const a=u=>{u.error!=null&&ft("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,ft("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?i(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable((()=>a(u)))};const o=u=>{ft("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):ft("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new sv(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(qt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new sv(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ew(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let a=0;a<r;a++)i[a]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sm{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const o=ew(40);for(let u=0;u<o.length;++u)a.length<20&&o[u]<i&&(a+=t.charAt(o[u]%62))}return a}}function Mt(r,t){return r<t?-1:r>t?1:0}function zd(r,t){const i=Math.min(r.length,t.length);for(let a=0;a<i;a++){const o=r.charAt(a),u=t.charAt(a);if(o!==u)return wd(o)===wd(u)?Mt(o,u):wd(o)?1:-1}return Mt(r.length,t.length)}const nw=55296,iw=57343;function wd(r){const t=r.charCodeAt(0);return t>=nw&&t<=iw}function Fs(r,t,i){return r.length===t.length&&r.every(((a,o)=>i(a,t[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lv="__name__";class hi{constructor(t,i,a){i===void 0?i=0:i>t.length&&At(637,{offset:i,range:t.length}),a===void 0?a=t.length-i:a>t.length-i&&At(1746,{length:a,range:t.length-i}),this.segments=t,this.offset=i,this.len=a}get length(){return this.len}isEqual(t){return hi.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof hi?t.forEach((a=>{i.push(a)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,a=this.limit();i<a;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const a=Math.min(t.length,i.length);for(let o=0;o<a;o++){const u=hi.compareSegments(t.get(o),i.get(o));if(u!==0)return u}return Mt(t.length,i.length)}static compareSegments(t,i){const a=hi.isNumericId(t),o=hi.isNumericId(i);return a&&!o?-1:!a&&o?1:a&&o?hi.extractNumericId(t).compare(hi.extractNumericId(i)):zd(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Mr.fromString(t.substring(4,t.length-2))}}class te extends hi{construct(t,i,a){return new te(t,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const a of t){if(a.indexOf("//")>=0)throw new ot(Z.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((o=>o.length>0)))}return new te(i)}static emptyPath(){return new te([])}}const rw=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class qe extends hi{construct(t,i,a){return new qe(t,i,a)}static isValidIdentifier(t){return rw.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),qe.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===lv}static keyField(){return new qe([lv])}static fromServerFormat(t){const i=[];let a="",o=0;const u=()=>{if(a.length===0)throw new ot(Z.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let f=!1;for(;o<t.length;){const m=t[o];if(m==="\\"){if(o+1===t.length)throw new ot(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const p=t[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ot(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);a+=p,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(a+=m,o++):(u(),o++)}if(u(),f)throw new ot(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new qe(i)}static emptyPath(){return new qe([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{constructor(t){this.path=t}static fromPath(t){return new vt(te.fromString(t))}static fromName(t){return new vt(te.fromString(t).popFirst(5))}static empty(){return new vt(te.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&te.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return te.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new vt(new te(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gE(r,t,i){if(!i)throw new ot(Z.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function aw(r,t,i,a){if(t===!0&&a===!0)throw new ot(Z.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function ov(r){if(!vt.isDocumentKey(r))throw new ot(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function uv(r){if(vt.isDocumentKey(r))throw new ot(Z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function pE(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Yc(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=(function(a){return a.constructor?a.constructor.name:null})(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":At(12329,{type:typeof r})}function Mn(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new ot(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Yc(r);throw new ot(Z.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Se(r,t){const i={typeString:r};return t&&(i.value=t),i}function Uo(r,t){if(!pE(r))throw new ot(Z.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in t)if(t[a]){const o=t[a].typeString,u="value"in t[a]?{value:t[a].value}:void 0;if(!(a in r)){i=`JSON missing required field: '${a}'`;break}const f=r[a];if(o&&typeof f!==o){i=`JSON field '${a}' must be a ${o}.`;break}if(u!==void 0&&f!==u.value){i=`Expected '${a}' field to equal '${u.value}'`;break}}if(i)throw new ot(Z.INVALID_ARGUMENT,i);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cv=-62135596800,hv=1e6;class ne{static now(){return ne.fromMillis(Date.now())}static fromDate(t){return ne.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),a=Math.floor((t-1e3*i)*hv);return new ne(i,a)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new ot(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ot(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<cv)throw new ot(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ot(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/hv}_compareTo(t){return this.seconds===t.seconds?Mt(this.nanoseconds,t.nanoseconds):Mt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ne._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Uo(t,ne._jsonSchema))return new ne(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-cv;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ne._jsonSchemaVersion="firestore/timestamp/1.0",ne._jsonSchema={type:Se("string",ne._jsonSchemaVersion),seconds:Se("number"),nanoseconds:Se("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt{static fromTimestamp(t){return new Rt(t)}static min(){return new Rt(new ne(0,0))}static max(){return new Rt(new ne(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wo=-1;function sw(r,t){const i=r.toTimestamp().seconds,a=r.toTimestamp().nanoseconds+1,o=Rt.fromTimestamp(a===1e9?new ne(i+1,0):new ne(i,a));return new Lr(o,vt.empty(),t)}function lw(r){return new Lr(r.readTime,r.key,wo)}class Lr{constructor(t,i,a){this.readTime=t,this.documentKey=i,this.largestBatchId=a}static min(){return new Lr(Rt.min(),vt.empty(),wo)}static max(){return new Lr(Rt.max(),vt.empty(),wo)}}function ow(r,t){let i=r.readTime.compareTo(t.readTime);return i!==0?i:(i=vt.comparator(r.documentKey,t.documentKey),i!==0?i:Mt(r.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uw="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class cw{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ws(r){if(r.code!==Z.FAILED_PRECONDITION||r.message!==uw)throw r;ft("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&At(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new W(((a,o)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(a,o)},this.catchCallback=u=>{this.wrapFailure(i,u).next(a,o)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof W?i:W.resolve(i)}catch(i){return W.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):W.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):W.reject(i)}static resolve(t){return new W(((i,a)=>{i(t)}))}static reject(t){return new W(((i,a)=>{a(t)}))}static waitFor(t){return new W(((i,a)=>{let o=0,u=0,f=!1;t.forEach((m=>{++o,m.next((()=>{++u,f&&u===o&&i()}),(p=>a(p)))})),f=!0,u===o&&i()}))}static or(t){let i=W.resolve(!1);for(const a of t)i=i.next((o=>o?W.resolve(o):a()));return i}static forEach(t,i){const a=[];return t.forEach(((o,u)=>{a.push(i.call(this,o,u))})),this.waitFor(a)}static mapArray(t,i){return new W(((a,o)=>{const u=t.length,f=new Array(u);let m=0;for(let p=0;p<u;p++){const y=p;i(t[y]).next((E=>{f[y]=E,++m,m===u&&a(f)}),(E=>o(E)))}}))}static doWhile(t,i){return new W(((a,o)=>{const u=()=>{t()===!0?i().next((()=>{u()}),o):a()};u()}))}}function hw(r){const t=r.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function tl(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xc{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}Xc.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rm=-1;function Kc(r){return r==null}function xc(r){return r===0&&1/r==-1/0}function fw(r){return typeof r=="number"&&Number.isInteger(r)&&!xc(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yE="";function dw(r){let t="";for(let i=0;i<r.length;i++)t.length>0&&(t=fv(t)),t=mw(r.get(i),t);return fv(t)}function mw(r,t){let i=t;const a=r.length;for(let o=0;o<a;o++){const u=r.charAt(o);switch(u){case"\0":i+="";break;case yE:i+="";break;default:i+=u}}return i}function fv(r){return r+yE+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dv(r){let t=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t++;return t}function Fr(r,t){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t(i,r[i])}function _E(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class le{constructor(t,i){this.comparator=t,this.root=i||ze.EMPTY}insert(t,i){return new le(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,ze.BLACK,null,null))}remove(t){return new le(this.comparator,this.root.remove(t,this.comparator).copy(null,null,ze.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(t,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(t){let i=0,a=this.root;for(;!a.isEmpty();){const o=this.comparator(t,a.key);if(o===0)return i+a.left.size;o<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,a)=>(t(i,a),!1)))}toString(){const t=[];return this.inorderTraversal(((i,a)=>(t.push(`${i}:${a}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new hc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new hc(this.root,t,this.comparator,!1)}getReverseIterator(){return new hc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new hc(this.root,t,this.comparator,!0)}}class hc{constructor(t,i,a,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=i?a(t.key,i):1,i&&o&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class ze{constructor(t,i,a,o,u){this.key=t,this.value=i,this.color=a??ze.RED,this.left=o??ze.EMPTY,this.right=u??ze.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,a,o,u){return new ze(t??this.key,i??this.value,a??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,a){let o=this;const u=a(t,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(t,i,a),null):u===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(t,i,a)),o.fixUp()}removeMin(){if(this.left.isEmpty())return ze.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let a,o=this;if(i(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(t,o.key)===0){if(o.right.isEmpty())return ze.EMPTY;a=o.right.min(),o=o.copy(a.key,a.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,ze.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,ze.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw At(43730,{key:this.key,value:this.value});if(this.right.isRed())throw At(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw At(27949);return t+(this.isRed()?0:1)}}ze.EMPTY=null,ze.RED=!0,ze.BLACK=!1;ze.EMPTY=new class{constructor(){this.size=0}get key(){throw At(57766)}get value(){throw At(16141)}get color(){throw At(16727)}get left(){throw At(29726)}get right(){throw At(36894)}copy(t,i,a,o,u){return this}insert(t,i,a){return new ze(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ne{constructor(t){this.comparator=t,this.data=new le(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,a)=>(t(i),!1)))}forEachInRange(t,i){const a=this.data.getIteratorFrom(t[0]);for(;a.hasNext();){const o=a.getNext();if(this.comparator(o.key,t[1])>=0)return;i(o.key)}}forEachWhile(t,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!t(a.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new mv(this.data.getIterator())}getIteratorFrom(t){return new mv(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((a=>{i=i.add(a)})),i}isEqual(t){if(!(t instanceof Ne)||this.size!==t.size)return!1;const i=this.data.getIterator(),a=t.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,u=a.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new Ne(this.comparator);return i.data=t,i}}class mv{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(t){this.fields=t,t.sort(qe.comparator)}static empty(){return new En([])}unionWith(t){let i=new Ne(qe.comparator);for(const a of this.fields)i=i.add(a);for(const a of t)i=i.add(a);return new En(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return Fs(this.fields,t.fields,((i,a)=>i.isEqual(a)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class He{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new vE("Invalid base64 string: "+u):u}})(t);return new He(i)}static fromUint8Array(t){const i=(function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u})(t);return new He(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let o=0;o<i.length;o++)a[o]=i.charCodeAt(o);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Mt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}He.EMPTY_BYTE_STRING=new He("");const gw=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Pr(r){if(qt(!!r,39018),typeof r=="string"){let t=0;const i=gw.exec(r);if(qt(!!i,46558,{timestamp:r}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),t=Number(o)}const a=new Date(r);return{seconds:Math.floor(a.getTime()/1e3),nanos:t}}return{seconds:_e(r.seconds),nanos:_e(r.nanos)}}function _e(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function kr(r){return typeof r=="string"?He.fromBase64String(r):He.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EE="server_timestamp",TE="__type__",AE="__previous_value__",bE="__local_write_time__";function wm(r){return(r?.mapValue?.fields||{})[TE]?.stringValue===EE}function $c(r){const t=r.mapValue.fields[AE];return wm(t)?$c(t):t}function Co(r){const t=Pr(r.mapValue.fields[bE].timestampValue);return new ne(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pw{constructor(t,i,a,o,u,f,m,p,y,E){this.databaseId=t,this.appId=i,this.persistenceKey=a,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=y,this.isUsingEmulator=E}}const Ic="(default)";class Do{constructor(t,i){this.projectId=t,this.database=i||Ic}static empty(){return new Do("","")}get isDefaultDatabase(){return this.database===Ic}isEqual(t){return t instanceof Do&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SE="__type__",yw="__max__",fc={mapValue:{}},RE="__vector__",Vc="value";function jr(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?wm(r)?4:vw(r)?9007199254740991:_w(r)?10:11:At(28295,{value:r})}function yi(r,t){if(r===t)return!0;const i=jr(r);if(i!==jr(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return Co(r).isEqual(Co(t));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=Pr(o.timestampValue),m=Pr(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos})(r,t);case 5:return r.stringValue===t.stringValue;case 6:return(function(o,u){return kr(o.bytesValue).isEqual(kr(u.bytesValue))})(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return(function(o,u){return _e(o.geoPointValue.latitude)===_e(u.geoPointValue.latitude)&&_e(o.geoPointValue.longitude)===_e(u.geoPointValue.longitude)})(r,t);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return _e(o.integerValue)===_e(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=_e(o.doubleValue),m=_e(u.doubleValue);return f===m?xc(f)===xc(m):isNaN(f)&&isNaN(m)}return!1})(r,t);case 9:return Fs(r.arrayValue.values||[],t.arrayValue.values||[],yi);case 10:case 11:return(function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(dv(f)!==dv(m))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(m[p]===void 0||!yi(f[p],m[p])))return!1;return!0})(r,t);default:return At(52216,{left:r})}}function No(r,t){return(r.values||[]).find((i=>yi(i,t)))!==void 0}function Gs(r,t){if(r===t)return 0;const i=jr(r),a=jr(t);if(i!==a)return Mt(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return Mt(r.booleanValue,t.booleanValue);case 2:return(function(u,f){const m=_e(u.integerValue||u.doubleValue),p=_e(f.integerValue||f.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1})(r,t);case 3:return gv(r.timestampValue,t.timestampValue);case 4:return gv(Co(r),Co(t));case 5:return zd(r.stringValue,t.stringValue);case 6:return(function(u,f){const m=kr(u),p=kr(f);return m.compareTo(p)})(r.bytesValue,t.bytesValue);case 7:return(function(u,f){const m=u.split("/"),p=f.split("/");for(let y=0;y<m.length&&y<p.length;y++){const E=Mt(m[y],p[y]);if(E!==0)return E}return Mt(m.length,p.length)})(r.referenceValue,t.referenceValue);case 8:return(function(u,f){const m=Mt(_e(u.latitude),_e(f.latitude));return m!==0?m:Mt(_e(u.longitude),_e(f.longitude))})(r.geoPointValue,t.geoPointValue);case 9:return pv(r.arrayValue,t.arrayValue);case 10:return(function(u,f){const m=u.fields||{},p=f.fields||{},y=m[Vc]?.arrayValue,E=p[Vc]?.arrayValue,b=Mt(y?.values?.length||0,E?.values?.length||0);return b!==0?b:pv(y,E)})(r.mapValue,t.mapValue);case 11:return(function(u,f){if(u===fc.mapValue&&f===fc.mapValue)return 0;if(u===fc.mapValue)return 1;if(f===fc.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),y=f.fields||{},E=Object.keys(y);p.sort(),E.sort();for(let b=0;b<p.length&&b<E.length;++b){const S=zd(p[b],E[b]);if(S!==0)return S;const U=Gs(m[p[b]],y[E[b]]);if(U!==0)return U}return Mt(p.length,E.length)})(r.mapValue,t.mapValue);default:throw At(23264,{he:i})}}function gv(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return Mt(r,t);const i=Pr(r),a=Pr(t),o=Mt(i.seconds,a.seconds);return o!==0?o:Mt(i.nanos,a.nanos)}function pv(r,t){const i=r.values||[],a=t.values||[];for(let o=0;o<i.length&&o<a.length;++o){const u=Gs(i[o],a[o]);if(u)return u}return Mt(i.length,a.length)}function Qs(r){return qd(r)}function qd(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(i){const a=Pr(i);return`time(${a.seconds},${a.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(i){return kr(i).toBase64()})(r.bytesValue):"referenceValue"in r?(function(i){return vt.fromName(i).toString()})(r.referenceValue):"geoPointValue"in r?(function(i){return`geo(${i.latitude},${i.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(i){let a="[",o=!0;for(const u of i.values||[])o?o=!1:a+=",",a+=qd(u);return a+"]"})(r.arrayValue):"mapValue"in r?(function(i){const a=Object.keys(i.fields||{}).sort();let o="{",u=!0;for(const f of a)u?u=!1:o+=",",o+=`${f}:${qd(i.fields[f])}`;return o+"}"})(r.mapValue):At(61005,{value:r})}function vc(r){switch(jr(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=$c(r);return t?16+vc(t):16;case 5:return 2*r.stringValue.length;case 6:return kr(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((o,u)=>o+vc(u)),0)})(r.arrayValue);case 10:case 11:return(function(a){let o=0;return Fr(a.fields,((u,f)=>{o+=u.length+vc(f)})),o})(r.mapValue);default:throw At(13486,{value:r})}}function yv(r,t){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${t.path.canonicalString()}`}}function Hd(r){return!!r&&"integerValue"in r}function Cm(r){return!!r&&"arrayValue"in r}function _v(r){return!!r&&"nullValue"in r}function vv(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Ec(r){return!!r&&"mapValue"in r}function _w(r){return(r?.mapValue?.fields||{})[SE]?.stringValue===RE}function vo(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const t={mapValue:{fields:{}}};return Fr(r.mapValue.fields,((i,a)=>t.mapValue.fields[i]=vo(a))),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=vo(r.arrayValue.values[i]);return t}return{...r}}function vw(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===yw}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(t){this.value=t}static empty(){return new cn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let a=0;a<t.length-1;++a)if(i=(i.mapValue.fields||{})[t.get(a)],!Ec(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=vo(i)}setAll(t){let i=qe.emptyPath(),a={},o=[];t.forEach(((f,m)=>{if(!i.isImmediateParentOf(m)){const p=this.getFieldsMap(i);this.applyChanges(p,a,o),a={},o=[],i=m.popLast()}f?a[m.lastSegment()]=vo(f):o.push(m.lastSegment())}));const u=this.getFieldsMap(i);this.applyChanges(u,a,o)}delete(t){const i=this.field(t.popLast());Ec(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return yi(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<t.length;++a){let o=i.mapValue.fields[t.get(a)];Ec(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[t.get(a)]=o),i=o}return i.mapValue.fields}applyChanges(t,i,a){Fr(i,((o,u)=>t[o]=u));for(const o of a)delete t[o]}clone(){return new cn(vo(this.value))}}function wE(r){const t=[];return Fr(r.fields,((i,a)=>{const o=new qe([i]);if(Ec(a)){const u=wE(a.mapValue).fields;if(u.length===0)t.push(o);else for(const f of u)t.push(o.child(f))}else t.push(o)})),new En(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $e{constructor(t,i,a,o,u,f,m){this.key=t,this.documentType=i,this.version=a,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(t){return new $e(t,0,Rt.min(),Rt.min(),Rt.min(),cn.empty(),0)}static newFoundDocument(t,i,a,o){return new $e(t,1,i,Rt.min(),a,o,0)}static newNoDocument(t,i){return new $e(t,2,i,Rt.min(),Rt.min(),cn.empty(),0)}static newUnknownDocument(t,i){return new $e(t,3,i,Rt.min(),Rt.min(),cn.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(Rt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=cn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=cn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Rt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof $e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new $e(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oc{constructor(t,i){this.position=t,this.inclusive=i}}function Ev(r,t,i){let a=0;for(let o=0;o<r.position.length;o++){const u=t[o],f=r.position[o];if(u.field.isKeyField()?a=vt.comparator(vt.fromName(f.referenceValue),i.key):a=Gs(f,i.data.field(u.field)),u.dir==="desc"&&(a*=-1),a!==0)break}return a}function Tv(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!yi(r.position[i],t.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mc{constructor(t,i="asc"){this.field=t,this.dir=i}}function Ew(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CE{}class be extends CE{constructor(t,i,a){super(),this.field=t,this.op=i,this.value=a}static create(t,i,a){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,a):new Aw(t,i,a):i==="array-contains"?new Rw(t,a):i==="in"?new ww(t,a):i==="not-in"?new Cw(t,a):i==="array-contains-any"?new Dw(t,a):new be(t,i,a)}static createKeyFieldInFilter(t,i,a){return i==="in"?new bw(t,a):new Sw(t,a)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Gs(i,this.value)):i!==null&&jr(this.value)===jr(i)&&this.matchesComparison(Gs(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return At(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Kn extends CE{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new Kn(t,i)}matches(t){return DE(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function DE(r){return r.op==="and"}function NE(r){return Tw(r)&&DE(r)}function Tw(r){for(const t of r.filters)if(t instanceof Kn)return!1;return!0}function Fd(r){if(r instanceof be)return r.field.canonicalString()+r.op.toString()+Qs(r.value);if(NE(r))return r.filters.map((t=>Fd(t))).join(",");{const t=r.filters.map((i=>Fd(i))).join(",");return`${r.op}(${t})`}}function xE(r,t){return r instanceof be?(function(a,o){return o instanceof be&&a.op===o.op&&a.field.isEqual(o.field)&&yi(a.value,o.value)})(r,t):r instanceof Kn?(function(a,o){return o instanceof Kn&&a.op===o.op&&a.filters.length===o.filters.length?a.filters.reduce(((u,f,m)=>u&&xE(f,o.filters[m])),!0):!1})(r,t):void At(19439)}function IE(r){return r instanceof be?(function(i){return`${i.field.canonicalString()} ${i.op} ${Qs(i.value)}`})(r):r instanceof Kn?(function(i){return i.op.toString()+" {"+i.getFilters().map(IE).join(" ,")+"}"})(r):"Filter"}class Aw extends be{constructor(t,i,a){super(t,i,a),this.key=vt.fromName(a.referenceValue)}matches(t){const i=vt.comparator(t.key,this.key);return this.matchesComparison(i)}}class bw extends be{constructor(t,i){super(t,"in",i),this.keys=VE("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class Sw extends be{constructor(t,i){super(t,"not-in",i),this.keys=VE("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function VE(r,t){return(t.arrayValue?.values||[]).map((i=>vt.fromName(i.referenceValue)))}class Rw extends be{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return Cm(i)&&No(i.arrayValue,this.value)}}class ww extends be{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&No(this.value.arrayValue,i)}}class Cw extends be{constructor(t,i){super(t,"not-in",i)}matches(t){if(No(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!No(this.value.arrayValue,i)}}class Dw extends be{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!Cm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>No(this.value.arrayValue,a)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nw{constructor(t,i=null,a=[],o=[],u=null,f=null,m=null){this.path=t,this.collectionGroup=i,this.orderBy=a,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.Te=null}}function Av(r,t=null,i=[],a=[],o=null,u=null,f=null){return new Nw(r,t,i,a,o,u,f)}function Dm(r){const t=Ct(r);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((a=>Fd(a))).join(","),i+="|ob:",i+=t.orderBy.map((a=>(function(u){return u.field.canonicalString()+u.dir})(a))).join(","),Kc(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((a=>Qs(a))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((a=>Qs(a))).join(",")),t.Te=i}return t.Te}function Nm(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!Ew(r.orderBy[i],t.orderBy[i]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!xE(r.filters[i],t.filters[i]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!Tv(r.startAt,t.startAt)&&Tv(r.endAt,t.endAt)}function Gd(r){return vt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo{constructor(t,i=null,a=[],o=[],u=null,f="F",m=null,p=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function xw(r,t,i,a,o,u,f,m){return new Lo(r,t,i,a,o,u,f,m)}function Zc(r){return new Lo(r)}function bv(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function OE(r){return r.collectionGroup!==null}function Eo(r){const t=Ct(r);if(t.Ie===null){t.Ie=[];const i=new Set;for(const u of t.explicitOrderBy)t.Ie.push(u),i.add(u.field.canonicalString());const a=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new Ne(qe.comparator);return f.filters.forEach((p=>{p.getFlattenedFilters().forEach((y=>{y.isInequality()&&(m=m.add(y.field))}))})),m})(t).forEach((u=>{i.has(u.canonicalString())||u.isKeyField()||t.Ie.push(new Mc(u,a))})),i.has(qe.keyField().canonicalString())||t.Ie.push(new Mc(qe.keyField(),a))}return t.Ie}function di(r){const t=Ct(r);return t.Ee||(t.Ee=Iw(t,Eo(r))),t.Ee}function Iw(r,t){if(r.limitType==="F")return Av(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new Mc(o.field,u)}));const i=r.endAt?new Oc(r.endAt.position,r.endAt.inclusive):null,a=r.startAt?new Oc(r.startAt.position,r.startAt.inclusive):null;return Av(r.path,r.collectionGroup,t,r.filters,r.limit,i,a)}}function Qd(r,t){const i=r.filters.concat([t]);return new Lo(r.path,r.collectionGroup,r.explicitOrderBy.slice(),i,r.limit,r.limitType,r.startAt,r.endAt)}function Yd(r,t,i){return new Lo(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,i,r.startAt,r.endAt)}function Jc(r,t){return Nm(di(r),di(t))&&r.limitType===t.limitType}function ME(r){return`${Dm(di(r))}|lt:${r.limitType}`}function ks(r){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((o=>IE(o))).join(", ")}]`),Kc(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((o=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(o))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((o=>Qs(o))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((o=>Qs(o))).join(",")),`Target(${a})`})(di(r))}; limitType=${r.limitType})`}function Wc(r,t){return t.isFoundDocument()&&(function(a,o){const u=o.key.path;return a.collectionGroup!==null?o.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(u):vt.isDocumentKey(a.path)?a.path.isEqual(u):a.path.isImmediateParentOf(u)})(r,t)&&(function(a,o){for(const u of Eo(a))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(r,t)&&(function(a,o){for(const u of a.filters)if(!u.matches(o))return!1;return!0})(r,t)&&(function(a,o){return!(a.startAt&&!(function(f,m,p){const y=Ev(f,m,p);return f.inclusive?y<=0:y<0})(a.startAt,Eo(a),o)||a.endAt&&!(function(f,m,p){const y=Ev(f,m,p);return f.inclusive?y>=0:y>0})(a.endAt,Eo(a),o))})(r,t)}function Vw(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function UE(r){return(t,i)=>{let a=!1;for(const o of Eo(r)){const u=Ow(o,t,i);if(u!==0)return u;a=a||o.field.isKeyField()}return 0}}function Ow(r,t,i){const a=r.field.isKeyField()?vt.comparator(t.key,i.key):(function(u,f,m){const p=f.data.field(u),y=m.data.field(u);return p!==null&&y!==null?Gs(p,y):At(42886)})(r.field,t,i);switch(r.dir){case"asc":return a;case"desc":return-1*a;default:return At(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class za{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a!==void 0){for(const[o,u]of a)if(this.equalsFn(o,t))return u}}has(t){return this.get(t)!==void 0}set(t,i){const a=this.mapKeyFn(t),o=this.inner[a];if(o===void 0)return this.inner[a]=[[t,i]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],t))return void(o[u]=[t,i]);o.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a===void 0)return!1;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],t))return a.length===1?delete this.inner[i]:a.splice(o,1),this.innerSize--,!0;return!1}forEach(t){Fr(this.inner,((i,a)=>{for(const[o,u]of a)t(o,u)}))}isEmpty(){return _E(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mw=new le(vt.comparator);function Gi(){return Mw}const LE=new le(vt.comparator);function mo(...r){let t=LE;for(const i of r)t=t.insert(i.key,i);return t}function PE(r){let t=LE;return r.forEach(((i,a)=>t=t.insert(i,a.overlayedDocument))),t}function Ia(){return To()}function kE(){return To()}function To(){return new za((r=>r.toString()),((r,t)=>r.isEqual(t)))}const Uw=new le(vt.comparator),Lw=new Ne(vt.comparator);function Ut(...r){let t=Lw;for(const i of r)t=t.add(i);return t}const Pw=new Ne(Mt);function kw(){return Pw}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xm(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:xc(t)?"-0":t}}function jE(r){return{integerValue:""+r}}function jw(r,t){return fw(t)?jE(t):xm(r,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class th{constructor(){this._=void 0}}function Bw(r,t,i){return r instanceof Uc?(function(o,u){const f={fields:{[TE]:{stringValue:EE},[bE]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&wm(u)&&(u=$c(u)),u&&(f.fields[AE]=u),{mapValue:f}})(i,t):r instanceof xo?zE(r,t):r instanceof Io?qE(r,t):(function(o,u){const f=BE(o,u),m=Sv(f)+Sv(o.Ae);return Hd(f)&&Hd(o.Ae)?jE(m):xm(o.serializer,m)})(r,t)}function zw(r,t,i){return r instanceof xo?zE(r,t):r instanceof Io?qE(r,t):i}function BE(r,t){return r instanceof Lc?(function(a){return Hd(a)||(function(u){return!!u&&"doubleValue"in u})(a)})(t)?t:{integerValue:0}:null}class Uc extends th{}class xo extends th{constructor(t){super(),this.elements=t}}function zE(r,t){const i=HE(t);for(const a of r.elements)i.some((o=>yi(o,a)))||i.push(a);return{arrayValue:{values:i}}}class Io extends th{constructor(t){super(),this.elements=t}}function qE(r,t){let i=HE(t);for(const a of r.elements)i=i.filter((o=>!yi(o,a)));return{arrayValue:{values:i}}}class Lc extends th{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function Sv(r){return _e(r.integerValue||r.doubleValue)}function HE(r){return Cm(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function qw(r,t){return r.field.isEqual(t.field)&&(function(a,o){return a instanceof xo&&o instanceof xo||a instanceof Io&&o instanceof Io?Fs(a.elements,o.elements,yi):a instanceof Lc&&o instanceof Lc?yi(a.Ae,o.Ae):a instanceof Uc&&o instanceof Uc})(r.transform,t.transform)}class Hw{constructor(t,i){this.version=t,this.transformResults=i}}class Yn{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new Yn}static exists(t){return new Yn(void 0,t)}static updateTime(t){return new Yn(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Tc(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class eh{}function FE(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new Im(r.key,Yn.none()):new Po(r.key,r.data,Yn.none());{const i=r.data,a=cn.empty();let o=new Ne(qe.comparator);for(let u of t.fields)if(!o.has(u)){let f=i.field(u);f===null&&u.length>1&&(u=u.popLast(),f=i.field(u)),f===null?a.delete(u):a.set(u,f),o=o.add(u)}return new Gr(r.key,a,new En(o.toArray()),Yn.none())}}function Fw(r,t,i){r instanceof Po?(function(o,u,f){const m=o.value.clone(),p=wv(o.fieldTransforms,u,f.transformResults);m.setAll(p),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()})(r,t,i):r instanceof Gr?(function(o,u,f){if(!Tc(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=wv(o.fieldTransforms,u,f.transformResults),p=u.data;p.setAll(GE(o)),p.setAll(m),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()})(r,t,i):(function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()})(0,t,i)}function Ao(r,t,i,a){return r instanceof Po?(function(u,f,m,p){if(!Tc(u.precondition,f))return m;const y=u.value.clone(),E=Cv(u.fieldTransforms,p,f);return y.setAll(E),f.convertToFoundDocument(f.version,y).setHasLocalMutations(),null})(r,t,i,a):r instanceof Gr?(function(u,f,m,p){if(!Tc(u.precondition,f))return m;const y=Cv(u.fieldTransforms,p,f),E=f.data;return E.setAll(GE(u)),E.setAll(y),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((b=>b.field)))})(r,t,i,a):(function(u,f,m){return Tc(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m})(r,t,i)}function Gw(r,t){let i=null;for(const a of r.fieldTransforms){const o=t.data.field(a.field),u=BE(a.transform,o||null);u!=null&&(i===null&&(i=cn.empty()),i.set(a.field,u))}return i||null}function Rv(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!(function(a,o){return a===void 0&&o===void 0||!(!a||!o)&&Fs(a,o,((u,f)=>qw(u,f)))})(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class Po extends eh{constructor(t,i,a,o=[]){super(),this.key=t,this.value=i,this.precondition=a,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Gr extends eh{constructor(t,i,a,o,u=[]){super(),this.key=t,this.data=i,this.fieldMask=a,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function GE(r){const t=new Map;return r.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=r.data.field(i);t.set(i,a)}})),t}function wv(r,t,i){const a=new Map;qt(r.length===i.length,32656,{Re:i.length,Ve:r.length});for(let o=0;o<i.length;o++){const u=r[o],f=u.transform,m=t.data.field(u.field);a.set(u.field,zw(f,m,i[o]))}return a}function Cv(r,t,i){const a=new Map;for(const o of r){const u=o.transform,f=i.data.field(o.field);a.set(o.field,Bw(u,f,t))}return a}class Im extends eh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Qw extends eh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yw{constructor(t,i,a,o){this.batchId=t,this.localWriteTime=i,this.baseMutations=a,this.mutations=o}applyToRemoteDocument(t,i){const a=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(t.key)&&Fw(u,t,a[o])}}applyToLocalView(t,i){for(const a of this.baseMutations)a.key.isEqual(t.key)&&(i=Ao(a,t,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(t.key)&&(i=Ao(a,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const a=kE();return this.mutations.forEach((o=>{const u=t.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=i.has(o.key)?null:m;const p=FE(f,m);p!==null&&a.set(o.key,p),f.isValidDocument()||f.convertToNoDocument(Rt.min())})),a}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),Ut())}isEqual(t){return this.batchId===t.batchId&&Fs(this.mutations,t.mutations,((i,a)=>Rv(i,a)))&&Fs(this.baseMutations,t.baseMutations,((i,a)=>Rv(i,a)))}}class Vm{constructor(t,i,a,o){this.batch=t,this.commitVersion=i,this.mutationResults=a,this.docVersions=o}static from(t,i,a){qt(t.mutations.length===a.length,58842,{me:t.mutations.length,fe:a.length});let o=(function(){return Uw})();const u=t.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,a[f].version);return new Vm(t,i,a,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xw{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kw{constructor(t,i){this.count=t,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ae,Pt;function $w(r){switch(r){case Z.OK:return At(64938);case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0;default:return At(15467,{code:r})}}function QE(r){if(r===void 0)return Fi("GRPC error has no .code"),Z.UNKNOWN;switch(r){case Ae.OK:return Z.OK;case Ae.CANCELLED:return Z.CANCELLED;case Ae.UNKNOWN:return Z.UNKNOWN;case Ae.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case Ae.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case Ae.INTERNAL:return Z.INTERNAL;case Ae.UNAVAILABLE:return Z.UNAVAILABLE;case Ae.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case Ae.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case Ae.NOT_FOUND:return Z.NOT_FOUND;case Ae.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case Ae.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case Ae.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case Ae.ABORTED:return Z.ABORTED;case Ae.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case Ae.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case Ae.DATA_LOSS:return Z.DATA_LOSS;default:return At(39323,{code:r})}}(Pt=Ae||(Ae={}))[Pt.OK=0]="OK",Pt[Pt.CANCELLED=1]="CANCELLED",Pt[Pt.UNKNOWN=2]="UNKNOWN",Pt[Pt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Pt[Pt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Pt[Pt.NOT_FOUND=5]="NOT_FOUND",Pt[Pt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Pt[Pt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Pt[Pt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Pt[Pt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Pt[Pt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Pt[Pt.ABORTED=10]="ABORTED",Pt[Pt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Pt[Pt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Pt[Pt.INTERNAL=13]="INTERNAL",Pt[Pt.UNAVAILABLE=14]="UNAVAILABLE",Pt[Pt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zw(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jw=new Mr([4294967295,4294967295],0);function Dv(r){const t=Zw().encode(r),i=new lE;return i.update(t),new Uint8Array(i.digest())}function Nv(r){const t=new DataView(r.buffer),i=t.getUint32(0,!0),a=t.getUint32(4,!0),o=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new Mr([i,a],0),new Mr([o,u],0)]}class Om{constructor(t,i,a){if(this.bitmap=t,this.padding=i,this.hashCount=a,i<0||i>=8)throw new go(`Invalid padding: ${i}`);if(a<0)throw new go(`Invalid hash count: ${a}`);if(t.length>0&&this.hashCount===0)throw new go(`Invalid hash count: ${a}`);if(t.length===0&&i!==0)throw new go(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=Mr.fromNumber(this.ge)}ye(t,i,a){let o=t.add(i.multiply(Mr.fromNumber(a)));return o.compare(Jw)===1&&(o=new Mr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=Dv(t),[a,o]=Nv(i);for(let u=0;u<this.hashCount;u++){const f=this.ye(a,o,u);if(!this.we(f))return!1}return!0}static create(t,i,a){const o=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),f=new Om(u,o,i);return a.forEach((m=>f.insert(m))),f}insert(t){if(this.ge===0)return;const i=Dv(t),[a,o]=Nv(i);for(let u=0;u<this.hashCount;u++){const f=this.ye(a,o,u);this.Se(f)}}Se(t){const i=Math.floor(t/8),a=t%8;this.bitmap[i]|=1<<a}}class go extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nh{constructor(t,i,a,o,u){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,i,a){const o=new Map;return o.set(t,ko.createSynthesizedTargetChangeForCurrentChange(t,i,a)),new nh(Rt.min(),o,new le(Mt),Gi(),Ut())}}class ko{constructor(t,i,a,o,u){this.resumeToken=t,this.current=i,this.addedDocuments=a,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,i,a){return new ko(a,i,Ut(),Ut(),Ut())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ac{constructor(t,i,a,o){this.be=t,this.removedTargetIds=i,this.key=a,this.De=o}}class YE{constructor(t,i){this.targetId=t,this.Ce=i}}class XE{constructor(t,i,a=He.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=i,this.resumeToken=a,this.cause=o}}class xv{constructor(){this.ve=0,this.Fe=Iv(),this.Me=He.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Ut(),i=Ut(),a=Ut();return this.Fe.forEach(((o,u)=>{switch(u){case 0:t=t.add(o);break;case 2:i=i.add(o);break;case 1:a=a.add(o);break;default:At(38017,{changeType:u})}})),new ko(this.Me,this.xe,t,i,a)}qe(){this.Oe=!1,this.Fe=Iv()}Qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,qt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class Ww{constructor(t){this.Ge=t,this.ze=new Map,this.je=Gi(),this.Je=dc(),this.He=dc(),this.Ye=new le(Mt)}Ze(t){for(const i of t.be)t.De&&t.De.isFoundDocument()?this.Xe(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,(i=>{const a=this.nt(i);switch(t.state){case 0:this.rt(i)&&a.Le(t.resumeToken);break;case 1:a.Ke(),a.Ne||a.qe(),a.Le(t.resumeToken);break;case 2:a.Ke(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.We(),a.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(t.resumeToken));break;default:At(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach(((a,o)=>{this.rt(o)&&i(o)}))}st(t){const i=t.targetId,a=t.Ce.count,o=this.ot(i);if(o){const u=o.target;if(Gd(u))if(a===0){const f=new vt(u.path);this.et(i,f,$e.newNoDocument(f,Rt.min()))}else qt(a===1,20013,{expectedCount:a});else{const f=this._t(i);if(f!==a){const m=this.ut(t),p=m?this.ct(m,t,f):1;if(p!==0){this.it(i);const y=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,y)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:o=0},hashCount:u=0}=i;let f,m;try{f=kr(a).toUint8Array()}catch(p){if(p instanceof vE)return Hs("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new Om(f,o,u)}catch(p){return Hs(p instanceof go?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.ge===0?null:m}ct(t,i,a){return i.Ce.count===a-this.Pt(t,i.targetId)?0:2}Pt(t,i){const a=this.Ge.getRemoteKeysForTarget(i);let o=0;return a.forEach((u=>{const f=this.Ge.ht(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;t.mightContain(m)||(this.et(i,u,null),o++)})),o}Tt(t){const i=new Map;this.ze.forEach(((u,f)=>{const m=this.ot(f);if(m){if(u.current&&Gd(m.target)){const p=new vt(m.target.path);this.It(p).has(f)||this.Et(f,p)||this.et(f,p,$e.newNoDocument(p,t))}u.Be&&(i.set(f,u.ke()),u.qe())}}));let a=Ut();this.He.forEach(((u,f)=>{let m=!0;f.forEachWhile((p=>{const y=this.ot(p);return!y||y.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(a=a.add(u))})),this.je.forEach(((u,f)=>f.setReadTime(t)));const o=new nh(t,i,this.Ye,this.je,a);return this.je=Gi(),this.Je=dc(),this.He=dc(),this.Ye=new le(Mt),o}Xe(t,i){if(!this.rt(t))return;const a=this.Et(t,i.key)?2:0;this.nt(t).Qe(i.key,a),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(t)),this.He=this.He.insert(i.key,this.dt(i.key).add(t))}et(t,i,a){if(!this.rt(t))return;const o=this.nt(t);this.Et(t,i)?o.Qe(i,1):o.$e(i),this.He=this.He.insert(i,this.dt(i).delete(t)),this.He=this.He.insert(i,this.dt(i).add(t)),a&&(this.je=this.je.insert(i,a))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let i=this.ze.get(t);return i||(i=new xv,this.ze.set(t,i)),i}dt(t){let i=this.He.get(t);return i||(i=new Ne(Mt),this.He=this.He.insert(t,i)),i}It(t){let i=this.Je.get(t);return i||(i=new Ne(Mt),this.Je=this.Je.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||ft("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new xv),this.Ge.getRemoteKeysForTarget(t).forEach((i=>{this.et(t,i,null)}))}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function dc(){return new le(vt.comparator)}function Iv(){return new le(vt.comparator)}const tC={asc:"ASCENDING",desc:"DESCENDING"},eC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},nC={and:"AND",or:"OR"};class iC{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function Xd(r,t){return r.useProto3Json||Kc(t)?t:{value:t}}function Pc(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function KE(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function rC(r,t){return Pc(r,t.toTimestamp())}function mi(r){return qt(!!r,49232),Rt.fromTimestamp((function(i){const a=Pr(i);return new ne(a.seconds,a.nanos)})(r))}function Mm(r,t){return Kd(r,t).canonicalString()}function Kd(r,t){const i=(function(o){return new te(["projects",o.projectId,"databases",o.database])})(r).child("documents");return t===void 0?i:i.child(t)}function $E(r){const t=te.fromString(r);return qt(e1(t),10190,{key:t.toString()}),t}function $d(r,t){return Mm(r.databaseId,t.path)}function Cd(r,t){const i=$E(t);if(i.get(1)!==r.databaseId.projectId)throw new ot(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new ot(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new vt(JE(i))}function ZE(r,t){return Mm(r.databaseId,t)}function aC(r){const t=$E(r);return t.length===4?te.emptyPath():JE(t)}function Zd(r){return new te(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function JE(r){return qt(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function Vv(r,t,i){return{name:$d(r,t),fields:i.value.mapValue.fields}}function sC(r,t){let i;if("targetChange"in t){t.targetChange;const a=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:At(39313,{state:y})})(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],u=(function(y,E){return y.useProto3Json?(qt(E===void 0||typeof E=="string",58123),He.fromBase64String(E||"")):(qt(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),He.fromUint8Array(E||new Uint8Array))})(r,t.targetChange.resumeToken),f=t.targetChange.cause,m=f&&(function(y){const E=y.code===void 0?Z.UNKNOWN:QE(y.code);return new ot(E,y.message||"")})(f);i=new XE(a,o,u,m||null)}else if("documentChange"in t){t.documentChange;const a=t.documentChange;a.document,a.document.name,a.document.updateTime;const o=Cd(r,a.document.name),u=mi(a.document.updateTime),f=a.document.createTime?mi(a.document.createTime):Rt.min(),m=new cn({mapValue:{fields:a.document.fields}}),p=$e.newFoundDocument(o,u,f,m),y=a.targetIds||[],E=a.removedTargetIds||[];i=new Ac(y,E,p.key,p)}else if("documentDelete"in t){t.documentDelete;const a=t.documentDelete;a.document;const o=Cd(r,a.document),u=a.readTime?mi(a.readTime):Rt.min(),f=$e.newNoDocument(o,u),m=a.removedTargetIds||[];i=new Ac([],m,f.key,f)}else if("documentRemove"in t){t.documentRemove;const a=t.documentRemove;a.document;const o=Cd(r,a.document),u=a.removedTargetIds||[];i=new Ac([],u,o,null)}else{if(!("filter"in t))return At(11601,{Rt:t});{t.filter;const a=t.filter;a.targetId;const{count:o=0,unchangedNames:u}=a,f=new Kw(o,u),m=a.targetId;i=new YE(m,f)}}return i}function lC(r,t){let i;if(t instanceof Po)i={update:Vv(r,t.key,t.value)};else if(t instanceof Im)i={delete:$d(r,t.key)};else if(t instanceof Gr)i={update:Vv(r,t.key,t.data),updateMask:pC(t.fieldMask)};else{if(!(t instanceof Qw))return At(16599,{Vt:t.type});i={verify:$d(r,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((a=>(function(u,f){const m=f.transform;if(m instanceof Uc)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof xo)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof Io)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Lc)return{fieldPath:f.field.canonicalString(),increment:m.Ae};throw At(20930,{transform:f.transform})})(0,a)))),t.precondition.isNone||(i.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:rC(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:At(27497)})(r,t.precondition)),i}function oC(r,t){return r&&r.length>0?(qt(t!==void 0,14353),r.map((i=>(function(o,u){let f=o.updateTime?mi(o.updateTime):mi(u);return f.isEqual(Rt.min())&&(f=mi(u)),new Hw(f,o.transformResults||[])})(i,t)))):[]}function uC(r,t){return{documents:[ZE(r,t.path)]}}function cC(r,t){const i={structuredQuery:{}},a=t.path;let o;t.collectionGroup!==null?(o=a,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=ZE(r,o);const u=(function(y){if(y.length!==0)return t1(Kn.create(y,"and"))})(t.filters);u&&(i.structuredQuery.where=u);const f=(function(y){if(y.length!==0)return y.map((E=>(function(S){return{field:js(S.field),direction:dC(S.dir)}})(E)))})(t.orderBy);f&&(i.structuredQuery.orderBy=f);const m=Xd(r,t.limit);return m!==null&&(i.structuredQuery.limit=m),t.startAt&&(i.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(t.endAt)),{ft:i,parent:o}}function hC(r){let t=aC(r.parent);const i=r.structuredQuery,a=i.from?i.from.length:0;let o=null;if(a>0){qt(a===1,65062);const E=i.from[0];E.allDescendants?o=E.collectionId:t=t.child(E.collectionId)}let u=[];i.where&&(u=(function(b){const S=WE(b);return S instanceof Kn&&NE(S)?S.getFilters():[S]})(i.where));let f=[];i.orderBy&&(f=(function(b){return b.map((S=>(function(H){return new Mc(Bs(H.field),(function(P){switch(P){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(H.direction))})(S)))})(i.orderBy));let m=null;i.limit&&(m=(function(b){let S;return S=typeof b=="object"?b.value:b,Kc(S)?null:S})(i.limit));let p=null;i.startAt&&(p=(function(b){const S=!!b.before,U=b.values||[];return new Oc(U,S)})(i.startAt));let y=null;return i.endAt&&(y=(function(b){const S=!b.before,U=b.values||[];return new Oc(U,S)})(i.endAt)),xw(t,o,f,u,m,"F",p,y)}function fC(r,t){const i=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return At(28987,{purpose:o})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function WE(r){return r.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=Bs(i.unaryFilter.field);return be.create(a,"==",{doubleValue:NaN});case"IS_NULL":const o=Bs(i.unaryFilter.field);return be.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Bs(i.unaryFilter.field);return be.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Bs(i.unaryFilter.field);return be.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return At(61313);default:return At(60726)}})(r):r.fieldFilter!==void 0?(function(i){return be.create(Bs(i.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return At(58110);default:return At(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(i){return Kn.create(i.compositeFilter.filters.map((a=>WE(a))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return At(1026)}})(i.compositeFilter.op))})(r):At(30097,{filter:r})}function dC(r){return tC[r]}function mC(r){return eC[r]}function gC(r){return nC[r]}function js(r){return{fieldPath:r.canonicalString()}}function Bs(r){return qe.fromServerFormat(r.fieldPath)}function t1(r){return r instanceof be?(function(i){if(i.op==="=="){if(vv(i.value))return{unaryFilter:{field:js(i.field),op:"IS_NAN"}};if(_v(i.value))return{unaryFilter:{field:js(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(vv(i.value))return{unaryFilter:{field:js(i.field),op:"IS_NOT_NAN"}};if(_v(i.value))return{unaryFilter:{field:js(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:js(i.field),op:mC(i.op),value:i.value}}})(r):r instanceof Kn?(function(i){const a=i.getFilters().map((o=>t1(o)));return a.length===1?a[0]:{compositeFilter:{op:gC(i.op),filters:a}}})(r):At(54877,{filter:r})}function pC(r){const t=[];return r.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function e1(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xr{constructor(t,i,a,o,u=Rt.min(),f=Rt.min(),m=He.EMPTY_BYTE_STRING,p=null){this.target=t,this.targetId=i,this.purpose=a,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(t){return new xr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new xr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new xr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new xr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yC{constructor(t){this.yt=t}}function _C(r){const t=hC({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Yd(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vC{constructor(){this.Cn=new EC}addToCollectionParentIndex(t,i){return this.Cn.add(i),W.resolve()}getCollectionParents(t,i){return W.resolve(this.Cn.getEntries(i))}addFieldIndex(t,i){return W.resolve()}deleteFieldIndex(t,i){return W.resolve()}deleteAllFieldIndexes(t){return W.resolve()}createTargetIndexes(t,i){return W.resolve()}getDocumentsMatchingTarget(t,i){return W.resolve(null)}getIndexType(t,i){return W.resolve(0)}getFieldIndexes(t,i){return W.resolve([])}getNextCollectionGroupToUpdate(t){return W.resolve(null)}getMinOffset(t,i){return W.resolve(Lr.min())}getMinOffsetFromCollectionGroup(t,i){return W.resolve(Lr.min())}updateCollectionGroup(t,i,a){return W.resolve()}updateIndexEntries(t,i){return W.resolve()}}class EC{constructor(){this.index={}}add(t){const i=t.lastSegment(),a=t.popLast(),o=this.index[i]||new Ne(te.comparator),u=!o.has(a);return this.index[i]=o.add(a),u}has(t){const i=t.lastSegment(),a=t.popLast(),o=this.index[i];return o&&o.has(a)}getEntries(t){return(this.index[t]||new Ne(te.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ov={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},n1=41943040;class un{static withCacheSize(t){return new un(t,un.DEFAULT_COLLECTION_PERCENTILE,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,a){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */un.DEFAULT_COLLECTION_PERCENTILE=10,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,un.DEFAULT=new un(n1,un.DEFAULT_COLLECTION_PERCENTILE,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),un.DISABLED=new un(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ys{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new Ys(0)}static cr(){return new Ys(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mv="LruGarbageCollector",TC=1048576;function Uv([r,t],[i,a]){const o=Mt(r,i);return o===0?Mt(t,a):o}class AC{constructor(t){this.Ir=t,this.buffer=new Ne(Uv),this.Er=0}dr(){return++this.Er}Ar(t){const i=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();Uv(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class bC{constructor(t,i,a){this.garbageCollector=t,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){ft(Mv,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){tl(i)?ft(Mv,"Ignoring IndexedDB error during garbage collection: ",i):await Ws(i)}await this.Vr(3e5)}))}}class SC{constructor(t,i){this.mr=t,this.params=i}calculateTargetCount(t,i){return this.mr.gr(t).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(t,i){if(i===0)return W.resolve(Xc.ce);const a=new AC(i);return this.mr.forEachTarget(t,(o=>a.Ar(o.sequenceNumber))).next((()=>this.mr.pr(t,(o=>a.Ar(o))))).next((()=>a.maxValue))}removeTargets(t,i,a){return this.mr.removeTargets(t,i,a)}removeOrphanedDocuments(t,i){return this.mr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(ft("LruGarbageCollector","Garbage collection skipped; disabled"),W.resolve(Ov)):this.getCacheSize(t).next((a=>a<this.params.cacheSizeCollectionThreshold?(ft("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Ov):this.yr(t,i)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,i){let a,o,u,f,m,p,y;const E=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(ft("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),o=this.params.maximumSequenceNumbersToCollect):o=b,f=Date.now(),this.nthSequenceNumber(t,o)))).next((b=>(a=b,m=Date.now(),this.removeTargets(t,a,i)))).next((b=>(u=b,p=Date.now(),this.removeOrphanedDocuments(t,a)))).next((b=>(y=Date.now(),Ps()<=kt.DEBUG&&ft("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${b} documents in `+(y-p)+`ms
Total Duration: ${y-E}ms`),W.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:b}))))}}function RC(r,t){return new SC(r,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wC{constructor(){this.changes=new za((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,$e.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?W.resolve(a):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CC{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DC{constructor(t,i,a,o){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=o}getDocument(t,i){let a=null;return this.documentOverlayCache.getOverlay(t,i).next((o=>(a=o,this.remoteDocumentCache.getEntry(t,i)))).next((o=>(a!==null&&Ao(a.mutation,o,En.empty(),ne.now()),o)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.getLocalViewOfDocuments(t,a,Ut()).next((()=>a))))}getLocalViewOfDocuments(t,i,a=Ut()){const o=Ia();return this.populateOverlays(t,o,i).next((()=>this.computeViews(t,i,o,a).next((u=>{let f=mo();return u.forEach(((m,p)=>{f=f.insert(m,p.overlayedDocument)})),f}))))}getOverlayedDocuments(t,i){const a=Ia();return this.populateOverlays(t,a,i).next((()=>this.computeViews(t,i,a,Ut())))}populateOverlays(t,i,a){const o=[];return a.forEach((u=>{i.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(t,o).next((u=>{u.forEach(((f,m)=>{i.set(f,m)}))}))}computeViews(t,i,a,o){let u=Gi();const f=To(),m=(function(){return To()})();return i.forEach(((p,y)=>{const E=a.get(y.key);o.has(y.key)&&(E===void 0||E.mutation instanceof Gr)?u=u.insert(y.key,y):E!==void 0?(f.set(y.key,E.mutation.getFieldMask()),Ao(E.mutation,y,E.mutation.getFieldMask(),ne.now())):f.set(y.key,En.empty())})),this.recalculateAndSaveOverlays(t,u).next((p=>(p.forEach(((y,E)=>f.set(y,E))),i.forEach(((y,E)=>m.set(y,new CC(E,f.get(y)??null)))),m)))}recalculateAndSaveOverlays(t,i){const a=To();let o=new le(((f,m)=>f-m)),u=Ut();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((f=>{for(const m of f)m.keys().forEach((p=>{const y=i.get(p);if(y===null)return;let E=a.get(p)||En.empty();E=m.applyToLocalView(y,E),a.set(p,E);const b=(o.get(m.batchId)||Ut()).add(p);o=o.insert(m.batchId,b)}))})).next((()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),y=p.key,E=p.value,b=kE();E.forEach((S=>{if(!u.has(S)){const U=FE(i.get(S),a.get(S));U!==null&&b.set(S,U),u=u.add(S)}})),f.push(this.documentOverlayCache.saveOverlays(t,y,b))}return W.waitFor(f)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.recalculateAndSaveOverlays(t,a)))}getDocumentsMatchingQuery(t,i,a,o){return(function(f){return vt.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):OE(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,a,o):this.getDocumentsMatchingCollectionQuery(t,i,a,o)}getNextDocuments(t,i,a,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,a,o).next((u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,a.largestBatchId,o-u.size):W.resolve(Ia());let m=wo,p=u;return f.next((y=>W.forEach(y,((E,b)=>(m<b.largestBatchId&&(m=b.largestBatchId),u.get(E)?W.resolve():this.remoteDocumentCache.getEntry(t,E).next((S=>{p=p.insert(E,S)}))))).next((()=>this.populateOverlays(t,y,u))).next((()=>this.computeViews(t,p,y,Ut()))).next((E=>({batchId:m,changes:PE(E)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new vt(i)).next((a=>{let o=mo();return a.isFoundDocument()&&(o=o.insert(a.key,a)),o}))}getDocumentsMatchingCollectionGroupQuery(t,i,a,o){const u=i.collectionGroup;let f=mo();return this.indexManager.getCollectionParents(t,u).next((m=>W.forEach(m,(p=>{const y=(function(b,S){return new Lo(S,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(i,p.child(u));return this.getDocumentsMatchingCollectionQuery(t,y,a,o).next((E=>{E.forEach(((b,S)=>{f=f.insert(b,S)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(t,i,a,o){let u;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,a.largestBatchId).next((f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,a,u,o)))).next((f=>{u.forEach(((p,y)=>{const E=y.getKey();f.get(E)===null&&(f=f.insert(E,$e.newInvalidDocument(E)))}));let m=mo();return f.forEach(((p,y)=>{const E=u.get(p);E!==void 0&&Ao(E.mutation,y,En.empty(),ne.now()),Wc(i,y)&&(m=m.insert(p,y))})),m}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NC{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,i){return W.resolve(this.Lr.get(i))}saveBundleMetadata(t,i){return this.Lr.set(i.id,(function(o){return{id:o.id,version:o.version,createTime:mi(o.createTime)}})(i)),W.resolve()}getNamedQuery(t,i){return W.resolve(this.kr.get(i))}saveNamedQuery(t,i){return this.kr.set(i.name,(function(o){return{name:o.name,query:_C(o.bundledQuery),readTime:mi(o.readTime)}})(i)),W.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xC{constructor(){this.overlays=new le(vt.comparator),this.qr=new Map}getOverlay(t,i){return W.resolve(this.overlays.get(i))}getOverlays(t,i){const a=Ia();return W.forEach(i,(o=>this.getOverlay(t,o).next((u=>{u!==null&&a.set(o,u)})))).next((()=>a))}saveOverlays(t,i,a){return a.forEach(((o,u)=>{this.St(t,i,u)})),W.resolve()}removeOverlaysForBatchId(t,i,a){const o=this.qr.get(a);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(a)),W.resolve()}getOverlaysForCollection(t,i,a){const o=Ia(),u=i.length+1,f=new vt(i.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const p=m.getNext().value,y=p.getKey();if(!i.isPrefixOf(y.path))break;y.path.length===u&&p.largestBatchId>a&&o.set(p.getKey(),p)}return W.resolve(o)}getOverlaysForCollectionGroup(t,i,a,o){let u=new le(((y,E)=>y-E));const f=this.overlays.getIterator();for(;f.hasNext();){const y=f.getNext().value;if(y.getKey().getCollectionGroup()===i&&y.largestBatchId>a){let E=u.get(y.largestBatchId);E===null&&(E=Ia(),u=u.insert(y.largestBatchId,E)),E.set(y.getKey(),y)}}const m=Ia(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((y,E)=>m.set(y,E))),!(m.size()>=o)););return W.resolve(m)}St(t,i,a){const o=this.overlays.get(a.key);if(o!==null){const f=this.qr.get(o.largestBatchId).delete(a.key);this.qr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(a.key,new Xw(i,a));let u=this.qr.get(i);u===void 0&&(u=Ut(),this.qr.set(i,u)),this.qr.set(i,u.add(a.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IC{constructor(){this.sessionToken=He.EMPTY_BYTE_STRING}getSessionToken(t){return W.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,W.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Um{constructor(){this.Qr=new Ne(Ue.$r),this.Ur=new Ne(Ue.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,i){const a=new Ue(t,i);this.Qr=this.Qr.add(a),this.Ur=this.Ur.add(a)}Wr(t,i){t.forEach((a=>this.addReference(a,i)))}removeReference(t,i){this.Gr(new Ue(t,i))}zr(t,i){t.forEach((a=>this.removeReference(a,i)))}jr(t){const i=new vt(new te([])),a=new Ue(i,t),o=new Ue(i,t+1),u=[];return this.Ur.forEachInRange([a,o],(f=>{this.Gr(f),u.push(f.key)})),u}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const i=new vt(new te([])),a=new Ue(i,t),o=new Ue(i,t+1);let u=Ut();return this.Ur.forEachInRange([a,o],(f=>{u=u.add(f.key)})),u}containsKey(t){const i=new Ue(t,0),a=this.Qr.firstAfterOrEqual(i);return a!==null&&t.isEqual(a.key)}}class Ue{constructor(t,i){this.key=t,this.Yr=i}static $r(t,i){return vt.comparator(t.key,i.key)||Mt(t.Yr,i.Yr)}static Kr(t,i){return Mt(t.Yr,i.Yr)||vt.comparator(t.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VC{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Ne(Ue.$r)}checkEmpty(t){return W.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,a,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new Yw(u,i,a,o);this.mutationQueue.push(f);for(const m of o)this.Zr=this.Zr.add(new Ue(m.key,u)),this.indexManager.addToCollectionParentIndex(t,m.key.path.popLast());return W.resolve(f)}lookupMutationBatch(t,i){return W.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(t,i){const a=i+1,o=this.ei(a),u=o<0?0:o;return W.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return W.resolve(this.mutationQueue.length===0?Rm:this.tr-1)}getAllMutationBatches(t){return W.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const a=new Ue(i,0),o=new Ue(i,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([a,o],(f=>{const m=this.Xr(f.Yr);u.push(m)})),W.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,i){let a=new Ne(Mt);return i.forEach((o=>{const u=new Ue(o,0),f=new Ue(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,f],(m=>{a=a.add(m.Yr)}))})),W.resolve(this.ti(a))}getAllMutationBatchesAffectingQuery(t,i){const a=i.path,o=a.length+1;let u=a;vt.isDocumentKey(u)||(u=u.child(""));const f=new Ue(new vt(u),0);let m=new Ne(Mt);return this.Zr.forEachWhile((p=>{const y=p.key.path;return!!a.isPrefixOf(y)&&(y.length===o&&(m=m.add(p.Yr)),!0)}),f),W.resolve(this.ti(m))}ti(t){const i=[];return t.forEach((a=>{const o=this.Xr(a);o!==null&&i.push(o)})),i}removeMutationBatch(t,i){qt(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Zr;return W.forEach(i.mutations,(o=>{const u=new Ue(o.key,i.batchId);return a=a.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)})).next((()=>{this.Zr=a}))}ir(t){}containsKey(t,i){const a=new Ue(i,0),o=this.Zr.firstAfterOrEqual(a);return W.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,W.resolve()}ni(t,i){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const i=this.ei(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OC{constructor(t){this.ri=t,this.docs=(function(){return new le(vt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const a=i.key,o=this.docs.get(a),u=o?o.size:0,f=this.ri(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(t,a.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const a=this.docs.get(i);return W.resolve(a?a.document.mutableCopy():$e.newInvalidDocument(i))}getEntries(t,i){let a=Gi();return i.forEach((o=>{const u=this.docs.get(o);a=a.insert(o,u?u.document.mutableCopy():$e.newInvalidDocument(o))})),W.resolve(a)}getDocumentsMatchingQuery(t,i,a,o){let u=Gi();const f=i.path,m=new vt(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:y,value:{document:E}}=p.getNext();if(!f.isPrefixOf(y.path))break;y.path.length>f.length+1||ow(lw(E),a)<=0||(o.has(E.key)||Wc(i,E))&&(u=u.insert(E.key,E.mutableCopy()))}return W.resolve(u)}getAllFromCollectionGroup(t,i,a,o){At(9500)}ii(t,i){return W.forEach(this.docs,(a=>i(a)))}newChangeBuffer(t){return new MC(this)}getSize(t){return W.resolve(this.size)}}class MC extends wC{constructor(t){super(),this.Nr=t}applyChanges(t){const i=[];return this.changes.forEach(((a,o)=>{o.isValidDocument()?i.push(this.Nr.addEntry(t,o)):this.Nr.removeEntry(a)})),W.waitFor(i)}getFromCache(t,i){return this.Nr.getEntry(t,i)}getAllFromCache(t,i){return this.Nr.getEntries(t,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UC{constructor(t){this.persistence=t,this.si=new za((i=>Dm(i)),Nm),this.lastRemoteSnapshotVersion=Rt.min(),this.highestTargetId=0,this.oi=0,this._i=new Um,this.targetCount=0,this.ai=Ys.ur()}forEachTarget(t,i){return this.si.forEach(((a,o)=>i(o))),W.resolve()}getLastRemoteSnapshotVersion(t){return W.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return W.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),W.resolve(this.highestTargetId)}setTargetsMetadata(t,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.oi&&(this.oi=i),W.resolve()}Pr(t){this.si.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.ai=new Ys(i),this.highestTargetId=i),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,i){return this.Pr(i),this.targetCount+=1,W.resolve()}updateTargetData(t,i){return this.Pr(i),W.resolve()}removeTargetData(t,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,W.resolve()}removeTargets(t,i,a){let o=0;const u=[];return this.si.forEach(((f,m)=>{m.sequenceNumber<=i&&a.get(m.targetId)===null&&(this.si.delete(f),u.push(this.removeMatchingKeysForTargetId(t,m.targetId)),o++)})),W.waitFor(u).next((()=>o))}getTargetCount(t){return W.resolve(this.targetCount)}getTargetData(t,i){const a=this.si.get(i)||null;return W.resolve(a)}addMatchingKeys(t,i,a){return this._i.Wr(i,a),W.resolve()}removeMatchingKeys(t,i,a){this._i.zr(i,a);const o=this.persistence.referenceDelegate,u=[];return o&&i.forEach((f=>{u.push(o.markPotentiallyOrphaned(t,f))})),W.waitFor(u)}removeMatchingKeysForTargetId(t,i){return this._i.jr(i),W.resolve()}getMatchingKeysForTargetId(t,i){const a=this._i.Hr(i);return W.resolve(a)}containsKey(t,i){return W.resolve(this._i.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i1{constructor(t,i){this.ui={},this.overlays={},this.ci=new Xc(0),this.li=!1,this.li=!0,this.hi=new IC,this.referenceDelegate=t(this),this.Pi=new UC(this),this.indexManager=new vC,this.remoteDocumentCache=(function(o){return new OC(o)})((a=>this.referenceDelegate.Ti(a))),this.serializer=new yC(i),this.Ii=new NC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new xC,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let a=this.ui[t.toKey()];return a||(a=new VC(i,this.referenceDelegate),this.ui[t.toKey()]=a),a}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,i,a){ft("MemoryPersistence","Starting transaction:",t);const o=new LC(this.ci.next());return this.referenceDelegate.Ei(),a(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(t,i){return W.or(Object.values(this.ui).map((a=>()=>a.containsKey(t,i))))}}class LC extends cw{constructor(t){super(),this.currentSequenceNumber=t}}class Lm{constructor(t){this.persistence=t,this.Ri=new Um,this.Vi=null}static mi(t){return new Lm(t)}get fi(){if(this.Vi)return this.Vi;throw At(60996)}addReference(t,i,a){return this.Ri.addReference(a,i),this.fi.delete(a.toString()),W.resolve()}removeReference(t,i,a){return this.Ri.removeReference(a,i),this.fi.add(a.toString()),W.resolve()}markPotentiallyOrphaned(t,i){return this.fi.add(i.toString()),W.resolve()}removeTarget(t,i){this.Ri.jr(i.targetId).forEach((o=>this.fi.add(o.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(t,i.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>a.removeTargetData(t,i)))}Ei(){this.Vi=new Set}di(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return W.forEach(this.fi,(a=>{const o=vt.fromPath(a);return this.gi(t,o).next((u=>{u||i.removeEntry(o,Rt.min())}))})).next((()=>(this.Vi=null,i.apply(t))))}updateLimboDocument(t,i){return this.gi(t,i).next((a=>{a?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(t){return 0}gi(t,i){return W.or([()=>W.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ai(t,i)])}}class kc{constructor(t,i){this.persistence=t,this.pi=new za((a=>dw(a.path)),((a,o)=>a.isEqual(o))),this.garbageCollector=RC(this,i)}static mi(t,i){return new kc(t,i)}Ei(){}di(t){return W.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}gr(t){const i=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((a=>i.next((o=>a+o))))}wr(t){let i=0;return this.pr(t,(a=>{i++})).next((()=>i))}pr(t,i){return W.forEach(this.pi,((a,o)=>this.br(t,a,o).next((u=>u?W.resolve():i(o)))))}removeTargets(t,i,a){return this.persistence.getTargetCache().removeTargets(t,i,a)}removeOrphanedDocuments(t,i){let a=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(t,(f=>this.br(t,f,i).next((m=>{m||(a++,u.removeEntry(f,Rt.min()))})))).next((()=>u.apply(t))).next((()=>a))}markPotentiallyOrphaned(t,i){return this.pi.set(i,t.currentSequenceNumber),W.resolve()}removeTarget(t,i){const a=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,a)}addReference(t,i,a){return this.pi.set(a,t.currentSequenceNumber),W.resolve()}removeReference(t,i,a){return this.pi.set(a,t.currentSequenceNumber),W.resolve()}updateLimboDocument(t,i){return this.pi.set(i,t.currentSequenceNumber),W.resolve()}Ti(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=vc(t.data.value)),i}br(t,i,a){return W.or([()=>this.persistence.Ai(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const o=this.pi.get(i);return W.resolve(o!==void 0&&o>a)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pm{constructor(t,i,a,o){this.targetId=t,this.fromCache=i,this.Es=a,this.ds=o}static As(t,i){let a=Ut(),o=Ut();for(const u of i.docChanges)switch(u.type){case 0:a=a.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Pm(t,i.fromCache,a,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PC{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kC{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return T2()?8:hw(v2())>0?6:4})()}initialize(t,i){this.ps=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,a,o){const u={result:null};return this.ys(t,i).next((f=>{u.result=f})).next((()=>{if(!u.result)return this.ws(t,i,o,a).next((f=>{u.result=f}))})).next((()=>{if(u.result)return;const f=new PC;return this.Ss(t,i,f).next((m=>{if(u.result=m,this.Vs)return this.bs(t,i,f,m.size)}))})).next((()=>u.result))}bs(t,i,a,o){return a.documentReadCount<this.fs?(Ps()<=kt.DEBUG&&ft("QueryEngine","SDK will not create cache indexes for query:",ks(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),W.resolve()):(Ps()<=kt.DEBUG&&ft("QueryEngine","Query:",ks(i),"scans",a.documentReadCount,"local documents and returns",o,"documents as results."),a.documentReadCount>this.gs*o?(Ps()<=kt.DEBUG&&ft("QueryEngine","The SDK decides to create cache indexes for query:",ks(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,di(i))):W.resolve())}ys(t,i){if(bv(i))return W.resolve(null);let a=di(i);return this.indexManager.getIndexType(t,a).next((o=>o===0?null:(i.limit!==null&&o===1&&(i=Yd(i,null,"F"),a=di(i)),this.indexManager.getDocumentsMatchingTarget(t,a).next((u=>{const f=Ut(...u);return this.ps.getDocuments(t,f).next((m=>this.indexManager.getMinOffset(t,a).next((p=>{const y=this.Ds(i,m);return this.Cs(i,y,f,p.readTime)?this.ys(t,Yd(i,null,"F")):this.vs(t,y,i,p)}))))})))))}ws(t,i,a,o){return bv(i)||o.isEqual(Rt.min())?W.resolve(null):this.ps.getDocuments(t,a).next((u=>{const f=this.Ds(i,u);return this.Cs(i,f,a,o)?W.resolve(null):(Ps()<=kt.DEBUG&&ft("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),ks(i)),this.vs(t,f,i,sw(o,wo)).next((m=>m)))}))}Ds(t,i){let a=new Ne(UE(t));return i.forEach(((o,u)=>{Wc(t,u)&&(a=a.add(u))})),a}Cs(t,i,a,o){if(t.limit===null)return!1;if(a.size!==i.size)return!0;const u=t.limitType==="F"?i.last():i.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(t,i,a){return Ps()<=kt.DEBUG&&ft("QueryEngine","Using full collection scan to execute query:",ks(i)),this.ps.getDocumentsMatchingQuery(t,i,Lr.min(),a)}vs(t,i,a,o){return this.ps.getDocumentsMatchingQuery(t,a,o).next((u=>(i.forEach((f=>{u=u.insert(f.key,f)})),u)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const km="LocalStore",jC=3e8;class BC{constructor(t,i,a,o){this.persistence=t,this.Fs=i,this.serializer=o,this.Ms=new le(Mt),this.xs=new za((u=>Dm(u)),Nm),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(a)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new DC(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.Ms)))}}function zC(r,t,i,a){return new BC(r,t,i,a)}async function r1(r,t){const i=Ct(r);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let o;return i.mutationQueue.getAllMutationBatches(a).next((u=>(o=u,i.Bs(t),i.mutationQueue.getAllMutationBatches(a)))).next((u=>{const f=[],m=[];let p=Ut();for(const y of o){f.push(y.batchId);for(const E of y.mutations)p=p.add(E.key)}for(const y of u){m.push(y.batchId);for(const E of y.mutations)p=p.add(E.key)}return i.localDocuments.getDocuments(a,p).next((y=>({Ls:y,removedBatchIds:f,addedBatchIds:m})))}))}))}function qC(r,t){const i=Ct(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const o=t.batch.keys(),u=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(m,p,y,E){const b=y.batch,S=b.keys();let U=W.resolve();return S.forEach((H=>{U=U.next((()=>E.getEntry(p,H))).next((X=>{const P=y.docVersions.get(H);qt(P!==null,48541),X.version.compareTo(P)<0&&(b.applyToRemoteDocument(X,y),X.isValidDocument()&&(X.setReadTime(y.commitVersion),E.addEntry(X)))}))})),U.next((()=>m.mutationQueue.removeMutationBatch(p,b)))})(i,a,t,u).next((()=>u.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,o,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(m){let p=Ut();for(let y=0;y<m.mutationResults.length;++y)m.mutationResults[y].transformResults.length>0&&(p=p.add(m.batch.mutations[y].key));return p})(t)))).next((()=>i.localDocuments.getDocuments(a,o)))}))}function a1(r){const t=Ct(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.Pi.getLastRemoteSnapshotVersion(i)))}function HC(r,t){const i=Ct(r),a=t.snapshotVersion;let o=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const f=i.Ns.newChangeBuffer({trackRemovals:!0});o=i.Ms;const m=[];t.targetChanges.forEach(((E,b)=>{const S=o.get(b);if(!S)return;m.push(i.Pi.removeMatchingKeys(u,E.removedDocuments,b).next((()=>i.Pi.addMatchingKeys(u,E.addedDocuments,b))));let U=S.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(b)!==null?U=U.withResumeToken(He.EMPTY_BYTE_STRING,Rt.min()).withLastLimboFreeSnapshotVersion(Rt.min()):E.resumeToken.approximateByteSize()>0&&(U=U.withResumeToken(E.resumeToken,a)),o=o.insert(b,U),(function(X,P,nt){return X.resumeToken.approximateByteSize()===0||P.snapshotVersion.toMicroseconds()-X.snapshotVersion.toMicroseconds()>=jC?!0:nt.addedDocuments.size+nt.modifiedDocuments.size+nt.removedDocuments.size>0})(S,U,E)&&m.push(i.Pi.updateTargetData(u,U))}));let p=Gi(),y=Ut();if(t.documentUpdates.forEach((E=>{t.resolvedLimboDocuments.has(E)&&m.push(i.persistence.referenceDelegate.updateLimboDocument(u,E))})),m.push(FC(u,f,t.documentUpdates).next((E=>{p=E.ks,y=E.qs}))),!a.isEqual(Rt.min())){const E=i.Pi.getLastRemoteSnapshotVersion(u).next((b=>i.Pi.setTargetsMetadata(u,u.currentSequenceNumber,a)));m.push(E)}return W.waitFor(m).next((()=>f.apply(u))).next((()=>i.localDocuments.getLocalViewOfDocuments(u,p,y))).next((()=>p))})).then((u=>(i.Ms=o,u)))}function FC(r,t,i){let a=Ut(),o=Ut();return i.forEach((u=>a=a.add(u))),t.getEntries(r,a).next((u=>{let f=Gi();return i.forEach(((m,p)=>{const y=u.get(m);p.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(Rt.min())?(t.removeEntry(m,p.readTime),f=f.insert(m,p)):!y.isValidDocument()||p.version.compareTo(y.version)>0||p.version.compareTo(y.version)===0&&y.hasPendingWrites?(t.addEntry(p),f=f.insert(m,p)):ft(km,"Ignoring outdated watch update for ",m,". Current version:",y.version," Watch version:",p.version)})),{ks:f,qs:o}}))}function GC(r,t){const i=Ct(r);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(t===void 0&&(t=Rm),i.mutationQueue.getNextMutationBatchAfterBatchId(a,t))))}function QC(r,t){const i=Ct(r);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let o;return i.Pi.getTargetData(a,t).next((u=>u?(o=u,W.resolve(o)):i.Pi.allocateTargetId(a).next((f=>(o=new xr(t,f,"TargetPurposeListen",a.currentSequenceNumber),i.Pi.addTargetData(a,o).next((()=>o)))))))})).then((a=>{const o=i.Ms.get(a.targetId);return(o===null||a.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(a.targetId,a),i.xs.set(t,a.targetId)),a}))}async function Jd(r,t,i){const a=Ct(r),o=a.Ms.get(t),u=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",u,(f=>a.persistence.referenceDelegate.removeTarget(f,o)))}catch(f){if(!tl(f))throw f;ft(km,`Failed to update sequence numbers for target ${t}: ${f}`)}a.Ms=a.Ms.remove(t),a.xs.delete(o.target)}function Lv(r,t,i){const a=Ct(r);let o=Rt.min(),u=Ut();return a.persistence.runTransaction("Execute query","readwrite",(f=>(function(p,y,E){const b=Ct(p),S=b.xs.get(E);return S!==void 0?W.resolve(b.Ms.get(S)):b.Pi.getTargetData(y,E)})(a,f,di(t)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,a.Pi.getMatchingKeysForTargetId(f,m.targetId).next((p=>{u=p}))})).next((()=>a.Fs.getDocumentsMatchingQuery(f,t,i?o:Rt.min(),i?u:Ut()))).next((m=>(YC(a,Vw(t),m),{documents:m,Qs:u})))))}function YC(r,t,i){let a=r.Os.get(t)||Rt.min();i.forEach(((o,u)=>{u.readTime.compareTo(a)>0&&(a=u.readTime)})),r.Os.set(t,a)}class Pv{constructor(){this.activeTargetIds=kw()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class XC{constructor(){this.Mo=new Pv,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,a){}addLocalQueryTarget(t,i=!0){return i&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,i,a){this.xo[t]=i}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new Pv,Promise.resolve()}handleUserChange(t,i,a){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KC{Oo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kv="ConnectivityMonitor";class jv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ft(kv,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){ft(kv,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mc=null;function Wd(){return mc===null?mc=(function(){return 268435456+Math.round(2147483648*Math.random())})():mc++,"0x"+mc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dd="RestConnection",$C={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class ZC{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+t.host,this.Ko=`projects/${a}/databases/${o}`,this.Wo=this.databaseId.database===Ic?`project_id=${a}`:`project_id=${a}&database_id=${o}`}Go(t,i,a,o,u){const f=Wd(),m=this.zo(t,i.toUriEncodedString());ft(Dd,`Sending RPC '${t}' ${f}:`,m,a);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,o,u);const{host:y}=new URL(m),E=Mo(y);return this.Jo(t,m,p,a,E).then((b=>(ft(Dd,`Received RPC '${t}' ${f}: `,b),b)),(b=>{throw Hs(Dd,`RPC '${t}' ${f} failed with error: `,b,"url: ",m,"request:",a),b}))}Ho(t,i,a,o,u,f){return this.Go(t,i,a,o,u)}jo(t,i,a){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Js})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((o,u)=>t[u]=o)),a&&a.headers.forEach(((o,u)=>t[u]=o))}zo(t,i){const a=$C[t];return`${this.Uo}/v1/${i}:${a}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JC{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xe="WebChannelConnection";class WC extends ZC{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,i,a,o,u){const f=Wd();return new Promise(((m,p)=>{const y=new oE;y.setWithCredentials(!0),y.listenOnce(uE.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case _c.NO_ERROR:const b=y.getResponseJson();ft(Xe,`XHR for RPC '${t}' ${f} received:`,JSON.stringify(b)),m(b);break;case _c.TIMEOUT:ft(Xe,`RPC '${t}' ${f} timed out`),p(new ot(Z.DEADLINE_EXCEEDED,"Request time out"));break;case _c.HTTP_ERROR:const S=y.getStatus();if(ft(Xe,`RPC '${t}' ${f} failed with status:`,S,"response text:",y.getResponseText()),S>0){let U=y.getResponseJson();Array.isArray(U)&&(U=U[0]);const H=U?.error;if(H&&H.status&&H.message){const X=(function(nt){const tt=nt.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(tt)>=0?tt:Z.UNKNOWN})(H.status);p(new ot(X,H.message))}else p(new ot(Z.UNKNOWN,"Server responded with status "+y.getStatus()))}else p(new ot(Z.UNAVAILABLE,"Connection failed."));break;default:At(9055,{l_:t,streamId:f,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{ft(Xe,`RPC '${t}' ${f} completed.`)}}));const E=JSON.stringify(o);ft(Xe,`RPC '${t}' ${f} sending request:`,o),y.send(i,"POST",E,a,15)}))}T_(t,i,a){const o=Wd(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],f=fE(),m=hE(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(p.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,i,a),p.encodeInitMessageHeaders=!0;const E=u.join("");ft(Xe,`Creating RPC '${t}' stream ${o}: ${E}`,p);const b=f.createWebChannel(E,p);this.I_(b);let S=!1,U=!1;const H=new JC({Yo:P=>{U?ft(Xe,`Not sending because RPC '${t}' stream ${o} is closed:`,P):(S||(ft(Xe,`Opening RPC '${t}' stream ${o} transport.`),b.open(),S=!0),ft(Xe,`RPC '${t}' stream ${o} sending:`,P),b.send(P))},Zo:()=>b.close()}),X=(P,nt,tt)=>{P.listen(nt,(it=>{try{tt(it)}catch(mt){setTimeout((()=>{throw mt}),0)}}))};return X(b,fo.EventType.OPEN,(()=>{U||(ft(Xe,`RPC '${t}' stream ${o} transport opened.`),H.o_())})),X(b,fo.EventType.CLOSE,(()=>{U||(U=!0,ft(Xe,`RPC '${t}' stream ${o} transport closed`),H.a_(),this.E_(b))})),X(b,fo.EventType.ERROR,(P=>{U||(U=!0,Hs(Xe,`RPC '${t}' stream ${o} transport errored. Name:`,P.name,"Message:",P.message),H.a_(new ot(Z.UNAVAILABLE,"The operation could not be completed")))})),X(b,fo.EventType.MESSAGE,(P=>{if(!U){const nt=P.data[0];qt(!!nt,16349);const tt=nt,it=tt?.error||tt[0]?.error;if(it){ft(Xe,`RPC '${t}' stream ${o} received error:`,it);const mt=it.status;let ht=(function(R){const w=Ae[R];if(w!==void 0)return QE(w)})(mt),ut=it.message;ht===void 0&&(ht=Z.INTERNAL,ut="Unknown error status: "+mt+" with message "+it.message),U=!0,H.a_(new ot(ht,ut)),b.close()}else ft(Xe,`RPC '${t}' stream ${o} received:`,nt),H.u_(nt)}})),X(m,cE.STAT_EVENT,(P=>{P.stat===Bd.PROXY?ft(Xe,`RPC '${t}' stream ${o} detected buffering proxy`):P.stat===Bd.NOPROXY&&ft(Xe,`RPC '${t}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{H.__()}),0),H}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((i=>i===t))}}function Nd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ih(r){return new iC(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s1{constructor(t,i,a=1e3,o=1.5,u=6e4){this.Mi=t,this.timerId=i,this.d_=a,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const i=Math.floor(this.V_+this.y_()),a=Math.max(0,Date.now()-this.f_),o=Math.max(0,i-a);o>0&&ft("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bv="PersistentStream";class l1{constructor(t,i,a,o,u,f,m,p){this.Mi=t,this.S_=a,this.b_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new s1(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===Z.RESOURCE_EXHAUSTED?(Fi(i.toString()),Fi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(i)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,o])=>{this.D_===i&&this.G_(a,o)}),(a=>{t((()=>{const o=new ot(Z.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(o)}))}))}G_(t,i){const a=this.W_(this.D_);this.stream=this.j_(t,i),this.stream.Xo((()=>{a((()=>this.listener.Xo()))})),this.stream.t_((()=>{a((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{a((()=>this.z_(o)))})),this.stream.onMessage((o=>{a((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return ft(Bv,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return i=>{this.Mi.enqueueAndForget((()=>this.D_===t?i():(ft(Bv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class t4 extends l1{constructor(t,i,a,o,u,f){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,o,f),this.serializer=u}j_(t,i){return this.connection.T_("Listen",t,i)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=sC(this.serializer,t),a=(function(u){if(!("targetChange"in u))return Rt.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?Rt.min():f.readTime?mi(f.readTime):Rt.min()})(t);return this.listener.H_(i,a)}Y_(t){const i={};i.database=Zd(this.serializer),i.addTarget=(function(u,f){let m;const p=f.target;if(m=Gd(p)?{documents:uC(u,p)}:{query:cC(u,p).ft},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=KE(u,f.resumeToken);const y=Xd(u,f.expectedCount);y!==null&&(m.expectedCount=y)}else if(f.snapshotVersion.compareTo(Rt.min())>0){m.readTime=Pc(u,f.snapshotVersion.toTimestamp());const y=Xd(u,f.expectedCount);y!==null&&(m.expectedCount=y)}return m})(this.serializer,t);const a=fC(this.serializer,t);a&&(i.labels=a),this.q_(i)}Z_(t){const i={};i.database=Zd(this.serializer),i.removeTarget=t,this.q_(i)}}class e4 extends l1{constructor(t,i,a,o,u,f){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,o,f),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}J_(t){return qt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,qt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){qt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=oC(t.writeResults,t.commitTime),a=mi(t.commitTime);return this.listener.na(a,i)}ra(){const t={};t.database=Zd(this.serializer),this.q_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map((a=>lC(this.serializer,a)))};this.q_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n4{}class i4 extends n4{constructor(t,i,a,o){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=a,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ot(Z.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,i,a,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Go(t,Kd(i,a),o,u,f))).catch((u=>{throw u.name==="FirebaseError"?(u.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ot(Z.UNKNOWN,u.toString())}))}Ho(t,i,a,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,m])=>this.connection.Ho(t,Kd(i,a),o,f,m,u))).catch((f=>{throw f.name==="FirebaseError"?(f.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new ot(Z.UNKNOWN,f.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class r4{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Fi(i),this.aa=!1):ft("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ja="RemoteStore";class a4{constructor(t,i,a,o,u){this.localStore=t,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((f=>{a.enqueueAndForget((async()=>{qa(this)&&(ft(ja,"Restarting streams for network reachability change."),await(async function(p){const y=Ct(p);y.Ea.add(4),await jo(y),y.Ra.set("Unknown"),y.Ea.delete(4),await rh(y)})(this))}))})),this.Ra=new r4(a,o)}}async function rh(r){if(qa(r))for(const t of r.da)await t(!0)}async function jo(r){for(const t of r.da)await t(!1)}function o1(r,t){const i=Ct(r);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),qm(i)?zm(i):el(i).O_()&&Bm(i,t))}function jm(r,t){const i=Ct(r),a=el(i);i.Ia.delete(t),a.O_()&&u1(i,t),i.Ia.size===0&&(a.O_()?a.L_():qa(i)&&i.Ra.set("Unknown"))}function Bm(r,t){if(r.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Rt.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}el(r).Y_(t)}function u1(r,t){r.Va.Ue(t),el(r).Z_(t)}function zm(r){r.Va=new Ww({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),At:t=>r.Ia.get(t)||null,ht:()=>r.datastore.serializer.databaseId}),el(r).start(),r.Ra.ua()}function qm(r){return qa(r)&&!el(r).x_()&&r.Ia.size>0}function qa(r){return Ct(r).Ea.size===0}function c1(r){r.Va=void 0}async function s4(r){r.Ra.set("Online")}async function l4(r){r.Ia.forEach(((t,i)=>{Bm(r,t)}))}async function o4(r,t){c1(r),qm(r)?(r.Ra.ha(t),zm(r)):r.Ra.set("Unknown")}async function u4(r,t,i){if(r.Ra.set("Online"),t instanceof XE&&t.state===2&&t.cause)try{await(async function(o,u){const f=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.Ia.delete(m),o.Va.removeTarget(m))})(r,t)}catch(a){ft(ja,"Failed to remove targets %s: %s ",t.targetIds.join(","),a),await jc(r,a)}else if(t instanceof Ac?r.Va.Ze(t):t instanceof YE?r.Va.st(t):r.Va.tt(t),!i.isEqual(Rt.min()))try{const a=await a1(r.localStore);i.compareTo(a)>=0&&await(function(u,f){const m=u.Va.Tt(f);return m.targetChanges.forEach(((p,y)=>{if(p.resumeToken.approximateByteSize()>0){const E=u.Ia.get(y);E&&u.Ia.set(y,E.withResumeToken(p.resumeToken,f))}})),m.targetMismatches.forEach(((p,y)=>{const E=u.Ia.get(p);if(!E)return;u.Ia.set(p,E.withResumeToken(He.EMPTY_BYTE_STRING,E.snapshotVersion)),u1(u,p);const b=new xr(E.target,p,y,E.sequenceNumber);Bm(u,b)})),u.remoteSyncer.applyRemoteEvent(m)})(r,i)}catch(a){ft(ja,"Failed to raise snapshot:",a),await jc(r,a)}}async function jc(r,t,i){if(!tl(t))throw t;r.Ea.add(1),await jo(r),r.Ra.set("Offline"),i||(i=()=>a1(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{ft(ja,"Retrying IndexedDB access"),await i(),r.Ea.delete(1),await rh(r)}))}function h1(r,t){return t().catch((i=>jc(r,i,t)))}async function ah(r){const t=Ct(r),i=Br(t);let a=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Rm;for(;c4(t);)try{const o=await GC(t.localStore,a);if(o===null){t.Ta.length===0&&i.L_();break}a=o.batchId,h4(t,o)}catch(o){await jc(t,o)}f1(t)&&d1(t)}function c4(r){return qa(r)&&r.Ta.length<10}function h4(r,t){r.Ta.push(t);const i=Br(r);i.O_()&&i.X_&&i.ea(t.mutations)}function f1(r){return qa(r)&&!Br(r).x_()&&r.Ta.length>0}function d1(r){Br(r).start()}async function f4(r){Br(r).ra()}async function d4(r){const t=Br(r);for(const i of r.Ta)t.ea(i.mutations)}async function m4(r,t,i){const a=r.Ta.shift(),o=Vm.from(a,t,i);await h1(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await ah(r)}async function g4(r,t){t&&Br(r).X_&&await(async function(a,o){if((function(f){return $w(f)&&f!==Z.ABORTED})(o.code)){const u=a.Ta.shift();Br(a).B_(),await h1(a,(()=>a.remoteSyncer.rejectFailedWrite(u.batchId,o))),await ah(a)}})(r,t),f1(r)&&d1(r)}async function zv(r,t){const i=Ct(r);i.asyncQueue.verifyOperationInProgress(),ft(ja,"RemoteStore received new credentials");const a=qa(i);i.Ea.add(3),await jo(i),a&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await rh(i)}async function p4(r,t){const i=Ct(r);t?(i.Ea.delete(2),await rh(i)):t||(i.Ea.add(2),await jo(i),i.Ra.set("Unknown"))}function el(r){return r.ma||(r.ma=(function(i,a,o){const u=Ct(i);return u.sa(),new t4(a,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Xo:s4.bind(null,r),t_:l4.bind(null,r),r_:o4.bind(null,r),H_:u4.bind(null,r)}),r.da.push((async t=>{t?(r.ma.B_(),qm(r)?zm(r):r.Ra.set("Unknown")):(await r.ma.stop(),c1(r))}))),r.ma}function Br(r){return r.fa||(r.fa=(function(i,a,o){const u=Ct(i);return u.sa(),new e4(a,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:f4.bind(null,r),r_:g4.bind(null,r),ta:d4.bind(null,r),na:m4.bind(null,r)}),r.da.push((async t=>{t?(r.fa.B_(),await ah(r)):(await r.fa.stop(),r.Ta.length>0&&(ft(ja,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hm{constructor(t,i,a,o,u){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=a,this.op=o,this.removalCallback=u,this.deferred=new zi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,a,o,u){const f=Date.now()+a,m=new Hm(t,i,f,o,u);return m.start(a),m}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ot(Z.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Fm(r,t){if(Fi("AsyncQueue",`${t}: ${r}`),tl(r))return new ot(Z.UNAVAILABLE,`${t}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zs{static emptySet(t){return new zs(t.comparator)}constructor(t){this.comparator=t?(i,a)=>t(i,a)||vt.comparator(i.key,a.key):(i,a)=>vt.comparator(i.key,a.key),this.keyedMap=mo(),this.sortedSet=new le(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,a)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof zs)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),a=t.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,u=a.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const a=new zs;return a.comparator=this.comparator,a.keyedMap=t,a.sortedSet=i,a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qv{constructor(){this.ga=new le(vt.comparator)}track(t){const i=t.doc.key,a=this.ga.get(i);a?t.type!==0&&a.type===3?this.ga=this.ga.insert(i,t):t.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:t.doc}):t.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&a.type===0?this.ga=this.ga.remove(i):t.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):t.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):At(63341,{Rt:t,pa:a}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal(((i,a)=>{t.push(a)})),t}}class Xs{constructor(t,i,a,o,u,f,m,p,y){this.query=t,this.docs=i,this.oldDocs=a,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=y}static fromInitialDocuments(t,i,a,o,u){const f=[];return i.forEach((m=>{f.push({type:0,doc:m})})),new Xs(t,i,zs.emptySet(i),f,a,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Jc(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,a=t.docChanges;if(i.length!==a.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==a[o].type||!i[o].doc.isEqual(a[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y4{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class _4{constructor(){this.queries=Hv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const o=Ct(i),u=o.queries;o.queries=Hv(),u.forEach(((f,m)=>{for(const p of m.Sa)p.onError(a)}))})(this,new ot(Z.ABORTED,"Firestore shutting down"))}}function Hv(){return new za((r=>ME(r)),Jc)}async function Gm(r,t){const i=Ct(r);let a=3;const o=t.query;let u=i.queries.get(o);u?!u.ba()&&t.Da()&&(a=2):(u=new y4,a=t.Da()?0:1);try{switch(a){case 0:u.wa=await i.onListen(o,!0);break;case 1:u.wa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(f){const m=Fm(f,`Initialization of query '${ks(t.query)}' failed`);return void t.onError(m)}i.queries.set(o,u),u.Sa.push(t),t.va(i.onlineState),u.wa&&t.Fa(u.wa)&&Ym(i)}async function Qm(r,t){const i=Ct(r),a=t.query;let o=3;const u=i.queries.get(a);if(u){const f=u.Sa.indexOf(t);f>=0&&(u.Sa.splice(f,1),u.Sa.length===0?o=t.Da()?0:1:!u.ba()&&t.Da()&&(o=2))}switch(o){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function v4(r,t){const i=Ct(r);let a=!1;for(const o of t){const u=o.query,f=i.queries.get(u);if(f){for(const m of f.Sa)m.Fa(o)&&(a=!0);f.wa=o}}a&&Ym(i)}function E4(r,t,i){const a=Ct(r),o=a.queries.get(t);if(o)for(const u of o.Sa)u.onError(i);a.queries.delete(t)}function Ym(r){r.Ca.forEach((t=>{t.next()}))}var tm,Fv;(Fv=tm||(tm={})).Ma="default",Fv.Cache="cache";class Xm{constructor(t,i,a){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(t){if(!this.options.includeMetadataChanges){const a=[];for(const o of t.docChanges)o.type!==3&&a.push(o);t=new Xs(t.query,t.docs,t.oldDocs,a,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.qa||!a)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=Xs.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==tm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m1{constructor(t){this.key=t}}class g1{constructor(t){this.key=t}}class T4{constructor(t,i){this.query=t,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ut(),this.mutatedKeys=Ut(),this.eu=UE(t),this.tu=new zs(this.eu)}get nu(){return this.Ya}ru(t,i){const a=i?i.iu:new qv,o=i?i.tu:this.tu;let u=i?i.mutatedKeys:this.mutatedKeys,f=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal(((E,b)=>{const S=o.get(E),U=Wc(this.query,b)?b:null,H=!!S&&this.mutatedKeys.has(S.key),X=!!U&&(U.hasLocalMutations||this.mutatedKeys.has(U.key)&&U.hasCommittedMutations);let P=!1;S&&U?S.data.isEqual(U.data)?H!==X&&(a.track({type:3,doc:U}),P=!0):this.su(S,U)||(a.track({type:2,doc:U}),P=!0,(p&&this.eu(U,p)>0||y&&this.eu(U,y)<0)&&(m=!0)):!S&&U?(a.track({type:0,doc:U}),P=!0):S&&!U&&(a.track({type:1,doc:S}),P=!0,(p||y)&&(m=!0)),P&&(U?(f=f.add(U),u=X?u.add(E):u.delete(E)):(f=f.delete(E),u=u.delete(E)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),u=u.delete(E.key),a.track({type:1,doc:E})}return{tu:f,iu:a,Cs:m,mutatedKeys:u}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,a,o){const u=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const f=t.iu.ya();f.sort(((E,b)=>(function(U,H){const X=P=>{switch(P){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return At(20277,{Rt:P})}};return X(U)-X(H)})(E.type,b.type)||this.eu(E.doc,b.doc))),this.ou(a),o=o??!1;const m=i&&!o?this._u():[],p=this.Xa.size===0&&this.current&&!o?1:0,y=p!==this.Za;return this.Za=p,f.length!==0||y?{snapshot:new Xs(this.query,t.tu,u,f,t.mutatedKeys,p===0,y,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new qv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Ut(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Xa=this.Xa.add(a.key))}));const i=[];return t.forEach((a=>{this.Xa.has(a)||i.push(new g1(a))})),this.Xa.forEach((a=>{t.has(a)||i.push(new m1(a))})),i}cu(t){this.Ya=t.Qs,this.Xa=Ut();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return Xs.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Km="SyncEngine";class A4{constructor(t,i,a){this.query=t,this.targetId=i,this.view=a}}class b4{constructor(t){this.key=t,this.hu=!1}}class S4{constructor(t,i,a,o,u,f){this.localStore=t,this.remoteStore=i,this.eventManager=a,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new za((m=>ME(m)),Jc),this.Iu=new Map,this.Eu=new Set,this.du=new le(vt.comparator),this.Au=new Map,this.Ru=new Um,this.Vu={},this.mu=new Map,this.fu=Ys.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function R4(r,t,i=!0){const a=T1(r);let o;const u=a.Tu.get(t);return u?(a.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await p1(a,t,i,!0),o}async function w4(r,t){const i=T1(r);await p1(i,t,!0,!1)}async function p1(r,t,i,a){const o=await QC(r.localStore,di(t)),u=o.targetId,f=r.sharedClientState.addLocalQueryTarget(u,i);let m;return a&&(m=await C4(r,t,u,f==="current",o.resumeToken)),r.isPrimaryClient&&i&&o1(r.remoteStore,o),m}async function C4(r,t,i,a,o){r.pu=(b,S,U)=>(async function(X,P,nt,tt){let it=P.view.ru(nt);it.Cs&&(it=await Lv(X.localStore,P.query,!1).then((({documents:N})=>P.view.ru(N,it))));const mt=tt&&tt.targetChanges.get(P.targetId),ht=tt&&tt.targetMismatches.get(P.targetId)!=null,ut=P.view.applyChanges(it,X.isPrimaryClient,mt,ht);return Qv(X,P.targetId,ut.au),ut.snapshot})(r,b,S,U);const u=await Lv(r.localStore,t,!0),f=new T4(t,u.Qs),m=f.ru(u.documents),p=ko.createSynthesizedTargetChangeForCurrentChange(i,a&&r.onlineState!=="Offline",o),y=f.applyChanges(m,r.isPrimaryClient,p);Qv(r,i,y.au);const E=new A4(t,i,f);return r.Tu.set(t,E),r.Iu.has(i)?r.Iu.get(i).push(t):r.Iu.set(i,[t]),y.snapshot}async function D4(r,t,i){const a=Ct(r),o=a.Tu.get(t),u=a.Iu.get(o.targetId);if(u.length>1)return a.Iu.set(o.targetId,u.filter((f=>!Jc(f,t)))),void a.Tu.delete(t);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(o.targetId),a.sharedClientState.isActiveQueryTarget(o.targetId)||await Jd(a.localStore,o.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(o.targetId),i&&jm(a.remoteStore,o.targetId),em(a,o.targetId)})).catch(Ws)):(em(a,o.targetId),await Jd(a.localStore,o.targetId,!0))}async function N4(r,t){const i=Ct(r),a=i.Tu.get(t),o=i.Iu.get(a.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),jm(i.remoteStore,a.targetId))}async function x4(r,t,i){const a=P4(r);try{const o=await(function(f,m){const p=Ct(f),y=ne.now(),E=m.reduce(((U,H)=>U.add(H.key)),Ut());let b,S;return p.persistence.runTransaction("Locally write mutations","readwrite",(U=>{let H=Gi(),X=Ut();return p.Ns.getEntries(U,E).next((P=>{H=P,H.forEach(((nt,tt)=>{tt.isValidDocument()||(X=X.add(nt))}))})).next((()=>p.localDocuments.getOverlayedDocuments(U,H))).next((P=>{b=P;const nt=[];for(const tt of m){const it=Gw(tt,b.get(tt.key).overlayedDocument);it!=null&&nt.push(new Gr(tt.key,it,wE(it.value.mapValue),Yn.exists(!0)))}return p.mutationQueue.addMutationBatch(U,y,nt,m)})).next((P=>{S=P;const nt=P.applyToLocalDocumentSet(b,X);return p.documentOverlayCache.saveOverlays(U,P.batchId,nt)}))})).then((()=>({batchId:S.batchId,changes:PE(b)})))})(a.localStore,t);a.sharedClientState.addPendingMutation(o.batchId),(function(f,m,p){let y=f.Vu[f.currentUser.toKey()];y||(y=new le(Mt)),y=y.insert(m,p),f.Vu[f.currentUser.toKey()]=y})(a,o.batchId,i),await Bo(a,o.changes),await ah(a.remoteStore)}catch(o){const u=Fm(o,"Failed to persist write");i.reject(u)}}async function y1(r,t){const i=Ct(r);try{const a=await HC(i.localStore,t);t.targetChanges.forEach(((o,u)=>{const f=i.Au.get(u);f&&(qt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.hu=!0:o.modifiedDocuments.size>0?qt(f.hu,14607):o.removedDocuments.size>0&&(qt(f.hu,42227),f.hu=!1))})),await Bo(i,a,t)}catch(a){await Ws(a)}}function Gv(r,t,i){const a=Ct(r);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const o=[];a.Tu.forEach(((u,f)=>{const m=f.view.va(t);m.snapshot&&o.push(m.snapshot)})),(function(f,m){const p=Ct(f);p.onlineState=m;let y=!1;p.queries.forEach(((E,b)=>{for(const S of b.Sa)S.va(m)&&(y=!0)})),y&&Ym(p)})(a.eventManager,t),o.length&&a.Pu.H_(o),a.onlineState=t,a.isPrimaryClient&&a.sharedClientState.setOnlineState(t)}}async function I4(r,t,i){const a=Ct(r);a.sharedClientState.updateQueryState(t,"rejected",i);const o=a.Au.get(t),u=o&&o.key;if(u){let f=new le(vt.comparator);f=f.insert(u,$e.newNoDocument(u,Rt.min()));const m=Ut().add(u),p=new nh(Rt.min(),new Map,new le(Mt),f,m);await y1(a,p),a.du=a.du.remove(u),a.Au.delete(t),$m(a)}else await Jd(a.localStore,t,!1).then((()=>em(a,t,i))).catch(Ws)}async function V4(r,t){const i=Ct(r),a=t.batch.batchId;try{const o=await qC(i.localStore,t);v1(i,a,null),_1(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await Bo(i,o)}catch(o){await Ws(o)}}async function O4(r,t,i){const a=Ct(r);try{const o=await(function(f,m){const p=Ct(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let E;return p.mutationQueue.lookupMutationBatch(y,m).next((b=>(qt(b!==null,37113),E=b.keys(),p.mutationQueue.removeMutationBatch(y,b)))).next((()=>p.mutationQueue.performConsistencyCheck(y))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(y,E,m))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,E))).next((()=>p.localDocuments.getDocuments(y,E)))}))})(a.localStore,t);v1(a,t,i),_1(a,t),a.sharedClientState.updateMutationState(t,"rejected",i),await Bo(a,o)}catch(o){await Ws(o)}}function _1(r,t){(r.mu.get(t)||[]).forEach((i=>{i.resolve()})),r.mu.delete(t)}function v1(r,t,i){const a=Ct(r);let o=a.Vu[a.currentUser.toKey()];if(o){const u=o.get(t);u&&(i?u.reject(i):u.resolve(),o=o.remove(t)),a.Vu[a.currentUser.toKey()]=o}}function em(r,t,i=null){r.sharedClientState.removeLocalQueryTarget(t);for(const a of r.Iu.get(t))r.Tu.delete(a),i&&r.Pu.yu(a,i);r.Iu.delete(t),r.isPrimaryClient&&r.Ru.jr(t).forEach((a=>{r.Ru.containsKey(a)||E1(r,a)}))}function E1(r,t){r.Eu.delete(t.path.canonicalString());const i=r.du.get(t);i!==null&&(jm(r.remoteStore,i),r.du=r.du.remove(t),r.Au.delete(i),$m(r))}function Qv(r,t,i){for(const a of i)a instanceof m1?(r.Ru.addReference(a.key,t),M4(r,a)):a instanceof g1?(ft(Km,"Document no longer in limbo: "+a.key),r.Ru.removeReference(a.key,t),r.Ru.containsKey(a.key)||E1(r,a.key)):At(19791,{wu:a})}function M4(r,t){const i=t.key,a=i.path.canonicalString();r.du.get(i)||r.Eu.has(a)||(ft(Km,"New document in limbo: "+i),r.Eu.add(a),$m(r))}function $m(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const t=r.Eu.values().next().value;r.Eu.delete(t);const i=new vt(te.fromString(t)),a=r.fu.next();r.Au.set(a,new b4(i)),r.du=r.du.insert(i,a),o1(r.remoteStore,new xr(di(Zc(i.path)),a,"TargetPurposeLimboResolution",Xc.ce))}}async function Bo(r,t,i){const a=Ct(r),o=[],u=[],f=[];a.Tu.isEmpty()||(a.Tu.forEach(((m,p)=>{f.push(a.pu(p,t,i).then((y=>{if((y||i)&&a.isPrimaryClient){const E=y?!y.fromCache:i?.targetChanges.get(p.targetId)?.current;a.sharedClientState.updateQueryState(p.targetId,E?"current":"not-current")}if(y){o.push(y);const E=Pm.As(p.targetId,y);u.push(E)}})))})),await Promise.all(f),a.Pu.H_(o),await(async function(p,y){const E=Ct(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>W.forEach(y,(S=>W.forEach(S.Es,(U=>E.persistence.referenceDelegate.addReference(b,S.targetId,U))).next((()=>W.forEach(S.ds,(U=>E.persistence.referenceDelegate.removeReference(b,S.targetId,U)))))))))}catch(b){if(!tl(b))throw b;ft(km,"Failed to update sequence numbers: "+b)}for(const b of y){const S=b.targetId;if(!b.fromCache){const U=E.Ms.get(S),H=U.snapshotVersion,X=U.withLastLimboFreeSnapshotVersion(H);E.Ms=E.Ms.insert(S,X)}}})(a.localStore,u))}async function U4(r,t){const i=Ct(r);if(!i.currentUser.isEqual(t)){ft(Km,"User change. New user:",t.toKey());const a=await r1(i.localStore,t);i.currentUser=t,(function(u,f){u.mu.forEach((m=>{m.forEach((p=>{p.reject(new ot(Z.CANCELLED,f))}))})),u.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,a.removedBatchIds,a.addedBatchIds),await Bo(i,a.Ls)}}function L4(r,t){const i=Ct(r),a=i.Au.get(t);if(a&&a.hu)return Ut().add(a.key);{let o=Ut();const u=i.Iu.get(t);if(!u)return o;for(const f of u){const m=i.Tu.get(f);o=o.unionWith(m.view.nu)}return o}}function T1(r){const t=Ct(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=y1.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=L4.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=I4.bind(null,t),t.Pu.H_=v4.bind(null,t.eventManager),t.Pu.yu=E4.bind(null,t.eventManager),t}function P4(r){const t=Ct(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=V4.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=O4.bind(null,t),t}class Bc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=ih(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return zC(this.persistence,new kC,t.initialUser,this.serializer)}Cu(t){return new i1(Lm.mi,this.serializer)}Du(t){return new XC}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Bc.provider={build:()=>new Bc};class k4 extends Bc{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){qt(this.persistence.referenceDelegate instanceof kc,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new bC(a,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?un.withCacheSize(this.cacheSizeBytes):un.DEFAULT;return new i1((a=>kc.mi(a,i)),this.serializer)}}class nm{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>Gv(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=U4.bind(null,this.syncEngine),await p4(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new _4})()}createDatastore(t){const i=ih(t.databaseInfo.databaseId),a=(function(u){return new WC(u)})(t.databaseInfo);return(function(u,f,m,p){return new i4(u,f,m,p)})(t.authCredentials,t.appCheckCredentials,a,i)}createRemoteStore(t){return(function(a,o,u,f,m){return new a4(a,o,u,f,m)})(this.localStore,this.datastore,t.asyncQueue,(i=>Gv(this.syncEngine,i,0)),(function(){return jv.v()?new jv:new KC})())}createSyncEngine(t,i){return(function(o,u,f,m,p,y,E){const b=new S4(o,u,f,m,p,y);return E&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const a=Ct(i);ft(ja,"RemoteStore shutting down."),a.Ea.add(5),await jo(a),a.Aa.shutdown(),a.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}nm.provider={build:()=>new nm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zm{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):Fi("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zr="FirestoreClient";class j4{constructor(t,i,a,o,u){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=o,this.user=Ke.UNAUTHENTICATED,this.clientId=Sm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(a,(async f=>{ft(zr,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(a,(f=>(ft(zr,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new zi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const a=Fm(i,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}async function xd(r,t){r.asyncQueue.verifyOperationInProgress(),ft(zr,"Initializing OfflineComponentProvider");const i=r.configuration;await t.initialize(i);let a=i.initialUser;r.setCredentialChangeListener((async o=>{a.isEqual(o)||(await r1(t.localStore,o),a=o)})),t.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=t}async function Yv(r,t){r.asyncQueue.verifyOperationInProgress();const i=await B4(r);ft(zr,"Initializing OnlineComponentProvider"),await t.initialize(i,r.configuration),r.setCredentialChangeListener((a=>zv(t.remoteStore,a))),r.setAppCheckTokenChangeListener(((a,o)=>zv(t.remoteStore,o))),r._onlineComponents=t}async function B4(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ft(zr,"Using user provided OfflineComponentProvider");try{await xd(r,r._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(o){return o.name==="FirebaseError"?o.code===Z.FAILED_PRECONDITION||o.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(i))throw i;Hs("Error using user provided cache. Falling back to memory cache: "+i),await xd(r,new Bc)}}else ft(zr,"Using default OfflineComponentProvider"),await xd(r,new k4(void 0));return r._offlineComponents}async function A1(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ft(zr,"Using user provided OnlineComponentProvider"),await Yv(r,r._uninitializedComponentsProvider._online)):(ft(zr,"Using default OnlineComponentProvider"),await Yv(r,new nm))),r._onlineComponents}function z4(r){return A1(r).then((t=>t.syncEngine))}async function zc(r){const t=await A1(r),i=t.eventManager;return i.onListen=R4.bind(null,t.syncEngine),i.onUnlisten=D4.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=w4.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=N4.bind(null,t.syncEngine),i}function q4(r,t,i={}){const a=new zi;return r.asyncQueue.enqueueAndForget((async()=>(function(u,f,m,p,y){const E=new Zm({next:S=>{E.Nu(),f.enqueueAndForget((()=>Qm(u,b)));const U=S.docs.has(m);!U&&S.fromCache?y.reject(new ot(Z.UNAVAILABLE,"Failed to get document because the client is offline.")):U&&S.fromCache&&p&&p.source==="server"?y.reject(new ot(Z.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(S)},error:S=>y.reject(S)}),b=new Xm(Zc(m.path),E,{includeMetadataChanges:!0,qa:!0});return Gm(u,b)})(await zc(r),r.asyncQueue,t,i,a))),a.promise}function H4(r,t,i={}){const a=new zi;return r.asyncQueue.enqueueAndForget((async()=>(function(u,f,m,p,y){const E=new Zm({next:S=>{E.Nu(),f.enqueueAndForget((()=>Qm(u,b))),S.fromCache&&p.source==="server"?y.reject(new ot(Z.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(S)},error:S=>y.reject(S)}),b=new Xm(m,E,{includeMetadataChanges:!0,qa:!0});return Gm(u,b)})(await zc(r),r.asyncQueue,t,i,a))),a.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b1(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xv=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S1="firestore.googleapis.com",Kv=!0;class $v{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new ot(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=S1,this.ssl=Kv}else this.host=t.host,this.ssl=t.ssl??Kv;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=n1;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<TC)throw new ot(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}aw("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=b1(t.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new ot(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new ot(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new ot(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(a,o){return a.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class sh{constructor(t,i,a,o){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=a,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new $v({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ot(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ot(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new $v(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new KR;switch(a.type){case"firstParty":return new WR(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new ot(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=Xv.get(i);a&&(ft("ComponentProvider","Removing Datastore"),Xv.delete(i),a.terminate())})(this),Promise.resolve()}}function F4(r,t,i,a={}){r=Mn(r,sh);const o=Mo(t),u=r._getSettings(),f={...u,emulatorOptions:r._getEmulatorOptions()},m=`${t}:${i}`;o&&(N0(`https://${m}`),I0("Firestore",!0)),u.host!==S1&&u.host!==m&&Hs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...u,host:m,ssl:o,emulatorOptions:a};if(!Dc(p,f)&&(r._setSettings(p),a.mockUserToken)){let y,E;if(typeof a.mockUserToken=="string")y=a.mockUserToken,E=Ke.MOCK_USER;else{y=x0(a.mockUserToken,r._app?.options.projectId);const b=a.mockUserToken.sub||a.mockUserToken.user_id;if(!b)throw new ot(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new Ke(b)}r._authCredentials=new $R(new mE(y,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ha{constructor(t,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=t}withConverter(t){return new Ha(this.firestore,t,this._query)}}class ve{constructor(t,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ur(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new ve(this.firestore,t,this._key)}toJSON(){return{type:ve._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,a){if(Uo(i,ve._jsonSchema))return new ve(t,a||null,new vt(te.fromString(i.referencePath)))}}ve._jsonSchemaVersion="firestore/documentReference/1.0",ve._jsonSchema={type:Se("string",ve._jsonSchemaVersion),referencePath:Se("string")};class Ur extends Ha{constructor(t,i,a){super(t,i,Zc(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new ve(this.firestore,null,new vt(t))}withConverter(t){return new Ur(this.firestore,t,this._path)}}function Ma(r,t,...i){if(r=rn(r),gE("collection","path",t),r instanceof sh){const a=te.fromString(t,...i);return uv(a),new Ur(r,null,a)}{if(!(r instanceof ve||r instanceof Ur))throw new ot(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(te.fromString(t,...i));return uv(a),new Ur(r.firestore,null,a)}}function Jm(r,t,...i){if(r=rn(r),arguments.length===1&&(t=Sm.newId()),gE("doc","path",t),r instanceof sh){const a=te.fromString(t,...i);return ov(a),new ve(r,null,new vt(a))}{if(!(r instanceof ve||r instanceof Ur))throw new ot(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(te.fromString(t,...i));return ov(a),new ve(r.firestore,r instanceof Ur?r.converter:null,new vt(a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zv="AsyncQueue";class Jv{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new s1(this,"async_queue_retry"),this._c=()=>{const a=Nd();a&&ft(Zv,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=t;const i=Nd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=Nd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new zi;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!tl(t))throw t;ft(Zv,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((a=>{throw this.nc=a,this.rc=!1,Fi("INTERNAL UNHANDLED ERROR: ",Wv(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(t,i,a){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const o=Hm.createAndSchedule(this,t,i,a,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&At(47125,{Pc:Wv(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function Wv(r){let t=r.message||"";return r.stack&&(t=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t0(r){return(function(i,a){if(typeof i!="object"||i===null)return!1;const o=i;for(const u of a)if(u in o&&typeof o[u]=="function")return!0;return!1})(r,["next","error","complete"])}class qr extends sh{constructor(t,i,a,o){super(t,i,a,o),this.type="firestore",this._queue=new Jv,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new Jv(t),this._firestoreClient=void 0,await t}}}function Wm(r,t){const i=typeof r=="object"?r:j0(),a=typeof r=="string"?r:Ic,o=L0(i,"firestore").getImmediate({identifier:a});if(!o._initialized){const u=C0("firestore");u&&F4(o,...u)}return o}function lh(r){if(r._terminated)throw new ot(Z.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||G4(r),r._firestoreClient}function G4(r){const t=r._freezeSettings(),i=(function(o,u,f,m){return new pw(o,u,f,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,b1(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,t);r._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),r._firestoreClient=new j4(r._authCredentials,r._appCheckCredentials,r._queue,i,r._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class On{constructor(t){this._byteString=t}static fromBase64String(t){try{return new On(He.fromBase64String(t))}catch(i){throw new ot(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new On(He.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:On._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Uo(t,On._jsonSchema))return On.fromBase64String(t.bytes)}}On._jsonSchemaVersion="firestore/bytes/1.0",On._jsonSchema={type:Se("string",On._jsonSchemaVersion),bytes:Se("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oh{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new ot(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new qe(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tg{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gi{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new ot(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new ot(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Mt(this._lat,t._lat)||Mt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:gi._jsonSchemaVersion}}static fromJSON(t){if(Uo(t,gi._jsonSchema))return new gi(t.latitude,t.longitude)}}gi._jsonSchemaVersion="firestore/geoPoint/1.0",gi._jsonSchema={type:Se("string",gi._jsonSchemaVersion),latitude:Se("number"),longitude:Se("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pi{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(a,o){if(a.length!==o.length)return!1;for(let u=0;u<a.length;++u)if(a[u]!==o[u])return!1;return!0})(this._values,t._values)}toJSON(){return{type:pi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Uo(t,pi._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new pi(t.vectorValues);throw new ot(Z.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}pi._jsonSchemaVersion="firestore/vectorValue/1.0",pi._jsonSchema={type:Se("string",pi._jsonSchemaVersion),vectorValues:Se("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q4=/^__.*__$/;class Y4{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return this.fieldMask!==null?new Gr(t,this.data,this.fieldMask,i,this.fieldTransforms):new Po(t,this.data,i,this.fieldTransforms)}}class R1{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return new Gr(t,this.data,this.fieldMask,i,this.fieldTransforms)}}function w1(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw At(40011,{Ac:r})}}class eg{constructor(t,i,a,o,u,f){this.settings=t,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new eg({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const i=this.path?.child(t),a=this.Vc({path:i,fc:!1});return a.gc(t),a}yc(t){const i=this.path?.child(t),a=this.Vc({path:i,fc:!1});return a.Rc(),a}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return qc(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(w1(this.Ac)&&Q4.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class X4{constructor(t,i,a){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=a||ih(t)}Cc(t,i,a,o=!1){return new eg({Ac:t,methodName:i,Dc:a,path:qe.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ng(r){const t=r._freezeSettings(),i=ih(r._databaseId);return new X4(r._databaseId,!!t.ignoreUndefinedProperties,i)}function K4(r,t,i,a,o,u={}){const f=r.Cc(u.merge||u.mergeFields?2:0,t,i,o);ig("Data must be an object, but it was:",f,a);const m=C1(a,f);let p,y;if(u.merge)p=new En(f.fieldMask),y=f.fieldTransforms;else if(u.mergeFields){const E=[];for(const b of u.mergeFields){const S=im(t,b,i);if(!f.contains(S))throw new ot(Z.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);N1(E,S)||E.push(S)}p=new En(E),y=f.fieldTransforms.filter((b=>p.covers(b.field)))}else p=null,y=f.fieldTransforms;return new Y4(new cn(m),p,y)}class uh extends tg{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof uh}}function $4(r,t,i,a){const o=r.Cc(1,t,i);ig("Data must be an object, but it was:",o,a);const u=[],f=cn.empty();Fr(a,((p,y)=>{const E=rg(t,p,i);y=rn(y);const b=o.yc(E);if(y instanceof uh)u.push(E);else{const S=zo(y,b);S!=null&&(u.push(E),f.set(E,S))}}));const m=new En(u);return new R1(f,m,o.fieldTransforms)}function Z4(r,t,i,a,o,u){const f=r.Cc(1,t,i),m=[im(t,a,i)],p=[o];if(u.length%2!=0)throw new ot(Z.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let S=0;S<u.length;S+=2)m.push(im(t,u[S])),p.push(u[S+1]);const y=[],E=cn.empty();for(let S=m.length-1;S>=0;--S)if(!N1(y,m[S])){const U=m[S];let H=p[S];H=rn(H);const X=f.yc(U);if(H instanceof uh)y.push(U);else{const P=zo(H,X);P!=null&&(y.push(U),E.set(U,P))}}const b=new En(y);return new R1(E,b,f.fieldTransforms)}function J4(r,t,i,a=!1){return zo(i,r.Cc(a?4:3,t))}function zo(r,t){if(D1(r=rn(r)))return ig("Unsupported field value:",t,r),C1(r,t);if(r instanceof tg)return(function(a,o){if(!w1(o.Ac))throw o.Sc(`${a._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${a._methodName}() is not currently supported inside arrays`);const u=a._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(a,o){const u=[];let f=0;for(const m of a){let p=zo(m,o.wc(f));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),f++}return{arrayValue:{values:u}}})(r,t)}return(function(a,o){if((a=rn(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return jw(o.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const u=ne.fromDate(a);return{timestampValue:Pc(o.serializer,u)}}if(a instanceof ne){const u=new ne(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:Pc(o.serializer,u)}}if(a instanceof gi)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof On)return{bytesValue:KE(o.serializer,a._byteString)};if(a instanceof ve){const u=o.databaseId,f=a.firestore._databaseId;if(!f.isEqual(u))throw o.Sc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Mm(a.firestore._databaseId||o.databaseId,a._key.path)}}if(a instanceof pi)return(function(f,m){return{mapValue:{fields:{[SE]:{stringValue:RE},[Vc]:{arrayValue:{values:f.toArray().map((y=>{if(typeof y!="number")throw m.Sc("VectorValues must only contain numeric values.");return xm(m.serializer,y)}))}}}}}})(a,o);throw o.Sc(`Unsupported field value: ${Yc(a)}`)})(r,t)}function C1(r,t){const i={};return _E(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Fr(r,((a,o)=>{const u=zo(o,t.mc(a));u!=null&&(i[a]=u)})),{mapValue:{fields:i}}}function D1(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof ne||r instanceof gi||r instanceof On||r instanceof ve||r instanceof tg||r instanceof pi)}function ig(r,t,i){if(!D1(i)||!pE(i)){const a=Yc(i);throw a==="an object"?t.Sc(r+" a custom object"):t.Sc(r+" "+a)}}function im(r,t,i){if((t=rn(t))instanceof oh)return t._internalPath;if(typeof t=="string")return rg(r,t);throw qc("Field path arguments must be of type string or ",r,!1,void 0,i)}const W4=new RegExp("[~\\*/\\[\\]]");function rg(r,t,i){if(t.search(W4)>=0)throw qc(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new oh(...t.split("."))._internalPath}catch{throw qc(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function qc(r,t,i,a,o){const u=a&&!a.isEmpty(),f=o!==void 0;let m=`Function ${t}() called with invalid data`;i&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||f)&&(p+=" (found",u&&(p+=` in field ${a}`),f&&(p+=` in document ${o}`),p+=")"),new ot(Z.INVALID_ARGUMENT,m+r+p)}function N1(r,t){return r.some((i=>i.isEqual(t)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x1{constructor(t,i,a,o,u){this._firestore=t,this._userDataWriter=i,this._key=a,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new ve(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new tD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(ag("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class tD extends x1{data(){return super.data()}}function ag(r,t){return typeof t=="string"?rg(r,t):t instanceof oh?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I1(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ot(Z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class sg{}class eD extends sg{}function rm(r,t,...i){let a=[];t instanceof sg&&a.push(t),a=a.concat(i),(function(u){const f=u.filter((p=>p instanceof lg)).length,m=u.filter((p=>p instanceof ch)).length;if(f>1||f>0&&m>0)throw new ot(Z.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(a);for(const o of a)r=o._apply(r);return r}class ch extends eD{constructor(t,i,a){super(),this._field=t,this._op=i,this._value=a,this.type="where"}static _create(t,i,a){return new ch(t,i,a)}_apply(t){const i=this._parse(t);return V1(t._query,i),new Ha(t.firestore,t.converter,Qd(t._query,i))}_parse(t){const i=ng(t.firestore);return(function(u,f,m,p,y,E,b){let S;if(y.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new ot(Z.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){n0(b,E);const H=[];for(const X of b)H.push(e0(p,u,X));S={arrayValue:{values:H}}}else S=e0(p,u,b)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||n0(b,E),S=J4(m,f,b,E==="in"||E==="not-in");return be.create(y,E,S)})(t._query,"where",i,t.firestore._databaseId,this._field,this._op,this._value)}}function nD(r,t,i){const a=t,o=ag("where",r);return ch._create(o,a,i)}class lg extends sg{constructor(t,i){super(),this.type=t,this._queryConstraints=i}static _create(t,i){return new lg(t,i)}_parse(t){const i=this._queryConstraints.map((a=>a._parse(t))).filter((a=>a.getFilters().length>0));return i.length===1?i[0]:Kn.create(i,this._getOperator())}_apply(t){const i=this._parse(t);return i.getFilters().length===0?t:((function(o,u){let f=o;const m=u.getFlattenedFilters();for(const p of m)V1(f,p),f=Qd(f,p)})(t._query,i),new Ha(t.firestore,t.converter,Qd(t._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function e0(r,t,i){if(typeof(i=rn(i))=="string"){if(i==="")throw new ot(Z.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!OE(t)&&i.indexOf("/")!==-1)throw new ot(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const a=t.path.child(te.fromString(i));if(!vt.isDocumentKey(a))throw new ot(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return yv(r,new vt(a))}if(i instanceof ve)return yv(r,i._key);throw new ot(Z.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Yc(i)}.`)}function n0(r,t){if(!Array.isArray(r)||r.length===0)throw new ot(Z.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function V1(r,t){const i=(function(o,u){for(const f of o)for(const m of f.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null})(r.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(i!==null)throw i===t.op?new ot(Z.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new ot(Z.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${i.toString()}' filters.`)}class iD{convertValue(t,i="none"){switch(jr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return _e(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(kr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw At(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const a={};return Fr(t,((o,u)=>{a[o]=this.convertValue(u,i)})),a}convertVectorValue(t){const i=t.fields?.[Vc].arrayValue?.values?.map((a=>_e(a.doubleValue)));return new pi(i)}convertGeoPoint(t){return new gi(_e(t.latitude),_e(t.longitude))}convertArray(t,i){return(t.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const a=$c(t);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(Co(t));default:return null}}convertTimestamp(t){const i=Pr(t);return new ne(i.seconds,i.nanos)}convertDocumentKey(t,i){const a=te.fromString(t);qt(e1(a),9688,{name:t});const o=new Do(a.get(1),a.get(3)),u=new vt(a.popFirst(5));return o.isEqual(i)||Fi(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rD(r,t,i){let a;return a=r?r.toFirestore(t):t,a}class po{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Ua extends x1{constructor(t,i,a,o,u,f){super(t,i,a,o,f),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new bc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const a=this._document.data.field(ag("DocumentSnapshot.get",t));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ot(Z.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=Ua._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Ua._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ua._jsonSchema={type:Se("string",Ua._jsonSchemaVersion),bundleSource:Se("string","DocumentSnapshot"),bundleName:Se("string"),bundle:Se("string")};class bc extends Ua{data(t={}){return super.data(t)}}class La{constructor(t,i,a,o){this._firestore=t,this._userDataWriter=i,this._snapshot=o,this.metadata=new po(o.hasPendingWrites,o.fromCache),this.query=a}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((a=>{t.call(i,new bc(this._firestore,this._userDataWriter,a.key,a,new po(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ot(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map((m=>{const p=new bc(o._firestore,o._userDataWriter,m.doc.key,m.doc,new po(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:f++}}))}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const p=new bc(o._firestore,o._userDataWriter,m.doc.key,m.doc,new po(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,E=-1;return m.type!==0&&(y=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),E=f.indexOf(m.doc.key)),{type:aD(m.type),doc:p,oldIndex:y,newIndex:E}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ot(Z.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=La._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Sm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(i.push(u._document),a.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function aD(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return At(61501,{type:r})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sD(r){r=Mn(r,ve);const t=Mn(r.firestore,qr);return q4(lh(t),r._key).then((i=>M1(t,r,i)))}La._jsonSchemaVersion="firestore/querySnapshot/1.0",La._jsonSchema={type:Se("string",La._jsonSchemaVersion),bundleSource:Se("string","QuerySnapshot"),bundleName:Se("string"),bundle:Se("string")};class og extends iD{constructor(t){super(),this.firestore=t}convertBytes(t){return new On(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new ve(this.firestore,null,i)}}function am(r){r=Mn(r,Ha);const t=Mn(r.firestore,qr),i=lh(t),a=new og(t);return I1(r._query),H4(i,r._query).then((o=>new La(t,a,r,o)))}function lD(r,t,i,...a){r=Mn(r,ve);const o=Mn(r.firestore,qr),u=ng(o);let f;return f=typeof(t=rn(t))=="string"||t instanceof oh?Z4(u,"updateDoc",r._key,t,i,a):$4(u,"updateDoc",r._key,t),cg(o,[f.toMutation(r._key,Yn.exists(!0))])}function O1(r){return cg(Mn(r.firestore,qr),[new Im(r._key,Yn.none())])}function ug(r,t){const i=Mn(r.firestore,qr),a=Jm(r),o=rD(r.converter,t);return cg(i,[K4(ng(r.firestore),"addDoc",a._key,o,r.converter!==null,{}).toMutation(a._key,Yn.exists(!1))]).then((()=>a))}function oD(r,...t){r=rn(r);let i={includeMetadataChanges:!1,source:"default"},a=0;typeof t[a]!="object"||t0(t[a])||(i=t[a++]);const o={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(t0(t[a])){const p=t[a];t[a]=p.next?.bind(p),t[a+1]=p.error?.bind(p),t[a+2]=p.complete?.bind(p)}let u,f,m;if(r instanceof ve)f=Mn(r.firestore,qr),m=Zc(r._key.path),u={next:p=>{t[a]&&t[a](M1(f,r,p))},error:t[a+1],complete:t[a+2]};else{const p=Mn(r,Ha);f=Mn(p.firestore,qr),m=p._query;const y=new og(f);u={next:E=>{t[a]&&t[a](new La(f,y,p,E))},error:t[a+1],complete:t[a+2]},I1(r._query)}return(function(y,E,b,S){const U=new Zm(S),H=new Xm(E,U,b);return y.asyncQueue.enqueueAndForget((async()=>Gm(await zc(y),H))),()=>{U.Nu(),y.asyncQueue.enqueueAndForget((async()=>Qm(await zc(y),H)))}})(lh(f),m,o,u)}function cg(r,t){return(function(a,o){const u=new zi;return a.asyncQueue.enqueueAndForget((async()=>x4(await z4(a),o,u))),u.promise})(lh(r),t)}function M1(r,t,i){const a=i.docs.get(t._key),o=new og(r);return new Ua(r,o,t._key,a,new po(i.hasPendingWrites,i.fromCache),t.converter)}(function(t,i=!0){(function(o){Js=o})(k0),So(new qs("firestore",((a,{instanceIdentifier:o,options:u})=>{const f=a.getProvider("app").getImmediate(),m=new qr(new ZR(a.getProvider("auth-internal")),new tw(f,a.getProvider("app-check-internal")),(function(y,E){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new ot(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Do(y.options.projectId,E)})(f,o),f);return u={useFetchStreams:i,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),Or(rv,av,t),Or(rv,av,"esm2020")})();const hg={apiKey:"AIzaSyBYC0Z_pFue4VDkwat4pRUz71_VmL3xI3Q",authDomain:"test-socialbook.firebaseapp.com",databaseURL:"https://test-socialbook-default-rtdb.asia-southeast1.firebasedatabase.app",projectId:"test-socialbook",storageBucket:"test-socialbook.appspot.com",messagingSenderId:"504297655058",appId:"1:504297655058:web:b18fd06b52a2a8e4dbc1cb",measurementId:"G-V62SF3W1J8"},U1=Gc(hg),i0=Wm(U1),uD=sE(U1),r0={itemName:"",shortDescription:"",productDescription:"",sellPrice:"",regularPrice:"",buyingPrice:"",productSerial:0,skuCode:"",unitName:"",quantityStock:0,warranty:"",initialSoldCount:0,brandName:"",condition:"New",productStatus:"ACTIVE",categoryId:"",imageUrls:[]},cD=()=>{const[r,t]=Y.useState(r0),[i,a]=Y.useState([]),[o,u]=Y.useState(!0),[f,m]=Y.useState(!0),[p,y]=Y.useState([]),[E,b]=Y.useState(!1),[S,U]=Y.useState({visible:!1,message:"",type:""});Y.useEffect(()=>{(async()=>{u(!0);try{const N=rm(Ma(i0,"categories")),R=await am(N),w=[];R.forEach(O=>{w.push({id:O.id,name:O.data().name})}),a(w),w.length>0&&t(O=>({...O,categoryId:w[0].id}))}catch(N){console.error("Error fetching categories: ",N)}finally{u(!1)}})()},[]);const H=(ut,N="success")=>{U({visible:!0,message:ut,type:N}),setTimeout(()=>{U({visible:!1,message:"",type:""})},3e3)},X=()=>{const ut=i.length>0?i[0].id:"";t({...r0,categoryId:ut}),y([])},P=ut=>{const{id:N,value:R}=ut.target,O=["sellPrice","regularPrice","buyingPrice","productSerial","quantityStock","initialSoldCount"].includes(N)?Number(R):R;t(I=>({...I,[N]:O,categoryId:N==="categorySelect"?R:I.categoryId}))},nt=()=>{m(!f)},tt=ut=>{const N=Array.from(ut.target.files);if(N.length>0){const R=N.map(w=>({file:w,preview:URL.createObjectURL(w),id:Date.now()+Math.random()}));y(w=>[...w,...R])}ut.target.value=null},it=ut=>{y(N=>N.filter(R=>R.id!==ut))},mt=async ut=>{if(ut.length===0)return[];try{b(!0);const N=ut.map(async w=>{const O=w.file,I=jd(uD,`product_images/${Date.now()}_${O.name}`);return await rE(I,O),await aE(I)}),R=await Promise.all(N);return b(!1),R}catch(N){return console.error("Error uploading images to Firebase Storage:",N),b(!1),H("এক বা একাধিক ইমেজ আপলোড ব্যর্থ হয়েছে।","error"),null}},ht=async()=>{if(!r.itemName||!r.categoryId||r.sellPrice<=0){H("অনুগ্রহ করে আইটেমের নাম, ক্যাটেগরি এবং বর্তমান দাম পূরণ করুন।","error");return}let ut=r.imageUrls;if(p.length>0){const N=await mt(p);if(!N)return;ut=N}try{const N={...r,imageUrls:ut,sellPrice:Number(r.sellPrice),regularPrice:Number(r.regularPrice)||0,buyingPrice:Number(r.buyingPrice)||0,quantityStock:Number(r.quantityStock)||0,productSerial:Number(r.productSerial)||0,initialSoldCount:Number(r.initialSoldCount)||0,createdAt:new Date};await ug(Ma(i0,"products"),N),H(`Product '${r.itemName}' successfully saved!`,"success"),X()}catch(N){console.error("Error adding product: ",N),H("প্রোডাক্ট সেভ করতে সমস্যা হয়েছে।","error")}};return C.jsxs("div",{className:"add-product-main-content",children:[S.visible&&C.jsx(hD,{message:S.message,type:S.type}),C.jsxs("div",{className:"action-buttons-container",children:[C.jsx("h3",{children:"Add Product"}),C.jsxs("div",{className:"button-group",children:[C.jsxs("button",{className:"action-button discard-button",onClick:X,children:[C.jsx("span",{className:"button-icon",children:"×"}),"Discard"]}),C.jsxs("button",{className:"action-button save-button",onClick:ht,disabled:E,children:[C.jsx("span",{className:"button-icon",children:"✓"}),E?"Uploading...":"Save"]})]})]}),C.jsxs("div",{className:"mainContent",children:[C.jsxs("section",{className:"sidebar-section category-selection-section",children:[C.jsxs("div",{className:"section-header",onClick:nt,children:[C.jsxs("h3",{className:"section-title",children:["Category ",C.jsx("span",{className:"required",children:"*"})]}),C.jsx("span",{className:"toggle-icon",children:f?C.jsx(Us,{}):C.jsx(vd,{})})]}),f&&C.jsx("div",{className:"sidebar-content",children:o?C.jsx("p",{children:"Loading categories..."}):i.length===0?C.jsx("p",{children:"No categories found. Please add categories first in the Categories page."}):C.jsxs("select",{className:"sidebar-select category-select",id:"categorySelect",value:r.categoryId,onChange:P,children:[C.jsx("option",{value:"",disabled:!0,children:"Select a Category"}),i.map(ut=>C.jsx("option",{value:ut.id,children:ut.name},ut.id))]})})]}),C.jsxs("section",{className:"product-form-section",children:[C.jsxs("div",{className:"section-header",children:[" ",C.jsx("h3",{className:"section-title",children:"General Information"})," ",C.jsx("span",{className:"toggle-icon",children:C.jsx(vd,{})})," "]}),C.jsxs("div",{className:"section-content",children:[C.jsxs("div",{className:"form-group",children:[C.jsxs("label",{htmlFor:"itemName",children:["Item Name ",C.jsx("span",{className:"required",children:"*"})]}),C.jsx("input",{type:"text",id:"itemName",placeholder:"Item Name",value:r.itemName,onChange:P})," "]}),C.jsxs("div",{className:"form-group",children:[C.jsx("label",{htmlFor:"shortDescription",children:"Short Description (SEO & Data Feed)"}),C.jsx("textarea",{id:"shortDescription",rows:"3",placeholder:"Short Description",value:r.shortDescription,onChange:P})]}),C.jsxs("div",{className:"form-group product-description-group",children:[C.jsx("label",{htmlFor:"productDescription",children:"Product Description"}),C.jsxs("div",{className:"rich-text-editor-container",children:[C.jsx("div",{className:"editor-toolbar"}),C.jsx("div",{className:"editor-content",children:C.jsx("textarea",{id:"productDescription",rows:"4",placeholder:"Write something...",value:r.productDescription,onChange:P})})]})]})]})]}),C.jsxs("section",{className:"media-form-section",children:[C.jsxs("div",{className:"section-header",children:[" ",C.jsxs("h3",{className:"section-title",children:["Media (",p.length," Images)"]})," ",C.jsx("span",{className:"toggle-icon",children:C.jsx(Us,{})})," "]}),C.jsxs("div",{className:"section-content",children:[C.jsx("div",{className:"image-previews-grid",children:p.map(ut=>C.jsxs("div",{className:"image-preview-container",children:[C.jsx("img",{src:ut.preview,alt:"Product Preview",className:"product-image-preview"}),C.jsx("button",{className:"remove-image-button",onClick:()=>it(ut.id),children:C.jsx(a2,{})})]},ut.id))}),C.jsxs("div",{className:"upload-box image-upload-box",children:[C.jsx("input",{type:"file",id:"imageUpload",accept:"image/jpeg, image/png",onChange:tt,multiple:!0,style:{display:"none"},disabled:E}),C.jsx("div",{className:"upload-icon",children:C.jsx(r2,{})}),E?C.jsx("p",{className:"upload-text",children:"Uploading... Please wait."}):C.jsx("p",{className:"upload-text",children:"Drag and drop images here, or click add images. Max 4MB each."}),C.jsx("button",{className:"add-button",onClick:()=>document.getElementById("imageUpload").click(),disabled:E,children:"Add More Images"})]})]})]}),C.jsxs("section",{className:"pricing-form-section product-form-section",children:[C.jsxs("div",{className:"section-header",children:[C.jsx("h3",{className:"section-title",children:"Pricing"}),C.jsx("span",{className:"toggle-icon",children:C.jsx(Us,{})})]}),C.jsxs("div",{className:"section-content",children:[C.jsxs("div",{className:"form-group",children:[C.jsxs("label",{htmlFor:"sellPrice",children:["Sell/Current Price ",C.jsx("span",{className:"required",children:"*"})]}),C.jsx("input",{type:"number",id:"sellPrice",placeholder:"Sell/Current Price",className:"price-input",min:"0",value:r.sellPrice,onChange:P})]}),C.jsxs("div",{className:"form-group",children:[C.jsx("label",{htmlFor:"regularPrice",children:"Regular/Old Price"}),C.jsx("input",{type:"number",id:"regularPrice",placeholder:"Regular/Old Price",className:"price-input",min:"0",value:r.regularPrice,onChange:P})]}),C.jsxs("div",{className:"form-group",children:[C.jsx("label",{htmlFor:"buyingPrice",children:"Buying Price (Optional)"}),C.jsx("input",{type:"number",id:"buyingPrice",placeholder:"Buying Price (Optional)",className:"price-input",min:"0",value:r.buyingPrice,onChange:P})]})]})]}),C.jsxs("section",{className:"inventory-form-section product-form-section",children:[C.jsxs("div",{className:"section-header",children:[C.jsx("h3",{className:"section-title",children:"Inventory"}),C.jsx("span",{className:"toggle-icon",children:C.jsx(Us,{})})," "]}),C.jsxs("div",{className:"section-content",children:[C.jsxs("div",{className:"form-group",children:[C.jsx("label",{htmlFor:"productSerial",children:"Product Serial"}),C.jsx("input",{type:"number",id:"productSerial",placeholder:"0",className:"inventory-input",min:"0",value:r.productSerial,onChange:P})]}),C.jsxs("div",{className:"form-group",children:[C.jsx("label",{htmlFor:"skuCode",children:"SKU / Product Code"}),C.jsx("input",{type:"text",id:"skuCode",placeholder:"SKU / Product Code",className:"inventory-input",value:r.skuCode,onChange:P})]}),C.jsxs("div",{className:"form-group",children:[C.jsx("label",{htmlFor:"unitName",children:"Unit Name"}),C.jsx("input",{type:"text",id:"unitName",placeholder:"e.g., kg, ml, l, mg",className:"inventory-input",value:r.unitName,onChange:P})]}),C.jsxs("div",{className:"form-group",children:[C.jsx("label",{htmlFor:"quantityStock",children:"Quantity (Stock)"}),C.jsx("input",{type:"number",id:"quantityStock",placeholder:"Quantity (Stock)",className:"inventory-input",min:"0",value:r.quantityStock,onChange:P})]}),C.jsxs("div",{className:"form-group",children:[C.jsx("label",{htmlFor:"warranty",children:"Warranty"}),C.jsx("input",{type:"text",id:"warranty",placeholder:"Warranty",className:"inventory-input",value:r.warranty,onChange:P})]}),C.jsxs("div",{className:"form-group",children:[C.jsx("label",{htmlFor:"initialSoldCount",children:"Initial Sold Count"}),C.jsx("input",{type:"number",id:"initialSoldCount",placeholder:"0",className:"inventory-input",min:"0",value:r.initialSoldCount,onChange:P})]})]})]}),C.jsxs("section",{className:"sidebar-section brand-section",children:[C.jsxs("div",{className:"section-header",children:[C.jsx("h3",{className:"section-title",children:"Brand (SEO & Data Feed)"}),C.jsx("span",{className:"toggle-icon",children:C.jsx(Us,{})})]}),C.jsx("div",{className:"sidebar-content",children:C.jsx("input",{type:"text",placeholder:"Brand Name",className:"sidebar-input brand-input",id:"brandName",value:r.brandName,onChange:P})})]}),C.jsxs("section",{className:"sidebar-section condition-section",children:[C.jsxs("div",{className:"section-header",children:[C.jsx("h3",{className:"section-title",children:"Condition (SEO & Data Feed)"}),C.jsx("span",{className:"toggle-icon",children:C.jsx(Us,{})})]}),C.jsx("div",{className:"sidebar-content",children:C.jsxs("select",{className:"sidebar-select condition-select",id:"condition",value:r.condition,onChange:P,children:[C.jsx("option",{value:"New",children:"New"}),C.jsx("option",{value:"Used",children:"Used"}),C.jsx("option",{value:"Refurbished",children:"Refurbished"})]})})]}),C.jsxs("section",{className:"sidebar-section status-section",children:[C.jsxs("div",{className:"section-header",children:[C.jsx("h3",{className:"section-title",children:"Product Status"}),C.jsx("span",{className:"toggle-icon",children:C.jsx(vd,{})})]}),C.jsx("div",{className:"sidebar-content",children:C.jsxs("select",{className:"sidebar-select status-select",id:"productStatus",value:r.productStatus,onChange:P,children:[C.jsx("option",{value:"ACTIVE",children:"ACTIVE"}),C.jsx("option",{value:"INACTIVE",children:"INACTIVE"}),C.jsx("option",{value:"DRAFT",children:"DRAFT"})]})})]})]})]})},hD=({message:r,type:t})=>C.jsx("div",{className:`toast-message toast-${t}`,children:r});function fD(r){return Un({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"5",x2:"12",y2:"19"},child:[]},{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"},child:[]}]})(r)}function dD(r){return Un({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"3 6 5 6 21 6"},child:[]},{tag:"path",attr:{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"},child:[]},{tag:"line",attr:{x1:"10",y1:"11",x2:"10",y2:"17"},child:[]},{tag:"line",attr:{x1:"14",y1:"11",x2:"14",y2:"17"},child:[]}]})(r)}const mD=Gc(hg),gc=Wm(mD);console.log("🔥 Firebase App Successfully Initialized and Database Connected!");const gD=()=>{const[r,t]=Y.useState([]),[i,a]=Y.useState(""),[o,u]=Y.useState(!0),[f,m]=Y.useState(!1),p=i.trim()==="",y=async S=>{m(!0);const U=Ma(gc,"products"),H=await Promise.all(S.map(async X=>{try{const P=rm(U,nD("categoryId","==",X.id)),tt=(await am(P)).size;return{...X,totalItems:tt}}catch(P){return console.error(`Error counting items for category ${X.name}: `,P),{...X,totalItems:0}}}));t(H),m(!1)};Y.useEffect(()=>{(async()=>{u(!0);try{const U=rm(Ma(gc,"categories")),H=await am(U),X=[];H.forEach(P=>{X.push({id:P.id,...P.data(),totalItems:0})}),t(X),X.length>0&&await y(X)}catch(U){console.error("Error fetching categories: ",U),alert("ক্যাটেগরি লোড করতে সমস্যা হয়েছে।")}finally{u(!1)}})()},[]);const E=async()=>{const S=i.trim();if(S!=="")try{const U={name:S,totalItems:0,createdAt:new Date},H=await ug(Ma(gc,"categories"),U),X={...U,id:H.id};t([X,...r]),a("")}catch(U){console.error("Error adding document: ",U),alert("ক্যাটেগরি যুক্ত করতে সমস্যা হয়েছে।")}},b=async(S,U)=>{if(window.confirm(`Are you sure you want to delete the category: "${U}"?`))try{await O1(Jm(gc,"categories",S));const H=r.filter(X=>X.id!==S);t(H),alert(`Category "${U}" successfully deleted.`)}catch(H){console.error("Error removing document: ",H),alert("ক্যাটেগরি ডিলিট করতে সমস্যা হয়েছে।")}};return C.jsxs("div",{className:"category-list-page",children:[C.jsxs("header",{className:"page-header",children:[C.jsx("h2",{className:"page-title",children:"Categories"}),C.jsx("div",{className:"header-actions",children:C.jsxs("div",{className:"category-input-group",children:[C.jsx("input",{type:"text",placeholder:"Enter new category name...",value:i,onChange:S=>a(S.target.value),onKeyPress:S=>{S.key==="Enter"&&!p&&E()}}),C.jsxs("button",{className:"add-category-button-page",onClick:E,disabled:p,children:[C.jsx(fD,{className:"plus-icon-react"}),"Add Category"]})]})})]}),C.jsxs("div",{className:"category-table-container",children:[(o||f)&&C.jsx("div",{className:"loading-message",children:o?"Loading Categories...":"Counting items..."}),!o&&C.jsxs("table",{className:"category-table",children:[C.jsx("thead",{children:C.jsxs("tr",{children:[C.jsx("th",{className:"th-category",children:"Category Name"}),C.jsx("th",{className:"th-item-count",children:"Total Item"}),C.jsx("th",{className:"th-action",children:"Action"})]})}),C.jsx("tbody",{children:r.map(S=>C.jsxs("tr",{children:[C.jsx("td",{children:C.jsx("div",{className:"category-details",children:C.jsx("div",{className:"category-name",children:S.name})})}),C.jsx("td",{children:f?"-":S.totalItems||0}),C.jsx("td",{children:C.jsx("div",{className:"action-buttons-table",children:C.jsx("button",{className:"action-button-table delete-button",onClick:()=>b(S.id,S.name),title:"Delete Category",children:C.jsx(dD,{})})})})]},S.id))})]}),!o&&r.length===0&&C.jsx("div",{className:"no-data-message",children:"No categories found. Start by adding a new category above."})]})]})},L1=Gc(hg),a0=sE(L1),sm=Wm(L1),pD=()=>{const[r,t]=Y.useState([]);return Y.useEffect(()=>{const i=Ma(sm,"bannerImages"),a=oD(i,o=>{const u=[];o.forEach(f=>{const m=f.data();m.urls&&Array.isArray(m.urls)&&m.urls.forEach(p=>{u.push({url:p,docId:f.id})})}),t(u)},o=>{console.error("Error fetching banners: ",o)});return()=>a()},[]),r},yD=()=>{const[r,t]=Y.useState([]),[i,a]=Y.useState([]),[o,u]=Y.useState(!1),f=Y.useRef(null),m=pD(),[p,y]=Y.useState(0),[E,b]=Y.useState(!1),[S,U]=Y.useState(0),[H,X]=Y.useState(0),[P,nt]=Y.useState(0),tt=Y.useRef(null),it=Y.useCallback(()=>tt.current?tt.current.clientWidth:0,[]),mt=Y.useCallback(_t=>{const gt=m.length>0?m.length-1:0;let Q=Math.max(0,Math.min(gt,_t));y(Q);const rt=-Q*it();X(rt),nt(rt)},[m.length,it]),ht=_t=>{if(o||m.length<2)return;b(!0),U(_t.clientX||_t.touches[0].clientX),nt(H);const gt=tt.current.querySelector(".slider-track");gt&&(gt.style.transition="none")},ut=_t=>{if(!E)return;const Q=(_t.clientX||_t.touches[0].clientX)-S,rt=P+Q;X(rt)},N=()=>{if(!E)return;b(!1);const _t=tt.current.querySelector(".slider-track");_t&&(_t.style.transition="transform 0.5s ease-in-out");const gt=H-P,Q=it()*.25;gt<-Q?mt(p+1):gt>Q?mt(p-1):mt(p)},R=_t=>{mt(_t)};Y.useEffect(()=>{mt(p)},[m.length,it,mt]);const w=async _t=>{if(window.confirm("আপনি কি নিশ্চিত এই ব্যানার ইমেজটি ডিলিট করতে চান? এই প্রক্রিয়াটি অপরিবর্তনীয়।"))try{const Q=_t.url.match(/banners%2F(.*?)\?alt=media/),rt=Q?decodeURIComponent(Q[1]):null;if(rt){const lt=jd(a0,`banners/${rt}`);await GR(lt)}const ct=Jm(sm,"bannerImages",_t.docId),V=(await sD(ct)).data();if(V.urls.length>1){const lt=V.urls.filter(st=>st!==_t.url);await lD(ct,{urls:lt})}else await O1(ct);alert("Banner image successfully deleted.");const et=m.length-1;p>=et&&et>0?y(et-1):et===0&&y(0)}catch(Q){console.error("Error deleting image:",Q),alert("Error deleting image. Check console for details.")}},O=_t=>{const gt=_t.target.files;if(gt.length===0)return;const Q=Array.from(gt);t(ct=>[...ct,...Q]);const rt=Q.map(ct=>URL.createObjectURL(ct));a(ct=>[...ct,...rt]),_t.target.value=null},I=_t=>{const gt=r.filter((rt,ct)=>ct!==_t),Q=i.filter((rt,ct)=>ct!==_t);URL.revokeObjectURL(i[_t]),t(gt),a(Q)},k=()=>{f.current.click()},x=async()=>{if(r.length===0){alert("অনুগ্রহ করে আপলোড করার জন্য অন্তত একটি ইমেজ নির্বাচন করুন।");return}u(!0);const _t=[];try{for(const gt of r){const Q=jd(a0,`banners/${Date.now()}_${gt.name}`),rt=await rE(Q,gt),ct=await aE(rt.ref);_t.push(ct)}await ug(Ma(sm,"bannerImages"),{urls:_t,uploadDate:new Date}),alert(`সাফল্যের সাথে ${r.length}টি ইমেজ আপলোড হয়েছে!`),t([]),i.forEach(gt=>URL.revokeObjectURL(gt)),a([])}catch(gt){console.error("Upload failed:",gt),alert("ইমেজ আপলোড ব্যর্থ হয়েছে। কনসোল দেখুন।")}finally{u(!1)}};return C.jsxs("div",{className:"admin-dashboard-container",children:[m.length>0&&C.jsxs("div",{className:"banner-slider-container",ref:tt,onMouseDown:ht,onMouseMove:ut,onMouseUp:N,onMouseLeave:E?N:void 0,onTouchStart:ht,onTouchMove:ut,onTouchEnd:N,children:[C.jsx("h2",{className:"section-title",children:"Live Banners"}),C.jsx("div",{className:"slider-track",style:{width:`${m.length*100}%`,transform:`translateX(${H}px)`,cursor:E?"grabbing":"grab"},children:m.map((_t,gt)=>C.jsxs("div",{className:"slide-item",style:{width:`${100/m.length}%`},children:[C.jsx("img",{src:_t.url,alt:`Banner ${gt}`,className:"banner-image-display"}),C.jsx("button",{className:"delete-icon-button live-delete-btn",onClick:()=>w(_t),title:"Delete Banner Permanently",children:C.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[C.jsx("polyline",{points:"3 6 5 6 21 6"}),C.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"}),C.jsx("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),C.jsx("line",{x1:"14",y1:"11",x2:"14",y2:"17"})]})})]},gt))}),C.jsx("div",{className:"slider-dots",children:m.map((_t,gt)=>C.jsx("span",{className:`dot ${gt===p?"active":""}`,onClick:()=>R(gt),title:`Go to slide ${gt+1}`},gt))})]}),C.jsxs("div",{className:"image-uploader-container",children:[C.jsx("div",{className:"header",children:"Banner/Cover Upload"}),C.jsxs("div",{className:"upload-box",children:[C.jsx("div",{className:"icon-placeholder",children:C.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"#9370DB",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",className:"image-icon",children:[C.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),C.jsx("circle",{cx:"8.5",cy:"8.5",r:"1.5"}),C.jsx("polyline",{points:"21 15 16 10 5 21"})]})}),C.jsxs("p",{className:"upload-text",children:["Upload a banner image for the category. Recommended size is"," ",C.jsx("strong",{className:"recommended-size",children:"1300×380 pixels"}),". Maximum file size is"," ",C.jsx("strong",{className:"max-size",children:"4MB"}),"."]}),C.jsx("button",{className:"add-image-button",onClick:k,disabled:o,children:r.length>0?`Add More Images (${r.length} Selected)`:"Add Image"}),C.jsx("input",{type:"file",accept:"image/*",style:{display:"none"},multiple:!0,onChange:O,ref:f})]}),i.length>0&&C.jsxs("div",{className:"previews-section",children:[C.jsxs("h3",{children:["Selected Images (",i.length,")"]}),C.jsx("div",{className:"image-previews-grid",children:i.map((_t,gt)=>C.jsxs("div",{className:"image-preview-item",children:[C.jsx("img",{src:_t,alt:`Preview ${gt+1}`,className:"preview-image"}),C.jsx("button",{className:"cancel-preview-button",onClick:()=>I(gt),title:"Cancel this selection",children:C.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",children:[C.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),C.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]},gt))}),C.jsx("button",{className:"upload-all-button fancy-upload-btn",onClick:x,disabled:o,children:o?C.jsxs(C.Fragment,{children:[C.jsx("svg",{className:"spinner",viewBox:"0 0 50 50",children:C.jsx("circle",{className:"path",cx:"25",cy:"25",r:"20",fill:"none",strokeWidth:"5"})}),"Uploading..."]}):`Upload ${r.length} Images`})]})]})]})},s0={mainLayout:{display:"flex",width:"100vw",minHeight:"100vh",margin:0,padding:0},contentArea:{flexGrow:1,width:"100%",paddingLeft:"50px",paddingRight:"50px",paddingTop:"20px",paddingBottom:"20px",backgroundColor:"#f8f9fa",overflowY:"auto"}};function _D(){return C.jsx(Mb,{children:C.jsxs("div",{style:s0.mainLayout,children:[C.jsx(n2,{}),C.jsx("main",{style:s0.contentArea,children:C.jsxs(hb,{children:[C.jsx(Ls,{path:"/",element:C.jsx(ub,{to:"/home",replace:!0})}),C.jsx(Ls,{path:"/home",element:C.jsx(i2,{})}),C.jsx(Ls,{path:"/Products",element:C.jsx(cD,{})}),C.jsx(Ls,{path:"/Categories",element:C.jsx(gD,{})}),C.jsx(Ls,{path:"/BannerAds",element:C.jsx(yD,{})})]})})]})})}EA.createRoot(document.getElementById("root")).render(C.jsx(Y.StrictMode,{children:C.jsx(_D,{})}));
